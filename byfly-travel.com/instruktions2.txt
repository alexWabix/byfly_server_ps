Ты помогаешь мне писать код мобильного приложения и серверной части! Мое приложение пишется на Flutter Dart, а сервер на php. 

Все необходимые экраны на flutter пиши в темном градиентном стиле основные цвета фиолетовы и темный для градиентов, все экраны пишем в хайтек современном эстетичном стиле, следи за цветом текста где нужно делай белый где нужно темный следи за фонами, старайся добавлять динамики и анимации на страницы не используй нигде ScafoldMessage делай везде красивые и эстетичные алерты.

Вспомогательные функции на Dart Flutter:

1) Отправка сообщений в WHatsapp пользователям: whatsapp_send(mess: {Тут строка с сообщением! Переносы строк делаем через \n}, phone: 'Телефон куда отправляем', context: context);
2) Вывод стоиомости разбивает на разряды и сумирует согласно выбранной валюте и добавляет иконку валюты в системе:  priceText(price: (Сумма в формате INT), style: (TextStyle пишем стили для текста), iconSize: (Размер иконки в формате INT))
3) Просто вывод сумм + автоматическая конвертация в валюту priceTextString(price: (Сумма в формате INT))
4) context.read<GlobalSearchTours>().userInfo[''] - Если пользователь авторизован тут храняться все данные о нем из таблицы users
5) context.read<GlobalSearchTours>().isAgent; - Является агентом или нет;
6) context.read<GlobalSearchTours>().isAuthUser; - Авторизован или нет;
7) Обращение к базе данных: 
     await db(sql: "(SQL запрос)", context: context).then((data){
      if(data['type']){
        //Успешно выполнено
        //data['data'] - Тут находяться данные массивом если получаем что то
      }else{
        //Ошибка выполения запроса
        //data['msg'] - Описание ошибки
      }
    });
8) Обращение к api серверу:
    await api(body: {
        "method": "Тут пишем метод папка и файл на сервере, на него автоматом подключаются соединения к  базе данных",
        //Прочие данные которые нужно передать на сервер
    }, context: context).then((data){
        if(data['type']){
        //Успешно выполнено
        //data['data'] - тут ответ от сервера
        }else{
        //ПРоизошла ошибка
        //data['msg'] - Тут описание ошибки
        }
    });
9) Загрузка файлов на сервер без получения процента загрузки:
    apiMedia(file: XFile, body: {
        "method": 'load/load_file', //Тут обязательно такой метод
        "folder": 'images/test', //Тут указываем в какую папку загрузить файл если ее нет она создасться автоматический
    }, context: context).then((url){
        if(url['type']){
        //Успешно загружено URL получен
        //url['data'] - Тут URL загруженного файла
        }else{
        //Не удалось загрузить файл
        //url['msg'] - описание ошибки
        }
    });
10) Загрузка файлов на сервер с получением процента загрузки:
    apiMediaWithSubscription(
      file: XFile,
      body: {
        "method": 'load/load_file', //Тут обязательно такой метод
        "folder":
            'images/test', //Тут указываем в какую папку загрузить файл если ее нет она создасться автоматический
      },
      onProgress: (percent) {
        //percent процент загрузки файла от 0.0 до 1.0 везде преобразуем в проценты от 0 до 100%
      },
      onComplete: (data) {
        //Файл успешно загружен
        //data['data'] - тут возвращается URL загруженного файла
      },
      onError: (err) {
        //Не удалось загрузить файл
        //err описание ошибки загрузки
      },
    );
11) Перевод текста:
    String text = await translateText(text: 'Текст который нужно перевести', lang: 'ru-RU', context: context);



Как работает PHP:


1) На любую страницу так мы подключаем конфигурацию она хранит в себе подключение к базе данных и прочие переменные необходимые для работы: include('/var/www/www-root/data/www/api.v.2.byfly.kz/config.php'); если приложение обращается через api то это уже подключено автоматический к скриптам php файл содержит в себе следующее:
    $domain = 'https://api.v.2.byfly.kz/'; - Домен где расположено api
    $dir = '/var/www/www-root/data/www/api.v.2.byfly.kz/'; - Директория api

    $db_host = 'localhost'; - Подключение к базе данных
    $db_user = 'by_fly'; - Подключение к базе данных
    $db_pass = '2350298awe'; - Подключение к базе данных
    $db_name = 'byfly.2.0'; - Подключение к базе данных
    $db_name_offer = 'by_fly'; - Подключение к базе данных



    $tourvisor_login = 'byfly.kz@mail.ru'; - Логин от Tourvisor
    $tourvisor_password = 'bj5mkJ02mFVr'; - Пароль от TourVisor
    $domainApi = 'https://api.v.2.byfly.kz/'; - Домен куда обращается api


    $db = new mysqli($db_host, $db_user, $db_pass, $db_name); -- Само подключение к базе данных
    $db->set_charset("utf8mb4");

    $genVideoApi = '7dbb21d0520f883568401d49d5b0ad72a1bb790d'; -- Ключ от API генератора видеороликов GenVideo


    //Так же тут же выполняется проверка на совединение с базой данных

    if ($db->connect_error) {
        $resp = array(
            "type" => false,
            "msg" => "Error database connection!",
        );
        echo json_encode($resp, JSON_UNESCAPED_UNICODE);
        exit;
    }


    function sendCall($phone, $text) // Функция отправляет звонок на телефон пользователю
    function sendWhatsapp($phone, $text) // Функция отправляет сообщение на whatsapp пользователю надо сообщение писать одной строкой и перенос делать через \n и использовать смайлы
    function sendWhatsappGroup($group, $text) // Функция отправляет сообщение на whatsapp в группу надо сообщение писать одной строкой и перенос делать через \n и использовать смайлы

    getUserParams($id) // Получение всей информации о пользователе по его id
    sendWhatsappGroupVideo($group, $videoUrl, $caption) / Отправить в группу в WHATSAPP видео
    checkNumberFromWhatsapp($phone) // Проверить зарегистрирован ли номер в WHATSAPP
    adminNotification($msg) // Создать уведомление для админа


СТРУКТУРА БАЗЫ ДАННЫХ
Сгенерировано: 20.06.2025 16:37
==================================================

ТАБЛИЦА: about
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи в базе данных

• html_ru
  Тип: longtext
  Комментарий: Описание компании на русском HTML

• html_kk
  Тип: longtext
  Комментарий: Описание компании на казахском HTML

• html_en
  Тип: longtext
  Комментарий: Описание компании на английском HTML



ТАБЛИЦА: addTours
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи в базе данных

• count
  Тип: int(11)
  Комментарий: У нас есть статистика по кол-ву проданных туров в системе это число прибавляется к общему кол-ву


ТАБЛИЦА: agents_content_plan
Таблица которая хранит в себе данные для генерации видеороликов нашим агентам система каждый день согласно контент плана создает видео и для наших агентов и публикует их в их соц. сети и группы в ватсап
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи внутри системы

• date_create
  Тип: text
  Комментарий: Дата создания записи в формате Y-m-d H:is

• link_video
  Тип: text
  Комментарий: Если видео сгенерировано то тут будет ссылка на видео ролик

• title
  Тип: text
  Комментарий: Заголовок создаваемого видео ролика

• prompt
  Тип: text
  Комментарий: Запрос для генерации видео в системе VideoGen

• user_id
  Тип: int(11)
  Комментарий: ID пользователя которому генерируется видео

• whatsapp_public
  Тип: int(11)
  Комментарий: 0 или 1, 0 не опубликовано в WHATSAPP, 1 - Опубликовано в WHATSAPP

• tiktok_public
  Тип: int(11)
  Комментарий: 0 или 1, 0 не опубликовано в TIKTOK, 1 - Опубликовано в TIKTOK

• youtube_public
  Тип: int(11)
  Комментарий: 0 или 1, 0 не опубликовано в Youtube, 1 - Опубликовано в Youtube

• facebook_public
  Тип: int(11)
  Комментарий: 0 или 1, 0 не опубликовано в Facebook, 1 - Опубликовано в Facebook

• instagram_publc
  Тип: int(11)
  Комментарий: 0 или 1, 0 не опубликовано в Instagram, 1 - Опубликовано в Instagram



ТАБЛИЦА: app_settings
Настройка системы ByFly Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи внутри системы

• max_percentage_nakrutka
  Тип: int(11)
  Комментарий: Максимальный процент накрутки который могут ставить агенты на продаваемые туры

• ambasador_state_count_active
  Тип: int(11)
  Комментарий: Сколько должно быть активных пользователей в системе для получения статуса Ambosador

• coach_state_active
  Тип: int(11)
  Комментарий: Сколько должно быть активных пользователей в системе для получения статуса Коуч

• alpha_state_active
  Тип: int(11)
  Комментарий: Сколько должно быть активных пользователей в системе для получения статуса Alpha

• line_1_count_tours
  Тип: int(11)
  Комментарий: Сколько пользователь должен продать туров за предыдущий месяц что бы получать доход с третьей линии

• line_2_count_tours
  Тип: int(11)
  Комментарий: Сколько пользователь должен продать туров за предыдущий месяц что бы получать доход с четвертой линии

• line_3_count_tours
  Тип: int(11)
  Комментарий: Сколько пользователь должен продать туров за предыдущий месяц что бы получать доход с пятой линии

• x2_count_tours
  Тип: int(11)
  Комментарий: Сколько пользователь должен продать туров за предыдущий месяц что бы доход по линиям умножился на 2

• percentage_line_1
  Тип: double
  Комментарий: Процент дохода от продаж в первой линии

• percentage_line_2
  Тип: double
  Комментарий: Процент дохода от продаж во второй линии

• percentage_line_3
  Тип: double
  Комментарий: Процент дохода от продаж в третьей линии

• percentage_line_4
  Тип: double
  Комментарий: Процент дохода от продаж от четвертой линии

• percenage_line_5
  Тип: double
  Комментарий: Процент дохода от продаж от пятой линии

• percentage_x2_lne_1
  Тип: double
  Комментарий: Процент дохода от продаж в первой линии при увеличении в 2 раза если личные продажи позволяют

• percentage_x2_lne_2
  Тип: double
  Комментарий: Процент дохода от продаж во второй линии при увеличении в 2 раза если личные продажи позволяют

• percentage_x2_lne_3
  Тип: double
  Комментарий:Процент дохода от продаж в третьей линии при увеличении в 2 раза если личные продажи позволяют

• percentage_x2_lne_4
  Тип: double
  Комментарий: Процент дохода от продаж в четвертой линии при увеличении в 2 раза если личные продажи позволяют

• percentage_x2_lne_5
  Тип: double
  Комментарий:Процент дохода от продаж в пятой линии при увеличении в 2 раза если личные продажи позволяют

• kaspi_credit_percentage
  Тип: int(11)
  Комментарий: Процент который добавляется при покупках в KASPI кредит

• kasp_red_percentage
  Тип: int(11)
  Комментарий: Процент который добавляется при покупках в KASPI RED

• last_update
  Тип: datetime
  Комментарий: Дата и время последнего изменения настроек системы

• last_user_update
  Тип: int(11)
  Комментарий: ID пользователя который последний внес изменения

• defoul_lines
  Тип: int(11)
  Комментарий: Со скольки линий по умолчанию получает доход агент системы

• max_copilka_ceils
  Тип: int(11)
  Комментарий: Максимальное кол-во накопительных ячеек

• price_percent_for_investor
  Тип: int(11)
  Комментарий: Стоимость 1% долевого участия в проекте для инвестора


ТАБЛИЦА: atestation
Список вопросов и ответов для атестации в системе ByFly Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID внутри системы

• quest_ru
  Тип: text
  Комментарий: Вопрос на русском!

• quest_en
  Тип: text
  Комментарий: Вопрос на английском!

• quest_kk
  Тип: text
  Комментарий: Вопрос на Казахском!

• answers_ru
  Тип: text
  Комментарий: Варрианты ответов на русском

• answers_kk
  Тип: text
  Комментарий: Варранты ответов на казахском

• answers_en
  Тип: text
  Комментарий: Варрианты ответов на английском

Пример как выглядят варианты ответов:

[{"text":"Отмена тура с возвратом 50% средств","correct":null},{"text":"Отмена или изменение даты невозможны, и средства не возвращаются","correct":"1"},{"text":"Может быть предложен перенос на другую дату с доплатой","correct":"1"},{"text":"Туроператор предложит полное возмещение, если найдется замена","correct":null}]



ТАБЛИЦА: banks_from_by_fly

Таблица с информацией о банках подключенных к ByFly Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID внутри системы

• bik
  Тип: varchar(255)
  Комментарий: БИК банка

• iik
  Тип: varchar(255)
  Комментарий: Номер расчетного счета

• name
  Тип: varchar(255)
  Комментарий: Название банка

• ur_adress
  Тип: varchar(255)
  Комментарий: Юридический адрес

• logo_bank
  Тип: text
  Комментарий: Ссылка на логотип банка


ТАБЛИЦА: byflt_shop_order

Заказы в магазине ByFLy Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID или номер заказа

• title
  Тип: text
  Комментарий: Заголовок

• ads_id
  Тип: varchar(255)
  Комментарий: ID товара который заказан

• city
  Тип: varchar(255)
  Комментарий: Город доставки заказа

• adress
  Тип: varchar(255)
  Комментарий: Адрес доставки заказа

• count
  Тип: int(11)
  Комментарий: Кол-во штук

• description
  Тип: text
  Комментарий: Описание заказа

• user_phone
  Тип: varchar(255)
  Комментарий:  Телефон пользователя совершившего заказ

• user_id
  Тип: int(11)
  Комментарий: ID пользователя совершившего заказ

• date_create
  Тип: timestamp
  Комментарий: Дата размещения заказа в формате Y-m-d H:i:s

• status
  Тип: int(11)
  Комментарий: Статус заказа 0 - Новый, 1 - Обработан ожидает отправку, 2 - Отправлен клиенту, 3 - Выполнен

• price_count
  Тип: int(11)
  Комментарий: Стоимость за 1 шт.

• price_summ
  Тип: int(11)
  Комментарий: Общая стоимость по заказу

• payyers_phone
  Тип: varchar(255)
  Комментарий: Номер телефона продавца



ТАБЛИЦА: byfly_shop
Таблица с товара из магазина ByFLy Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID товара

• title
  Тип: text
  Комментарий: Название товара

• sized
  Тип: text
  Комментарий: Размеры товара через запятую

• price
  Тип: int(11)
  Комментарий: Стоимость товара за шт.

• srok_build
  Тип: int(11)
  Комментарий: Срок изготовления и доставки

• payers_phone
  Тип: varchar(255)
  Комментарий: Телефон продавца товара

• payers_name
  Тип: varchar(255)
  Комментарий: Имя продавца товара

• city_build
  Тип: varchar(255)
  Комментарий: Город где изготавливается товар

• image
  Тип: varchar(255)
  Комментарий: Ссылка на PDF с описанием товара

• colors
  Тип: text
  Комментарий: Цвета товара через запятую



ТАБЛИЦА: byfly_super_offers_tours
Каждый день в эту таблицу система собирает супер предложения по турам от всех туроператоров в сегменте самые дешевые, средние и luxury. Спец предложения становится видно только после того как их проверит администратор и разрешит к показу
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: внутренний ID в системе

• tour_id
  Тип: varchar(50)
  Комментарий: ID тура в системе TourVisor

• request_id
  Тип: varchar(50)
  Комментарий: ID запроса в системе TourVisor

• departure_city_id
  Тип: int(11)
  Комментарий: ID города вылета из TourVisor

• departure_city_name
  Тип: varchar(100)
  Комментарий: Название города вылета

• country_id
  Тип: int(11)
  Комментарий: ID страны назначения внутри ByFly Travel

• country_name
  Тип: varchar(100)
  Комментарий: Название страны назначения

• country_visor_id
  Тип: int(11)
  Комментарий: ID страны назначения TourVisor

• region_id
  Тип: int(11)
  Комментарий: ID региона назначения внутри Tourvisor

• region_name
  Тип: varchar(100)
  Комментарий: Название региона назначения

• subregion_id
  Тип: int(11)
  Комментарий: ID субрегиона назначения TourVisor

• subregion_name
  Тип: varchar(100)
  Комментарий: Название субрегиона

• hotel_code
  Тип: int(11)
  Комментарий: ID отеля в системе TourVisor

• hotel_name
  Тип: varchar(255)
  Комментарий: Название отеля

• hotel_stars
  Тип: int(11)
  Комментарий: Кол-во звезд в отеле

• hotel_rating
  Тип: float
  Комментарий: Рейтинг отеля от 0.0 до 5.0 может быть пустым

• hotel_description
  Тип: text
  Комментарий: Описание отеля тоже может быть пустым

• hotel_full_desc_link
  Тип: varchar(255)
  Комментарий: Ссылка на описание отеля на tourvisor стараемся ее не использовать показываем все внутри системы

• hotel_review_link
  Тип: varchar(255)
  Комментарий: Ссылка на отзывы отеля на tourvisor стараемся ее не использовать показываем все внутри системы

• hotel_picture_link
  Тип: varchar(255)
  Комментарий: Ссылка на картинку отеля может с переди начинаться с //: в этом случае надо добавлять https://

• hotel_has_photos
  Тип: tinyint(1)
  Комментарий: 0 или 1 есть фотографии отеля или нет

• hotel_has_coords
  Тип: tinyint(1)
  Комментарий: 0 или 1 есть координаты отеля или нет

• hotel_has_description
  Тип: tinyint(1)
  Комментарий: 0 или 1 есть описание отеля или нет

• hotel_has_reviews
  Тип: tinyint(1)
  Комментарий: 0 или 1 есть отзывы отеля или нет

• sea_distance
  Тип: int(11)
  Комментарий: Сколько метров до пляжа

• operator_id
  Тип: int(11)
  Комментарий: ID туроператора TourVisor

• operator_name
  Тип: varchar(100)
  Комментарий: Название туроператора

• departure_date
  Тип: date
  Комментарий: Дата вылета может быть пустой

• nights
  Тип: int(11)
  Комментарий: Кол-во ночей в туре

• price
  Тип: int(11)
  Комментарий: Стоимость тура на 2 взрослых

• fuel_charge
  Тип: int(11)
  Комментарий: Топлевный сбор 

• price_ue
  Тип: int(11)
  Комментарий: Стоимость в условных единицах

• price_per_person
  Тип: int(11)
  Комментарий: Стоимость на человека

• placement_type
  Тип: varchar(50)
  Комментарий: Тип размещения

• adults
  Тип: int(11)
  Комментарий: Кол-во взрослых

• children
  Тип: int(11)
  Комментарий: Кол-во детей

• meal_type
  Тип: varchar(50)
  Комментарий: Тип питание кодовое обозначение BB, AI и тд.

• meal_type_full
  Тип: varchar(100)
  Комментарий: Расшифровка типа питания Все включено, Завтра и т.д

• room_type
  Тип: varchar(100)
  Комментарий: Тип номера

• tour_name
  Тип: varchar(255)
  Комментарий: Название тура

• tour_link
  Тип: varchar(255)
  Комментарий: Ссылка на тур у туроператора обычно тут пусто

• currency
  Тип: varchar(3)
  Комментарий: Валюта в которой тур по умолчанию везде KZT

• is_regular
  Тип: tinyint(1)
  Комментарий: 0 или 1 если в туре регулярный рейс то будет 1

• is_promo
  Тип: tinyint(1)
  Комментарий: Промо тур или обычный если промо то будет 1

• has_surcharge
  Тип: tinyint(1)
  Комментарий: Имеется ли какая либо доплата по туру или нет если нет то 0 если есть то 1

• flight_status
  Тип: tinyint(4)
  Комментарий: - места на рейсах: 1 = “под запрос”, 2 = “мало”.

• hotel_status
  Тип: tinyint(4)
  Комментарий: места в отеле: 1 = “под запрос”, 2 = “мгновенное подтверждение”.

• night_flight
  Тип: int(11)
  Комментарий: Ночной перелет или нет если да то 1 если нет то 0

• base_price
  Тип: int(11)
  Комментарий: Базовая цена без комиссии туроператора

• commission_percent
  Тип: decimal(5,2)
  Комментарий: Процент коммиссии туроператора по данному туру

• commission_amount
  Тип: int(11)
  Комментарий: Сумма коммисиии туроператора

• price_category
  Тип: enum('cheap','medium','luxury')
  Комментарий: Категория цены cheap - Самые дешевые, medium - Средняя стоимость, luxury - Элитные предложения

• departure_period
  Тип: enum('this_month','next_month','early_booking')
  Комментарий: Категория вылета по туру this_month - В этом месяце, next_month - В следующем месяце, early_booking - Больше 2 месяцев

• created_at
  Тип: timestamp
  Комментарий: Дата добавления в систему в формате Y-m-d H:i:s

• updated_at
  Тип: datetime
  Комментарий: Дата последнего обновления в формате Y-m-d H:i:s

• is_show
  Тип: tinyint(1)
  Комментарий: показывать пользователям это предложение или нет 1 или 0

• dop_sales
  Тип: int(11)
  Комментарий: Сумма дополнительной скидки от ByFly Travel

• date_deleted
  Тип: datetime
  Комментарий: Дата когда нужно удалить предложение по умолчанию оно 0000-00-00 00:00:00 если прошло более 3 дней с момента создания то надо удалить если указана конкретная дата удаления то удаляем когда она наступит

• count_places
  Тип: int(11)
  Комментарий: Кол-во туров готовых к продаже по этому предложению

• count_sales
  Тип: int(11)
  Комментарий: Сколько туров уже продано

• rashodes
  Тип: int(11)
  Комментарий: Расходы по организации тура сумма

• max_sales
  Тип: int(11)
  Комментарий: Сколько можно продать максимально

• is_hot_tour
  Тип: tinyint(1)
  Комментарий: Горящий тур или обычный 0 или 1

• is_recommended
  Тип: tinyint(1)
  Комментарий: Рекомендуемый тур или нет 0 или 1

• old_price
  Тип: int(11)
  Комментарий: Старая стоимость туру от туроператора может не быть если туроператор дает тур без скидки

• discount_percent
  Тип: int(11)
  Комментарий: Скидка между старой и новой ценой в процентах

• tour_info
  Тип: text
  Комментарий: JSON обьект полученный от tourVisor с информацией по туру
  Пример объекта:

  {"tourid":"90112872505988","countrycode":"55","countryname":"Азербайджан","departurecode":"60","departurename":"Алматы","departurenamefrom":"Алматы","operatorcode":"90","operatorname":"Kompas (KZ)","hotelcode":"43859","hotelname":"ANATOLIA","hotelstars":"4","hotelregioncode":"482","hotelregionname":"Баку","hotelrating":"4.9","fulldesclink":"http:\/\/manyhotels.ru\/#!\/hotel=anatolia","hotelpicture":"\/\/static.tourvisor.ru\/hotel_pics\/small\/43859.jpg","flydate":"14.08.2025","nights":"6","meal":"BB","price":"311874","priceold":"363989","fuelcharge":"0","currency":"KZT"}

  вот еще 

  {"price":705408,"nights":7,"operatorcode":194,"operatorname":"Kazunion Online","flydate":"11.07.2025","placement":"DBL","adults":2,"child":0,"room":"standard twin","tourname":"NQZ - GYD - NQZ","regular":1,"flightstatus":2,"mealcode":3,"mealrussian":"Завтрак","meal":"BB","tourid":"99112403948056","currency":"KZT","priceue":8786,"visa":0,"fuelcharge":0}




ТАБЛИЦА: company_pays
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID операции

• title
  Тип: text
  Комментарий: Название транзакции за что платим

• description
  Тип: text
  Комментарий: Описание транзации за что платим

• amount
  Тип: int(11)
  Комментарий: Сумма которую оплачиваем

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s

• date_podpis1
  Тип: datetime
  Комментарий: Дата подписи первым участником

• date_podpis2
  Тип: datetime
  Комментарий: Дата подписи вторым участником

• date_pays
  Тип: datetime
  Комментарий: Дата оплаты

• user_podpis_1
  Тип: int(11)
  Комментарий: ID первого пользователя который подписывает оплату

• user_podpis_2
  Тип: int(11)
  Комментарий: ID второго пользователя который подписывает оплату

• image_podpis1
  Тип: text
  Комментарий: Изображение подписи первого подписанта картинка подставляется на документ

• image_podpis2
  Тип: text
  Комментарий: зображение подписи второго подписанта картинка подставляется на документ

• order_document
  Тип: text
  Комментарий: Платежное поручение документ подтверждающий оплату ссылка на него

• status
  Тип: int(11)
  Комментарий: Статус оплаты 0 - ожидает подписи, 1 - Подписано ожидает оплату, 2 - оплачено

• creator_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего платеж

• category
  Тип: varchar(255)
  Комментарий: Категория платежа

• schet_na_oplatu
  Тип: text
  Комментарий: Ссылка на документ основание для оплаты

• reject_reason
  Тип: text
  Комментарий: Если один из подписантов отклонил платеж тут будет причина отмены по умолчанию тут NULL



ТАБЛИЦА: copilka_ceils
Таблица с накопительными ячейками пользователи могут открыть 3 накопительные ячейки и копить на протяжении 12 месяцев на свое путешествие каждый месяц пользователь должен вносить минимум по 50 000 тенге, если у него идет 3 дня просрочка ячейка автоматический удаляется и в течении 90 дней пользователь получает возврат вложенной суммы, бонусы все анулируются когда пользователь вносит месячный платеж ему добавляется бонус в размере внесенной суммы на 13 месяц все его накопления включая вложенную сумму переводятся на бонусный счет и пользователь может потратить их на оплату любого тура в  системе
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID накопительной ячейки

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s важно от этой даты каждый месяц пользователь вносит каждый месяц платеж

• user_id
  Тип: int(11)
  Комментарий: ID пользователя открывшего накопительную ячейку

• date_off
  Тип: datetime
  Комментарий: Дата завершения накопительной ячейки

• summ_bonus
  Тип: int(11)
  Комментарий: Общая сумма накопленных бонусов

• summ_money
  Тип: int(11)
  Комментарий: Общая сумма вложенных средств

• month_1_money
  Тип: int(11)
  Комментарий: Платеж деньгами за первый месяц сумма

• month_2_money
  Тип: int(11)
  Комментарий: Платеж деньгами за второй месяц сумма

• month_3_money
  Тип: int(11)
  Комментарий: Платеж деньгами за третьи месяц сумма

• month_4_money
  Тип: int(11)
  Комментарий: Платеж деньгами за четвертый месяц сумма

• month_5_money
  Тип: int(11)
  Комментарий: Платеж деньгами за пятый месяц сумма

• month_6_money
  Тип: int(11)
  Комментарий: Платеж деньгами за шестой месяц сумма

• month_7_money
  Тип: int(11)
  Комментарий: Платеж деньгами за седьмой месяц сумма

• month_8_money
  Тип: int(11)
  Комментарий: Платеж деньгами за восьмой месяц сумма

• month_9_money
  Тип: int(11)
  Комментарий: Платеж деньгами за девятый месяц сумма

• month_10_money
  Тип: int(11)
  Комментарий: Платеж деньгами за десятый месяц сумма

• month_11_money
  Тип: int(11)
  Комментарий: Платеж деньгами за одинадцатый месяц сумма

• month_12_money
  Тип: int(11)
  Комментарий: Платеж деньгами за двенадцатый месяц сумма

• month_1_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за первый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_2_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за второй месяц после того как пользователь пополнил ячейку деньгами сумма

• month_3_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за первый трети после того как пользователь пополнил ячейку деньгами сумма

• month_4_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за четвертый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_5_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за пятый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_6_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за шестой месяц после того как пользователь пополнил ячейку деньгами сумма

• month_7_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за седьмой месяц после того как пользователь пополнил ячейку деньгами сумма

• month_8_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за восьмой месяц после того как пользователь пополнил ячейку деньгами сумма

• month_9_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за девятый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_10_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за десятый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_11_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за одинадцатый месяц после того как пользователь пополнил ячейку деньгами сумма

• month_12_bonus
  Тип: int(11)
  Комментарий: Бонусы начисленные за двенадцатый месяц после того как пользователь пополнил ячейку деньгами сумма

• date_dosrok_close
  Тип: datetime
  Комментарий: Если пользователь закрыл ячейку досрочно тут дата закрытия в формате Y-m-d H:i:s по умолчанию если досрочно не закрывал тут null

• date_money_send
  Тип: datetime
  Комментарий: Если ячейка закрыта досрочно то тут дата когда пользователю будут возвращены деньги

• last_notify
  Тип: datetime
  Комментарий: Дата в формате Y-m-d H:i:s когда было отправленно последнее уведомление по ячейке

• obrabotan
  Тип: int(11)
  Комментарий: 0 или 1 обработана ячейка или нет



ТАБЛИЦА: countries
Таблица со странами и их описанием в системе
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: внутренний ID страны

• visor_id
  Тип: int(11)
  Комментарий: ID страны в системе tourVisor

• icon
  Тип: text
  Комментарий: ссылка на иконку страны img/countries_icon/abhaziya.png выглядит так в приложении подставляем assets/ и внутри есть картинки они могут быть svg и могуть быть png, jpg и т.д

• title
  Тип: varchar(255)
  Комментарий: Название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на казахском

• desc_text
  Тип: longtext
  Комментарий: Описание на русском

• sorter
  Тип: int(11)
  Комментарий: Сортировка чем больше число тем приоритетнее и должна быть выше эта страна

• mounth_1
  Тип: int(11)
  Комментарий: В январе сезон или нет 0 или 1

• mounth_2
  Тип: int(11)
  Комментарий: В феврале сезон или нет 0 или 1

• mounth_3
  Тип: int(11)
  Комментарий: В марте сезон или нет 0 или 1

• mounth_4
  Тип: int(11)
  Комментарий: В апреле сезон или нет 0 или 1

• mounth_5
  Тип: int(11)
  Комментарий: В мае сезон или нет 0 или 1

• mounth_6
  Тип: int(11)
  Комментарий: В июне сезон или нет 0 или 1

• mounth_7
  Тип: int(11)
  Комментарий: В июле сезон или нет 0 или 1

• mounth_8
  Тип: int(11)
  Комментарий: В августе сезон или нет 0 или 1

• mounth_9
  Тип: int(11)
  Комментарий: В сентябре сезон или нет 0 или 1

• mounth_10
  Тип: int(11)
  Комментарий: В октябре сезон или нет 0 или 1

• mounth_11
  Тип: int(11)
  Комментарий: В ноябре сезон или нет 0 или 1

• mounth_12
  Тип: int(11)
  Комментарий: В декабре сезон или нет 0 или 1

• checked
  Тип: int(11)
  Комментарий: 0 или 1 проверена страна или нет

• capital
  Тип: varchar(255)
  Комментарий: Название столицы страны на русском

• min_price
  Тип: int(11)
  Комментарий: Стоимость туров в эту страну начинается от суммы в тенге



ТАБЛИЦА: countries_image
Ссылки на изображения по стране
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• country_id
  Тип: int(11)
  Комментарий: ID страны

• image
  Тип: varchar(255)
  Комментарий: Ссылка на изображение



ТАБЛИЦА: curencies
Валюты загруженные в систему и синхронизированные с системой TourVisor
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: Внутренний ID 

• id_visor
  Тип: int(11)
  Комментарий: ID в системе tourVisor

• name
  Тип: varchar(255)
  Комментарий: Название валюты

• usd
  Тип: double
  Комментарий: В долларах

• eur
  Тип: double
  Комментарий: В евро



ТАБЛИЦА: departure_citys
Таблица со списком городов вылета доступных для поиска туров
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: Внутренний ID записи

• id_in_base
  Тип: int(11)
  Комментарий: ID города в нашей базе

• id_visor
  Тип: int(11)
  Комментарий: ID города в системе TourVisor

• name
  Тип: varchar(255)
  Комментарий: Название города на русском

• name_en
  Тип: text
  Комментарий: Название города на английском

• name_kk
  Тип: text
  Комментарий: Название города на Казахском

• countryid
  Тип: int(11)
  Комментарий: ID страны в нашей базе

• min_price
  Тип: int(11)
  Комментарий: стоимость туров из этого города начинается от суммы в тенге



ТАБЛИЦА: departure_citys_connect
Таблица которая показывает соседние города из которых так же можно проверять вылеты
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи в базе 

• city_from
  Тип: int(11)
  Комментарий: ID города из нашей базы города

• city_to
  Тип: int(11)
  Комментарий: ID города из нашей базы города который находится рядом

• distance
  Тип: int(11)
  Комментарий: Дистанция между указанными городами



ТАБЛИЦА: deportures_for_spec
Каждый день система собирает спец предложения которые отбираем по выбранным направлениям и данная таблица отвичает за то какие направления будут собираться а какие нет
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи в базе

• deporture_visor_id
  Тип: int(11)
  Комментарий: ID города вылета TourVisor

• countries_to
  Тип: int(11)
  Комментарий: ID страны куда собираем предложения ID из TourVisor



ТАБЛИЦА: error_logs
В эту таблицу записываются системные сообщения для администратора системы
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• text
  Тип: text
  Комментарий: Сообщение

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s



ТАБЛИЦА: event_byfly
Это таблица с запланированными мероприятиями компании ByFly Travel наши пользователи у которых включена опция дистрибьютор могут создавать и проводить мероприятия например груповые выездные туры или презентации а пользователи могут на них записываться и примать участие, если они приглашают других пользователей если они приходят на мероприятие пригласивыший получает бонусы от компании на бонусный счет. Мероприятия могут быть платными и бесплатными.
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: внутренний ID мероприятия

• name_events
  Тип: text
  Комментарий: Название мероприятия

• date_event
  Тип: datetime
  Комментарий: Дата проведения мероприятия в формате Y-m-d H:i:s

• date_create
  Тип: timestamp
  Комментарий: Дата создания мероприятия

• description
  Тип: longtext
  Комментарий: Описание мероприятия

• prizez
  Тип: longtext
  Комментарий: Описание призов которые будут разыграны на мероприяти

• adress
  Тип: text
  Комментарий: Адрес проведения мероприятия может быть онлайн

• contakctes
  Тип: text
  Комментарий: Контакты организаторов мероприятия

• programes
  Тип: longtext
  Комментарий: Описание программы мероприятия

• max_people
  Тип: int(11)
  Комментарий: Максимальное кол-во людей на мероприятии

• people_say
  Тип: int(11)
  Комментарий: Сколько человек пришло на мероприятие

• count_win
  Тип: int(11)
  Комментарий: Сколько человек выйграли что то на мероприятии

• summ_win
  Тип: int(11)
  Комментарий: Общая сумма розыгранных подарков

• rashodes
  Тип: int(11)
  Комментарий: Общая сумма расходов на организацию мероприятия

• summ_bonus_is_refer
  Тип: int(11)
  Комментарий: Сколько бонусов начисляется за приглашение пользователя

• user_id
  Тип: int(11)
  Комментарий: ID пользователя который организовывает мероприятие

• max_summ_rashodes
  Тип: int(11)
  Комментарий: Максимальная сумма расходов по мероприятию устанавливается администратором

• smeta_is_order
  Тип: int(11)
  Комментарий: Сумма расходов по смете на мероприятие

• price_event
  Тип: int(11)
  Комментарий: Стоимость участия в мероприятии

• moderation_user_id
  Тип: int(11)
  Комментарий: ID пользователя администратора который утвердил мероприятие

• citys
  Тип: varchar(255)
  Комментарий: Город в котором проходит мероприятие название

• sended_bonus
  Тип: int(11)
  Комментарий: Бонусы пригласителям начисленный или еще нет 0 или 1



ТАБЛИЦА: event_byfly_oute_pays
Таблица расходов по мероприятию
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• link_check
  Тип: text
  Комментарий: Ссылка на файл чек о расходе

• date_create
  Тип: timestamp
  Комментарий: Дата добавления расхода в формате Y-m-d H:i:s

• summ
  Тип: int(11)
  Комментарий: Потраченная сумма

• user_id
  Тип: int(11)
  Комментарий: Пользователь добавивший расход его ID

• event_id
  Тип: int(11)
  Комментарий: ID мероприятия по которому произошли расходы

• name_money_oute
  Тип: text
  Комментарий: Описание за что расход



ТАБЛИЦА: event_byfly_photo
Фото по мероприятию
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• link
  Тип: text
  Комментарий: Ссылка на изображение

• date_create
  Тип: timestamp
  Комментарий: Дата добавления

• user_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего фото

• event_id
  Тип: int(11)
  Комментарий: ID мероприятия



ТАБЛИЦА: event_byfly_smeta
Таблица со сметой на проведение мероприятия
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• summ
  Тип: int(11)
  Комментарий: Сумма рассхода по мероприятию

• event_id
  Тип: int(11)
  Комментарий: ID мероприятия

• name_pay
  Тип: text
  Комментарий: Описание назначения на что будут потрачены деньги

• date_create
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s

• user_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего запись в смету



ТАБЛИЦА: event_byfly_user_registered

Участники мероприятия зарегистрированные на него
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• name_user
  Тип: text
  Комментарий: ФИО участника

• user_phone
  Тип: varchar(255)
  Комментарий: Телефон участника

• date_registered
  Тип: datetime
  Комментарий: Дата регистрации в формате Y-m-d H:i:s

• is_registered
  Тип: int(11)
  Комментарий: 0 или 1 зарегистрирован в системе ByFly Travel или нет

• is_win
  Тип: int(11)
  Комментарий: 0 или 1 выйграл что то на мероприятии или нет

• whats_win
  Тип: text
  Комментарий: Описание того что он выйграл на мероприятии например чемодан

• summ_win
  Тип: int(11)
  Комментарий: Стоимость выйграного подарка

• is_pay
  Тип: int(11)
  Комментарий: 0 или 1 купил этот пользователь обучение или нет

• summ_pay
  Тип: int(11)
  Комментарий: Сумма сколько этот пользователь оплатил в системе ByFly Travel

• refer_whats
  Тип: text
  Комментарий: От куда узнал о мероприятии

• is_refer_user_in_systems
  Тип: int(11)
  Комментарий: ID пользователя который пригласил участника может быть 0 или null

• is_pay_bonus_is_say
  Тип: int(11)
  Комментарий: 0 или 1 начисленный за этого участника бонусы или нет

• is_say
  Тип: int(11)
  Комментарий: 0 или 1 пришел на мероприятие или нет

• event_id
  Тип: int(11)
  Комментарий: ID мероприятия

• is_event_pay
  Тип: int(11)
  Комментарий: Оплатил участие в мероприятии или нет если оно платное

• link_check
  Тип: text
  Комментарий: Ссылка на чек об оплате мероприятия



ТАБЛИЦА: event_byfly_users_work
Таблица с ответственными пользователями по мероприятию
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• user_id
  Тип: int(11)
  Комментарий: ID пользователя

• role
  Тип: varchar(255)
  Комментарий: Роль пользователя на мероприятии

• event_id
  Тип: int(11)
  Комментарий: ID самого мероприятия



ТАБЛИЦА: event_byfly_videos
Видео ролики с мероприятия
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• link
  Тип: text
  Комментарий: Ссылка на видеоролик

• date_create
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s

• user_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего ролик

• event_id
  Тип: int(11)
  Комментарий: ID самого мероприятия

• link_prewie
  Тип: text
  Комментарий: Ссылка на картинку превью видео




ТАБЛИЦА: exchange_rates
Таблица с курсами валют по национальному банку Казахстана
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• currency_code
  Тип: varchar(10)
  Комментарий: Код валюты

• currency_name_ru
  Тип: varchar(255)
  Комментарий: Название валюты на русском

• currency_name_kk
  Тип: varchar(255)
  Комментарий: Название валюты на казахском

• currency_name_en
  Тип: varchar(255)
  Комментарий: Название валюты на английском

• rate
  Тип: decimal(10,2)
  Комментарий: Курс к тенге

• updated_at
  Тип: timestamp
  Комментарий: Дата последнего обновления

• priority_stay
  Тип: int(11)
  Комментарий: Приоритет сортировки чем выше тем приоритетнее



ТАБЛИЦА: franchaise
Таблица со списком франшиз ByFly Travel франшизы зарабатывают 20% от всего дохода по своему филиалу, например пользователи зарегистрированные во франшизе покупают обучение или подписку или что то еще франчайзи получает от чистого дохода 20%
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• adress
  Тип: text
  Комментарий: Адрес и местоположение франшизы

• titleFranchaise
  Тип: text
  Комментарий: Название франшизы

• director
  Тип: text
  Комментарий: ФИО директора франшизы

• video
  Тип: text
  Комментарий: Ссылка на видео о франшизе может быть пустой

• avatar
  Тип: text
  Комментарий: Ссылка на аватар директора франшизы может быть пустой

• description
  Тип: text
  Комментарий: Описание франшизы 

• date_open
  Тип: datetime
  Комментарий: Дата открытия франшизы в формате Y-m-d H:i:s

• lon
  Тип: double
  Комментарий: Широта местоположения франшизы

• lat
  Тип: double
  Комментарий: Долгота местоположения франшизы

• phone
  Тип: text
  Комментарий: Контактный телефон франшизы

• whatsapp_link
  Тип: text
  Комментарий: Ссылка на чат в ватсап франшизы может быть пустым

• tik_tok
  Тип: text
  Комментарий: Ссылка на ТикТок франшизы может быть пустым

• instagram
  Тип: text
  Комментарий: Ссылка на Instagram франшизы может быть пустым

• youtube
  Тип: text
  Комментарий: Ссылка на Youtube канал франшизы может быть пустым

• whatsapp_chanel
  Тип: text
  Комментарий: Whatsapp канал франшизы ссылка может быть пустым

• zam_director
  Тип: text
  Комментарий: ФИО заместителя директора франшизы

• 2gis
  Тип: text
  Комментарий: Ссылка на 2gis

• couch_center
  Тип: text
  Комментарий: Ненужное поле больше не используется

• city
  Тип: varchar(255)
  Комментарий: Город франшизы




ТАБЛИЦА: group_dont_byfly

Наш искуственный интелект общается в группах в Whatsapp у пользователей и тут ведется список групп созданных вне приложения ByFly Travel это когда контакт ИИ просто добавили в какую то группу и эта таблица определяет будет ли он там общаться или нет
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s

• chatid
  Тип: varchar(255)
  Комментарий: ID чата группы в whatsapp

• theme
  Тип: text
  Комментарий: Название группы

• checked
  Тип: int(11)
  Комментарий: 0 или 1 если 1 то будет общаться если 0 то нет

• search_serik
  Тип: int(11)
  Комментарий: Не нужный столбец нигде не используется



ТАБЛИЦА: home_work
Таблица хранящая в себе домашние задания для агентов! Принцы такой пользователь прежде чем стать агентом проходит обучение и после каждого урока выполняет добамашние задания вот их список:
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• type
  Тип: varchar(255)
  Комментарий: Тип домашнего задания Файл или Минитест

• title_ru
  Тип: text
  Комментарий: Название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на Казахском

• desc_ru
  Тип: text
  Комментарий: Описание на русском

• desc_en
  Тип: text
  Комментарий: Описание на английском

• desc_kk
  Тип: text
  Комментарий: Описание на Казахском

• example1
  Тип: text
  Комментарий: Если тип домашнего задания файл то тут ссылка на пример файл видео ролика

• example2
  Тип: text
  Комментарий: Если тип домашнего задания файл то тут ссылка на пример файл видео ролика

• example3
  Тип: text
  Комментарий: Если тип домашнего задания файл то тут ссылка на пример файл видео ролика

• day
  Тип: int(11)
  Комментарий: Тут не день обучение а номер домашнего задания например сейчас 8 уроков и после каждого урока выполняется дошнее задание

• test
  Тип: longtext
  Комментарий: Если это Минитест то тут хранится в base64 закодированный список вопросов и вариантов ответов вот пример

  [{"query_ru":"Что будет если я пропущу занятие?","query_en":"What happens if I miss class?","query_kk":"Егер Мен сабақты өткізіп алсам не болады?","selectAnswer":0,"answers":[{"answer_ru":"Минус 1 бал на экзамене.","answer_en":"Minus 1 mark on the exam.","answer_kk":"Емтиханға Минус 1 балл.","type":false},{"answer_ru":"Пересмотрю повтор и ничего не будет.","answer_en":"I'll review the replay and nothing will happen.","answer_kk":"Мен қайталауды қайта қараймын және ештеңе болмайды.","type":true},{"answer_ru":"Меня исключат из обучения.","answer_en":"I will be excluded from my studies.","answer_kk":"Мені оқудан шығарады.","type":false}]},{"query_ru":"За что могут исключить из обучения?","query_en":"What can be excluded from training for?","query_kk":"Олар не үшін оқудан шығарылуы мүмкін?","selectAnswer":0,"answers":[{"answer_ru":"За нарушения этики компании.","answer_en":"For violations of company ethics.","answer_kk":"Компания этикасын бұзғаны үшін.","type":true},{"answer_ru":"По личным причинам","answer_en":"For nothing.","answer_kk":"Тек сол үшін.","type":false},{"answer_ru":"За неуважительное отношение к преподавателю.","answer_en":"For disrespectful attitude towards the teacher.","answer_kk":"Мұғалімге құрметсіздік үшін.","type":true},{"answer_ru":"За систематическое не выполнение домашних заданий.","answer_en":"For systematically not completing homework.","answer_kk":"Үй тапсырмаларын жүйелі түрде орындамағаны үшін.","type":true}]},{"query_ru":"Как получить данные об объеме рынка туризма своей страны?","query_en":"How to get data on the volume of the tourism market in your country.","query_kk":"Өз еліңіздің туризм нарығының көлемі туралы деректерді қалай алуға болады.","selectAnswer":0,"answers":[{"answer_ru":"из Wikipedia.","answer_en":"from Wikipedia.","answer_kk":"Wikipedia-дан.","type":false},{"answer_ru":"Выдумать из головы.","answer_en":"Make it up out of my head.","answer_kk":"Басынан ойлап табу.","type":false},{"answer_ru":"Спросить GPT CHAT","answer_en":"Ask GPT CHAT","answer_kk":"GPT CHAT сұраңыз","type":true},{"answer_ru":"Найти в Google","answer_en":"Find on Google","answer_kk":"Google-ден табыңыз","type":true}]},{"query_ru":"Если пользователь путешествует внутри страны какой это тип туризма?","query_en":"If the user travels within the country, what type of tourism is it?","query_kk":"Егер пайдаланушы ел ішінде саяхаттаса бұл туризмнің қандай түрі?","selectAnswer":0,"answers":[{"answer_ru":"Внутренний туризм","answer_en":"Domestic tourism","answer_kk":"Ішкі туризм","type":true},{"answer_ru":"Внешний туризм","answer_en":"External tourism","answer_kk":"Сыртқы туризм","type":false}]},{"query_ru":"Тур в Италию это?","query_en":"Is this a tour to Italy?","query_kk":"Италияға саяхат бұл ма?","selectAnswer":0,"answers":[{"answer_ru":"Гастрономический тур","answer_en":"Food tour","answer_kk":"Гастрономиялық тур","type":false},{"answer_ru":"Экскурсионный тур","answer_en":"Guided tour","answer_kk":"Экскурсиялық тур","type":true},{"answer_ru":"Экстримальный тур","answer_en":"Extreme tour","answer_kk":"Экстремалды тур","type":false},{"answer_ru":"Пляжный тур","answer_en":"Beach Tour","answer_kk":"Жағажай туры","type":false}]},{"query_ru":"Что обычно входит в тур?","query_en":"What is usually included in the tour?","query_kk":"Турға әдетте не кіреді?","selectAnswer":0,"answers":[{"answer_ru":"Перелет, страховка, трансфер, проживание в отеле.","answer_en":"Flight, insurance, transfer, hotel accommodation.","answer_kk":"Ұшу, сақтандыру, трансфер, қонақ үйде тұру.","type":true},{"answer_ru":"Виза и перелет","answer_en":"Visa and flight","answer_kk":"Виза және ұшу","type":false},{"answer_ru":"Трансфер и проживание.","answer_en":"Transfer and accommodation.","answer_kk":"Трансфер және тұру.","type":false},{"answer_ru":"Только перелет","answer_en":"Flight only","answer_kk":"Тек ұшу","type":false}]},{"query_ru":"Чем отличается туроператор от турагентства?","query_en":"What is the difference between a tour operator and a travel agency?","query_kk":"Туроператор мен туристік агенттіктің айырмашылығы неде?","selectAnswer":0,"answers":[{"answer_ru":"Туроператор организовывает перелет, а агентство все остальное.","answer_en":"The tour operator organizes the flight and the agency does the rest.","answer_kk":"Туроператор ұйымдастырады ұшу а агенттік қалғанының бәрі.","type":false},{"answer_ru":"Турагентство организовывает тур (Перелет, трансфер, отель и т.д), а туроператор продает данные туры.","answer_en":"The travel agency organizes the tour (Flight, transfer, hotel, etc.), and the tour operator sells these tours.","answer_kk":"Турагенттік турды ұйымдастырады (рейс, трансфер, қонақ үй және т.б.), ал туроператор бұл турларды сатады.","type":false},{"answer_ru":"Туроператор комплектует тур пакет (Перелет, трансфер, страховка, проживание), а турагент продает данные туры туристам.","answer_en":"The tour operator completes the tour package (Flight, transfer, insurance, accommodation), and the travel agent sells these tours to tourists.","answer_kk":"Туроператор тур пакетін (ұшу, трансфер, сақтандыру, тұру) жинақтайды, ал турагент туристерге осы турларды сатады.","type":true},{"answer_ru":"Разницы нет, они выполняют одно и то же.","answer_en":"There is no difference, they do the same thing.","answer_kk":"Айырмашылық жоқ, олар бірдей нәрсені жасайды.","type":false}]},{"query_ru":"Почему туроператор не может продавать тур напрямую туристу?","query_en":"Why can't a tour operator sell a tour directly to a tourist?","query_kk":"Неліктен туроператор турды туристке тікелей сата алмайды.","selectAnswer":0,"answers":[{"answer_ru":"Туроператору интересно работать с агентствами.","answer_en":"The tour operator is interested in working with agencies.","answer_kk":"Туроператор агенттіктермен жұмыс істеуге қызығушылық танытады.","type":false},{"answer_ru":"Туроператор не имеет возможности обработать большое кол-во туристов.","answer_en":"The tour operator does not have the ability to handle a large number of tourists.","answer_kk":"Туроператордың көптеген туристерді өңдеуге мүмкіндігі жоқ.","type":false},{"answer_ru":"Туроператор не имеет на это права по закону","answer_en":"The tour operator does not have the right to do this by law!","answer_kk":"Туроператор бұған заң бойынша құқылы емес!","type":true},{"answer_ru":"Туроператор беспрепятственно продает туры туристам","answer_en":"The tour operator has the right to sell tours to tourists directly!","answer_kk":"Туроператор туристерге турларды тікелей сатуға құқылы!","type":false}]},{"query_ru":"Чем ByFly Travel отличается от других агентств?","query_en":"How does ByFly Travel differ from other travel agencies?","query_kk":"ByFly Travel басқа агенттіктерден қалай ерекшеленеді?","selectAnswer":0,"answers":[{"answer_ru":"Абсолютно ничем мы такие же как и все.","answer_en":"We are absolutely the same as everyone else.","answer_kk":"Біз мүлдем ештеңе емеспіз.","type":false},{"answer_ru":"ByFly Travel - предлагает больше направлений.","answer_en":"ByFly Travel - offers more destinations.","answer_kk":"ByFly Travel - көбірек бағыттарды ұсынады.","type":true},{"answer_ru":"ByFly Travel работает с более чем 90 туроператорами.","answer_en":"ByFly Travel operates more than 90 tour operators.","answer_kk":"ByFly Travel 90 сағаттан астам туроператор ретінде жұмыс істейді.","type":true},{"answer_ru":"У обычнвх агентств больше привелегий перед туроператорами.","answer_en":"The usual agencies have more privileges over tour operators.","answer_kk":"Әдеттегі vhc агенттіктері туроператорларға көбірек артықшылықтарға ие.","type":false}]},{"query_ru":"Что отличает чартерный рейс от регулярного?","query_en":"What distinguishes a charter flight from a regular one?","query_kk":"Чартерлік рейсті тұрақты рейстен не ажыратады?","selectAnswer":0,"answers":[{"answer_ru":"Регулярный рейс совершается регулярно на основе расписания, без отмен и переносов, а чартерный согласно планов туроператоров и сезонности.","answer_en":"A scheduled flight is operated regularly based on a schedule without cancellations or postponements, and a charter flight is operated according to the plans of tour operators and seasonality.","answer_kk":"Тұрақты рейс кестеге сүйене отырып, үзіліссіз және ауысусыз жасалады, ал туроператорлардың жоспарлары мен маусымдылығына сәйкес чартерлік рейс жасалады.","type":true},{"answer_ru":"Ничем не отличаются","answer_en":"They are no different","answer_kk":"Айырмашылығы жоқ","type":false},{"answer_ru":"Регулярные рейсы дешевле чартерных.","answer_en":"Regular flights are cheaper than charter flights.","answer_kk":"Тұрақты рейстер чартерлік рейстерге қарағанда арзанырақ.","type":false},{"answer_ru":"Чартерные рейсы дешевле регулярных.","answer_en":"Charter flights are cheaper than regular flights.","answer_kk":"Чартерлік рейстер тұрақты рейстерге қарағанда арзанырақ.","type":false}]}]




ТАБЛИЦА: hotel_services
Таблица с описанием услуг в отеле
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• id_visor
  Тип: int(11)
  Комментарий: ID в системе TourVisor

• name
  Тип: varchar(255)
  Комментарий: Название услуги

• grouped
  Тип: varchar(255)
  Комментарий: Групировка например Для детей, Развлечения и тд.


ТАБЛИЦА: ideas
Таблица хранит в себе базу знаний это видео ролики помогающие освоится в системе
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• title_ru
  Тип: text
  Комментарий: Название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на казахском

• desc_ru
  Тип: text
  Комментарий: Описание на русском

• desc_en
  Тип: text
  Комментарий: Описание на английском

• desc_kk
  Тип: text
  Комментарий: Описание на казахском

• date_create
  Тип: timestamp
  Комментарий: Дата добавления

• last_update
  Тип: datetime
  Комментарий: Последнее обновление

• coach
  Тип: int(11)
  Комментарий: ID пользователя который добавил запись в систему

• link_video
  Тип: text
  Комментарий: Ссылка на видео 

• category_id
  Тип: int(11)
  Комментарий: ID категории базы знаний



ТАБЛИЦА: ideas_category
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• title_ru
  Тип: text
  Комментарий: Название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на казахском

• for_agent
  Тип: int(11)
  Комментарий: 0 или 1 если 1 видят категорию только агенты



ТАБЛИЦА: lgots
Таблица с данными тех кто подал заявку на льготное обучение в системе ByFly Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• user_send_id
  Тип: int(11)
  Комментарий: ID пользователя разместившего заявку

• fio
  Тип: varchar(255)
  Комментарий: ФИО льготника желающего пройти обучение

• phone
  Тип: varchar(255)
  Комментарий: Телефон льготника желающего пройти обучение

• description
  Тип: text
  Комментарий: Описание причины по которой считается льготником

• checked
  Тип: int(11)
  Комментарий: 0 или 1 проверен или нет

• date_created
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s



ТАБЛИЦА: logo_partners
Логотипы партнеров компании ByFly Travel
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• link_logo
  Тип: text
  Комментарий: Ссылка на логотип



ТАБЛИЦА: managers

Агенты продают туры а менеджеры в свою очередь их отрабатывают и ведут работы с туроператорами эта таблица с нашими менеджерами
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• fio
  Тип: text
  Комментарий: ФИО менеджера

• franchaise
  Тип: int(11)
  Комментарий: ID франшизы к которой привязан менеджер

• phone_call
  Тип: varchar(255)
  Комментарий: Телефон менеджера для звонков

• phone_whatsapp
  Тип: varchar(255)
  Комментарий: Телефон с ватсап для того что бы написать

• avatar
  Тип: varchar(255)
  Комментарий: Ссылка на аватар менеджера

• video
  Тип: varchar(255)
  Комментарий: Ссылка на видеоролик о менеджере

• email
  Тип: varchar(255)
  Комментарий: email почта менеджера

• date_start_work
  Тип: datetime
  Комментарий: Дата в формате Y-m-d H:i:s когда начал работу

• date_off_works
  Тип: datetime
  Комментарий: Дата в формате Y-m-d H:i:s когда завершил работу

• isActive
  Тип: int(11)
  Комментарий: 0 или 1 сейчас онлайн или нет если онлайн то 1

• password
  Тип: text
  Комментарий: Пароль для входа в систему зашифрован в MD5

• type
  Тип: int(11)
  Комментарий: 0 или 1 если 0 то обычный менеджер если 1 то старший менеджер

• work_for_tours
  Тип: int(11)
  Комментарий: 0 или 1 0 не обрабатывает заявки на туры, 1 - обрабатывает

• show_spec
  Тип: int(11)
  Комментарий: 0 или 1 если 1 то обрабатывает заявки на спец. предложения если 0 то нет

• percentage_of_commisiion
  Тип: int(11)
  Комментарий: процент дохода от комиссии от каждого обработанного тура

• oklad
  Тип: int(11)
  Комментарий: Размер оклада менеджера в тенге

• linkDogovor
  Тип: text
  Комментарий: Ссылка на файл договор менеджера

• berthday
  Тип: datetime
  Комментарий: Дата дня рождения в формате Y-m-d H:i:s



ТАБЛИЦА: meals
Таблица справочник по питанию
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• id_visor
  Тип: int(11)
  Комментарий: ID в системе TourVisor

• name
  Тип: varchar(255)
  Комментарий: Код например BB или AI и тд.

• fullname
  Тип: varchar(255)
  Комментарий: Расширенное название

• russian
  Тип: varchar(255)
  Комментарий: На русском

• russianfull
  Тип: varchar(255)
  Комментарий: Полное название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на Казахском



ТАБЛИЦА: meals_translate
Таблица с переводами справочника питания
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• visor_id
  Тип: int(11)
  Комментарий: ID питания в системе tourVisor

• title_en
  Тип: text
  Комментарий: название на английском

• title_kk
  Тип: text
  Комментарий: Название на казахском



ТАБЛИЦА: named_status

Названия статусов пользователей в системе открывающие доступ к разделам
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• code_status
  Тип: int(11)
  Комментарий: Код статуса

• title
  Тип: text
  Комментарий: Название статуса



ТАБЛИЦА: operators

Список туропраторов партнеров от которых наша агентская сеть продает туры
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• id_visor
  Тип: int(11)
  Комментарий: ID туроператора в системе TourVisor

• name
  Тип: varchar(255)
  Комментарий: Название туроператора

• fullname
  Тип: varchar(255)
  Комментарий: Расширенное название туроператора

• russian
  Тип: varchar(255)
  Комментарий: Название на русском 

• login
  Тип: text
  Комментарий: логин для авторизации в системе туроператора

• password
  Тип: text
  Комментарий: пароль для авторизации в системе туроператора

• all_data
  Тип: longtext
  Комментарий: JSON обьект с полной информацией по туроператору

• real_link
  Тип: text
  Комментарий: Ссылка на сайт туроператора


ТАБЛИЦА: order_docs
документы по проданному туру
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• docs_link
  Тип: text
  Комментарий: Ссылка на загруженный документ

• date_create
  Тип: timestamp
  Комментарий: Дата загрузки документа

• order_id
  Тип: int(11)
  Комментарий: ID заказа по проданному туру

• title
  Тип: text
  Комментарий: Название документа

• description
  Тип: text
  Комментарий: Описание документа

• show_to_client
  Тип: int(11)
  Комментарий: 0 или 1 показывать клиенту или нет если 1 то показывать



ТАБЛИЦА: order_dop_pays
Дополнительные оплаты по туру
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• summ
  Тип: int(11)
  Комментарий: Сумма доплаты по туру

• desc_pay
  Тип: text
  Комментарий: Описание доплаты по туру

• order_id
  Тип: int(11)
  Комментарий: ID заказа

• percentage
  Тип: int(11)
  Комментарий: Установленный процент накрутки на дополнительную оплату



ТАБЛИЦА: order_kaspi_pays
Таблица с информацией по оплатам за туры через систему Kaspi
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• order_id
  Тип: int(11)
  Комментарий: ID заказа

• summ
  Тип: int(11)
  Комментарий: Сумма

• user_id
  Тип: int(11)
  Комментарий: ID пользователя системы ByFLy Travel

• date_create
  Тип: timestamp
  Комментарий: Дата платежа в формате Y-m-d H:i:s

• date_sended_pay
  Тип: datetime
  Комментарий: Дата получения денег в формате Y-m-d H:i:s

• tranzaction_number
  Тип: varchar(255)
  Комментарий: Номер операции

• type
  Тип: varchar(255)
  Комментарий: тип операции coach - оплата обучения, tour - оплата тура, copilka - оплата накопительной ячейки

• group_id
  Тип: int(11)
  Комментарий: ID группы обучения больше не используется просто NULL



ТАБЛИЦА: order_media
Когда туристы покупают туры они могут оставить свой фото или видео отзыв за что мы начисляем бонусы
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• link_media
  Тип: text
  Комментарий: Ссылка на фото или видео

• user_id
  Тип: int(11)
  Комментарий: ID пользователя оставившего отзыв

• order_id
  Тип: int(11)
  Комментарий: ID заказа по которому добавлен отзыв

• bonus
  Тип: int(11)
  Комментарий: Сумма начисленных бонусов если 0 то еще не проверен

• date_create
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s

• media_type
  Тип: varchar(255)
  Комментарий: Тип медиа video или photo может быть unknown если не удалось определить формат

• is_checked
  Тип: int(11)
  Комментарий: 0 или 1 проверен отзыв или нет если проверен то 1


ТАБЛИЦА: order_oute_money
Эта таблица содержит в себе список заявок на вывод средств наши агенты продавая туры или получая доход по линиям получают баланс который могут выводит на свое ип 2 раза в месяц 10 и 20 числа тут хранятся все заявки на вывод
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s

• date_money_oute_prognoz
  Тип: datetime
  Комментарий: Дата примерной оплаты в формате Y-m-d H:i:s

• date_money_ouet_real
  Тип: datetime
  Комментарий: Реальная дата когда деньги были отправленный агенту

• user_id
  Тип: int(11)
  Комментарий: ID пользователя который выводит деньги

• summ
  Тип: int(11)
  Комментарий: Сумма вывода денег

• document
  Тип: text
  Комментарий: Ссылка на документ подтверждающий факт выплаты средств агенту

• ip_id
  Тип: int(11)
  Комментарий: ID записи ИП агента что бы получить реквизиты



ТАБЛИЦА: order_passangers
Таблица хранит в себе информацию о пассажирах по проданному туру
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• user_id
  Тип: int(11)
  Комментарий: ID пользователя пассажира может быть 0 если пассажир не зарегистрирован в системе
 
• order_id
  Тип: int(11)
  Комментарий: ID заказа на покупку тура

• passangers_info
  Тип: longtext
  Комментарий: Информаци о пассажире в формате JSON
  Пример
  {
    "id":1868, ID пассажира в таблице с пассажирами
    "passanger_famale":"ABUOV", Фамилия пассажира
    "passanger_name":"DINMUKHAMMED", Имя пассажира
    "grazhdanstvo":"Республика Казахстан", Гражданство пассажира
    "date_berthday":"2006-08-14", Дата дня рождения пассажира
    "date_apend":"2025-06-20 19:56:24", Дата добавления пассажира в систему
    "passangers_phone":"+7 (777) 677 78 26", Телефон пассажира
    "from_user_id":9502, ID пользователя у которого добавлен пассажир
    "pasport_link":"https:\/\/api.v.2.byfly.kz\/images\/documents_passangers\/scaled_image.jpg", ссылка на документ паспорт пассажира
    "number_pasport":"N15660587", Номер паспорта пассажира
    "iin":"060814501394", ИИН пассажира
    "pasport_srok":"2033-07-09 00:00:00", Срок годности паспорта пассажира 
    "isChildren":0 0 - взрослый, 1 - ребенок
  }



ТАБЛИЦА: order_pays
Таблица хранит в себе данные об оплате по проданным турам
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• order_id
  Тип: int(11)
  Комментарий: ID заказа проданного тура

• summ
  Тип: int(11)
  Комментарий: Сумма оплаты

• user_id
  Тип: int(11)
  Комментарий: ID пользователя сделавшего оплату

• date_create
  Тип: timestamp
  Комментарий: Дата оплаты в формате Y-m-d H:i:s

• type
  Тип: varchar(255)
  Комментарий: тип оплаты balance - Оплата балансом, bonus - Оплата бонусами, kaspi - Оплата через Kaspi, nalichnie - Оплата наличными, 

• tranzaction_id
  Тип: varchar(255)
  Комментарий: ID транзакции внутренний платежной системы



ТАБЛИЦА: order_tour_operators
В этой таблице хранятся данные об оплатах туроператорам по турам
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• order_id
  Тип: int(11)
  Комментарий: ID заказа проданного тура

• summ
  Тип: int(11)
  Комментарий: Сумма оплаты

• is_from
  Тип: int(11)
  Комментарий: 0 - Оплата нам скорее всего возврат, 1 - Оплачиваем мы туроператору

• description
  Тип: text
  Комментарий: Описание транзакции

• date_create
  Тип: timestamp
  Комментарий: Дата платежа в формате Y-m-d H:i:s

• document
  Тип: text
  Комментарий: Ссылка на документ подтверждающий факт оплаты



ТАБЛИЦА: order_tours
Таблица со списком проданных туров основная показательная единица системы
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата создания записи в формате Y-m-d H:i:s

• status_code
  Тип: int(11)
  Комментарий: Статус заказа 0 - Новая в обработке, 1 - Подтверждена ожидает предоплату, 2 - Подтверждена ожидает полную оплату, 3 - Полностью оплачена ожидает вылета, 4 - Турист на отдыхе, 5 - Заявка отменена

• tours_info
  Тип: longtext
  Комментарий: Полная информация по туру от TourVisor в формате JSON

  {"hotelcode":"4518","hotelname":"THE RADISSON BLU RESORT FUJAIRAH","hotelstars":"5","hotelregioncode":"47","hotelregionname":"Фуджейра","countrycode":"9","countryname":"ОАЭ","departurecode":"60","departurename":"Алматы","operatorcode":"89","operatorname":"Kazunion","flydate":"12.01.2025","nights":"7","meal":"BB","mealcode":"3","room":"standard sea view room with private balcony","tourname":"Абу-Даби из Алматы (блок, Air Astana) PROMO","placement":"2 взрослых","adults":"2","child":"0","detailavailable":"1","price":"638130","fuelcharge":"0","currency":"KZT","operatorprice":"1195","operatorcurrency":"USD","visacharge":"0","hotelpicturesmall":"https://static.tourvisor.ru/hotel_pics/small/4518.jpg","hotelpicturemedium":"https://static.tourvisor.ru/hotel_pics/medium/4518.jpg","hotelpicturebig":"https://static.tourvisor.ru/hotel_pics/main400/4518.jpg","hoteldescription":"Уютный и комфортный отель со спокойной атмосферой. Вокруг горы, рядом красивый пляж, но до него надо пройтись пешком. Сервис на высоком уровне. Достойный отель для отдыха всей семьей.","fulldesclink":"https://manyhotels.ru/#!/hotel=radisson-blu-resort-fujairah","operatorlink":"http://online.kazunion.com/search_tour?STATEINC=11&TOWNFROMINC=57&HOTELS=5401&CHECKIN_BEG=20250112&CHECKIN_END=20250112&NIGHTS_FROM=7&NIGHTS_TILL=7&ADULT=2&CHILD=0&DOLOAD=1","promo":"1","flightstatus":"2","hotelstatus":"1","departure_en":"Almaty","departure_kk":"Алматы","fly_info":{"flights":[{"forward":[{"number":"KC295","company":{"id":"KC","name":"Air Astana","thumb":"https://tourvisor.ru/pics/aircompany/KC.gif","logo":"https://tourvisor.ru/pics/aircompany/KC.svg"},"fuelCharges":null,"plane":"Airbus A320","class":"Y","departure":{"date":"12.01.2025","time":"08:05","port":{"id":"ALA","name":"Алматы, Казахстан","shortName":"Алматы","timeZone":"+06:00"}},"arrival":{"date":"12.01.2025","time":"12:00","port":{"id":"AUH","name":"Абу-Даби, ОАЭ","shortName":"Абу-Даби","timeZone":"+04:00"}},"onDemand":false,"noPlaces":false,"baggage":null,"carryOn":""}],"backward":[{"number":"KC296","company":{"id":"KC","name":"Air Astana","thumb":"https://tourvisor.ru/pics/aircompany/KC.gif","logo":"https://tourvisor.ru/pics/aircompany/KC.svg"},"fuelCharges":null,"plane":"Airbus A320","class":"Y","departure":{"date":"19.01.2025","time":"13:00","port":{"id":"AUH","name":"Абу-Даби, ОАЭ","shortName":"Абу-Даби","timeZone":"+04:00"}},"arrival":{"date":"19.01.2025","time":"18:35","port":{"id":"ALA","name":"Алматы, Казахстан","shortName":"Алматы","timeZone":"+06:00"}},"onDemand":false,"noPlaces":false,"baggage":null,"carryOn":""}],"dateforward":"12.01.2025","datebackward":"19.01.2025","price":{"value":638130,"currency":"KZT"},"fuelcharge":{"value":0,"currency":"KZT"},"isdefault":false}],"tourinfo":{"flags":{"notransfer":false,"nomedinsurance":true,"noflight":false,"nomeal":false}},"iserror":false}}


• visor_hotel_info
  Тип: longtext
  Комментарий: Полная информация об отеле от системы TourVisor в формате JSON

  {"name":"THE RADISSON BLU RESORT FUJAIRAH","stars":"5","regioncode":"47","region":"Фуджейра","countrycode":"9","country":"ОАЭ","rating":"4.2","build":"2006","repair":"2017","placement":"Отель расположен у подножия Хаджарских гор, на прекраснейшем побережье Дибба, в 8,5 км от центра города Дибба. Расстояние до Международного Аэропорта Фуджейра составляет 64 км, до аэропорта г. Дубай — 142 км, до аэропорта Аль-Мактум — 194 км.","square":"29 664 кв м","phone":"+971 9 244 9700","site":"www.radissonblu.com/resort-fujairah","territory":"<UL><LI>конференц-залы (106 и 120 кв. м, платно)</LI><LI>открытые бассейны</LI><LI>бизнес-центр</LI><LI>лаунж</LI><LI>бары</LI><LI>рестораны</LI><LI>СПА-центр</LI><LI>тренажерный зал</LI></UL>","inroom":"<UL><LI>спутниковое телевидение (5 русских каналов, музыкальные каналы)</LI><LI>ежедневная уборка номера</LI><LI>ежедневная смена белья</LI><LI>бутилированная вода (0.5 л на чел. в день)</LI><LI>телефон</LI><LI>пол: керамическая плитка</LI><LI>балкон или терраса</LI><LI>тапочки и халат (по запросу, бесплатно)</LI><LI>электронный сейф в номере (бесплатно)</LI><LI>фен</LI><LI>ванна и душ</LI><LI>индивидуальный кондиционер</LI><LI>мини-бар (платно, вода - бесплатно)</LI><LI>Wi-Fi (бесплатно)</LI><LI>обслуживание номеров (круглосуточно, платно)</LI><LI>утюг и гладильная доска (по запросу, бесплатно)</LI><LI>набор для приготовления чая/кофе (бесплатно)</LI><LI>телевизор</LI></UL>","roomtypes":"<UL><LI>Standard Sea View (36 кв.м., однокомнатный номер, балкон, кровать king-size или twin beds, макс.разм.2+2 или 3 чел. )</LI><LI>Premium Sea View (45 кв.м., спальня с гостиной зоной, балкон, кровать king-size или twin beds, макс.разм.2+2 или 3 чел. )</LI><LI>1 Bedroom Suite Sea View (71-112 кв.м., двухкомнатный номер-спальня и гостиная с дверью, вид на море, кровать king-size или twin beds, макс.разм.2+2 или 3 чел.)</LI><LI>2 Bedroom Suite Sea View (93-131 кв.м., две спальни и гостиная с дверью, вид на море, кровать king-size или twin beds, макс.разм.4+2 или 5 чел. )</LI><LI>Superior Sea View (38 кв.м., однокомнатный номер, балкон, кровать king-size или twin beds, макс.разм.2+2 или 3 чел. )</LI></UL>","services":"<UL><LI>Wi-Fi на всей территории отеля</LI><LI>парковка бесплатно (открытая и крытая)</LI><LI>аренда автомобиля</LI><LI>прокат велосипедов</LI><LI>врач (по вызову)</LI><LI>обмен валюты</LI><LI>услуги прачечной</LI><LI>массаж</LI><LI>джакузи</LI><LI>сауна</LI><LI>водные виды спорта</LI><LI>автобус до торговых центров (бесплатный трансфер в торговый центр Fujairah City Centre – 2 раза в день; трансфер торговый центр Dubai Mall – 4 раза в неделю, платно)</LI></UL>","animation":"<UL><LI>анимация</LI><LI>йога</LI><LI>аэробика</LI><LI>пляжный футбол</LI><LI>пляжный волейбол</LI><LI>настольный теннис</LI><LI>бочча</LI></UL>","child":"<UL><LI>2 детских бассейна  (1 открытый, 1 закрытый, температура воды контролируется)</LI><LI>детский клуб бесплатно (4-12 лет, бесплатно, с 09:00 до 17:30)</LI><LI>игровая площадка</LI><LI>детское меню в ресторане</LI><LI>детские стулья в ресторане</LI><LI>детская кроватка (по запросу, бесплатно)</LI><LI>услуги няни (платно)</LI></UL>","beach":"<UL><LI>собственный песчаный пляж (протяженностью 500 м)</LI><LI>пляжные полотенца (бесплатно)</LI><LI>шезлонги и  зонтики на пляже (бесплатно)</LI></UL>","meallist":"<UL><LI>BB — завтрак, напитки включены</LI><LI>HB — завтрак, обед или ужин (можно менять за 24 часа), напитки за доп. плату</LI><LI>FB — завтрак, обед и ужин, напитки за доп. плату</LI><LI>SAI — софт все включено (без алкоголя)</LI><LI>AI — все включено</LI></UL>","mealtypes":"SAI концепция:<BR><UL><LI>завтрак в ресторане Breeze с 07:00 до 10:30</LI><LI>обед в ресторане Breeze с 12:30 до 15:00, включены безалкогольные газированные напитки, вода (с газом и без), свежевыжатые соки не включены</LI><LI>ужин в ресторане Breeze с 18:30 до 23:00, включены безалкогольные газированные напитки, вода (с газом и без),</LI><LI>свежевыжатые соки не включены</LI><LI>чай и кофе, минеральная вода и безалкогольные напитки (свежевыжатые соки не включены) сервируются по бокалам в The Lounge с 10:00 до 23:00 и в Grand Bleu Beach Restaurant and Bar с 10:00 до 18:00</LI><LI>гость может получить только 2 напитка (бокала) за раз</LI><LI>мини-бар и сервис в номер не включены в концепт</LI><LI>напитки, включенные в концепт: безалкогольные газированные напитки (Coca Cola (Light), Fanta, Sprite (Light), пакетированные фруктовые соки (апельсиновый, ананасовый, яблочный), минеральная вода местных производителей (с газом и без), чай и кофе</LI><LI>в концепты не включены снеки и мороженое</LI></UL><BR>AI концепция:<BR><UL><LI>завтрак в ресторане Breeze с 07:00 до 10:30</LI><LI>обед в ресторане Breeze с 12:30 до 15:00, включены безалкогольные напитки, пиво, вино, крепкие напитки, сервированные по бокалам, свежевыжатые соки не включены</LI><LI>ужин в ресторане Breeze с 18:30 до 23:00, включены безалкогольные напитки, пиво, вино, крепкие напитки, сервированные по бокалам, свежевыжатые соки не включены</LI><LI>чай и кофе, минеральная вода и безалкогольные (свежевыжатые соки не включены) и алкогольные напитки сервируются по бокалам в The Lounge с 10:00 до 23:00 и в Grand Bleu Beach Restaurant and Bar с 10:00 до 18:00; алкогольные напитки подаются только с 11:00</LI><LI>гость может получить только 2 напитка (бокала) за раз</LI><LI>скидка 30% на обед или ужин в The Lounge, Pool Bar и Grand Bleu Restaurant</LI><LI>мини-бар и сервис в номер не включены в концепт</LI><LI>напитки, включенные в концепт: безалкогольные напитки (Coca Cola (Light), Fanta, Sprite (Light), пакетированные фруктовые соки (апельсиновый, ананасовый, яблочный), минеральная вода местных производителей (с газом и без), чай, кофе, белое и красное вино, пиво, виски, джин, водка, ром, текила, бренди, коктейли и моктейли</LI><LI>специальные условия концепта: просим гостей принять во внимание, что в некоторые дни законом запрещена подача алкогольных напитков; обычно запрет длится 24 часа, во время Рамадана условия концепта меняются в соответствии с законом, по правилам ОАЭ алкогольные напитки не предоставляются лицам, не достигшим 21 года</LI><LI>в концепты не включены снеки и мороженое</LI></UL>","images":{"image":["//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502240.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502241.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502242.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502243.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502244.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502245.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502246.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502247.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502248.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-102502249.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022410.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022411.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022412.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022413.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022414.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022415.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022416.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022417.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022418.jpg","//static.tourvisor.ru/hotel_pics/verybig/9/radisson-blu-resort-fujairah-1025022419.jpg","https://edge.travelatacdn.ru/thumbs/940x705/upload/2022_07/content_hotel_62124577bb1ba6.47062597.jpeg","https://media.kupo.la/thumbor/unsafe/preset/orig/images/2017/4/19/57903-11688165.jpg"]},"imagescount":"20","coord1":"25.601219","coord2":"56.338737","reviews":{"review":[{"name":"Елена","content":"Мы сейчас  еще отдыхаем в этом отеле. Начну  с начала: мы приехали  в отель после  15.00, на ресепшен нас  встретил  русскоговорящий парень. Попросили предоставить номер  по возможности  на 3 этаже, он любезно согласился нам в этом помочь. Но как оказалось, номеров стандарт на 3 этаже  не было  свободных. Он решил и эту  проблему, предоставив нам номер  категорией  выше - полу люкс на 3 этаже в 1 корпусе с шикарным видим прямо  на о. Снупи. Очень  ему за это  благодарны. Нас сразу же проводили в номер, отвезли нас багаж, все показали, рассказали. Номер оказался  тоже шикарный, мебель  не выглядит уставшей, все современные и в отличном состоянии. Вечерами  проводится анимация  как  для детей, так и для взрослых прямо  у нас под окнами. Так же под окнами у нас располагается  бассейн с подогревом. По уборке  нет замечаний, всегда все идеально чисто. Кроме того, из полотенец дважды оставляли  красоту  в виде  лебедей  и сердца. Пляж  рядом, вода  теплая, лежаков всем хватает. Еда не совсем  европейская, многое на любителя, но все равно  всем  всего хватает. У нас система питания All, поэтому пользуемся всеми благами, включая напитки. \nБыл случай, когда муж  оставил обувь  у крана для мытья ног и придя обратно не обнаружил обувь там. Решить проблему  помогла русскоговорящая девушка  Алина, очень  приветливая девушка. \nТак же у туроператора Sun & Fun нам  очень  повезло в гидом - Васиб. Он не  просто добросовестно  выполнил свою работу полностью  нас во всем проконсультировав, но еще и съэкономил нам  деньги неоднократно дав дельные советы. И да, экскурсии у него мы купили дешевле чем туристы из нашего  же отеля  у другого туроператора. \nОчень  понравился отель. Однозначно  рекомендую.","traveltime":"декабрь 2024","positive":"","negative":"","rate":"5","reviewdate":"23.12.2024","reviewtime":"14:27:56","sourcelink":""},{"name":"","content":"Добрый вечер! Отдыхали в этом отеле с 15.11 по 25.11.24. Впечатления только положительные, вода - кайф, температура - кайф и всё остальное тоже! По приезду конечно не сразу заселили, хотя обещали после 12ти заселить, мы, понадеялись на это и стали ждать, хотя могли сразу переодеться и пойти на пляж, купаться...  По истечении времени, мы, несколько раз подходили, узнавали в чем причина отказа. Решили обратиться к Алине, которая там работает, она быстро решила наш вопрос, хотя время уже было около двух дня, а там заселение написано в три. Она, умничка, молодчинка нам помогла. За что, мы ей очень блогадарны!\n  Если надумаете брать туда тур, лучше брать завтрак и ужин, или всё включено, потому что поблизости нет никаких кафе и магазинов. Есть фруктовый рынок, в 2,5 км и есть поближе алкомаркет и всё, больше ничего...\n  В остальном, всё хорошо. Мы жили в третьем корпусе, там все номера с видом на море. Все стараются расположиться в первом и во втором корпусах, а нам дали в третьем. Это был райский уголок, где журчала водичка, где был изумительный, зеленый вид, куда все ходили фотографироваться, пели птички, купались дети в бассейне....\n  Спасибо, за прекрасный отдых! Возможно, со временем мы туда вернёмся.\n Расих, Насима и Флида.","traveltime":"декабрь 2024","positive":"","negative":"","rate":"5","reviewdate":"11.12.2024","reviewtime":"18:56:14","sourcelink":""},{"name":"Анна","content":"Прекрасный отель для семейного отдыха. Сервис - на 5. В номере чистота, ежедневная замена постельного. \nШведский стол очень разнообразный, вся еда качественная и хорошо приготовлена. Море чистое, рыбы плавают, краники бегают, с волнореза ходили каждый день смотреть черепах. \nОчень рекомендую отнль","traveltime":"ноябрь 2024","positive":"","negative":"","rate":"5","reviewdate":"26.11.2024","reviewtime":"16:20:12","sourcelink":""},{"name":"Юрий","content":"Отдыхали с 21 октября по 27 октября 2024г в номере 3214. В этом отеле останавливаемся второй раз по системе полный пансион и очень этому рады. Покупаем качественный алкоголь на территории отеля в магазине. Питание -голодным не останешься, в принципе есть все. Обслуживание номеров-парни спешат с уборкой, может быть не всегда качественно, но особых нареканий нет. Да номера уставшие, но это не вызывает дискомфорта, основное время проводили на океане, в номер приходили только спать. Снимаю только звезду за шумный кондиционер в номере, реально надо бы их обслужить, уж очень шумные. Хорошая и большая территория, мне есть с чем сравнивать( в Фуджейре 4раз). Сотрудникам ресепшен-окромное спасибо за помощь и поддержку. Рынок в 15 минутах ходьбы или на такси. Шикарное манго по 5дирхам за кг. Там же магазин , где можно купить пепси, спрайт, и тд по фикс цене 8дирхам за 2л.","traveltime":"октябрь 2024","positive":"","negative":"","rate":"4","reviewdate":"30.10.2024","reviewtime":"15:07:57","sourcelink":""},{"name":"Кристина","content":"В Фуджейре мы уже третий раз, отдыхаем с детьми, поэтому отель выбираем всегда на All. Сюда едем за Индийским океаном. Если отель считает себя на 5*, то сильно ошибается. \nСам отель и номера очень уставшие. Но с этим жить можно, по большей степени целый день ты на море. \nПитание: вот здесь вообще всё весело, честно с таким не сталкивалась ни раз. Рестораном это не назовешь, как сказали мои дети - «столовка». Каждый прием пищи - это борьба за стол, их не убирают и поэтому мест катастрофически не хватает, потом квест в поиске вилок. Можно заказать детям картошку фри и нагетцы, но не факт, что вы это дождетесь. Заказ напитков - если хочешь получить их вовремя, то надо в зале выловить нужного человека, сами не подходят. Твой заказ могут принести частично или просто забыть про тебя - здесь это норма. Шведский стол, если его можно так назвать - это каждый раз одно и тоже, меню изо дня в день не меняется совсем. Питание не отвечает звездности данного отеля. И на претензию, получаешь изумительный ответ - сколько вы заплатили? не надо нас сравнивать с Риксосом! Персонал вообще не клиентоориентированный, его не хватает, отель не справляется с потоком! Вход в море камни и ракушка - крайне не приятно. \nЕсли вы все решали выбрать этот отель, берите только на УЛЬТРА ВСЕ ВКЛЮЧЕНО! \nМы спасаемся только своим хорошим настроением и морем!","traveltime":"октябрь 2024","positive":"","negative":"","rate":"2","reviewdate":"25.10.2024","reviewtime":"18:00:00","sourcelink":""},{"name":"Владимир","content":"Хороший отель. \nСемейный отдых: мы и 2 дитя - 15 и 7 лет.\nИндивидуальный трансфер от нового аэропорта Дубая около 2 часов: не страшно, дети спали, мы любовались верблюдами на обочине. Приехали утром, около 10, ждали заселение до обеда. Оплатили завтрак (голодные дети), 6000 за четверых.  Оплата сразу на ресепшене при регистрации.\nНомера хорошие. Чисто, соседей не слышали (в ранних отзывах жаловались на шум, мы не заметили). Убирались каждый день (за день до выезда уборщики пропали), если мы были в номере - они уходили совсем, потом приходилось ловить их и просить зайти убраться/поменять полотенца (не критично). Были претензии по чистоте ванны, но после того как мы поплавали в море с нефтью - они пропали. Очень тяжело отмываться.... Детское масло в помощь. У спасателей в наличии.\nПляж - супер! Это то, ради чего надо ехать в этот отель. Песок, море, волны. Есть несколько бассейнов: для взрослых, для детей, общие (у главного корпуса работал до 22:00! не встречал такого в Египте). Но мы в, основном, были на море. Волны есть всегда! Примите это к сведению. Если вы или дети боитесь волн, то вам в бассейн.  В хорошую погоду - волны были (ветер со стороны океана всегда). Поднялся ветер - волны стали больше, спасатели подняли красный флаг на пляже (спасатели всегда на месте).  При сильном ветре к берегу прибивает нефтяные капли. Можно почувствовать себя миллионером, но отмываться тяжело. В августа получилось совсем не жарко: 33-35, все из-за океанских ветров и местных гор. За 10 дней никто из нас не обгорел. \nНа такси ездили в местный супермаркет Лулу (35 дирхам, типа большого Перекрестка): фрукты, вода, соки, шоколад, чипсы, сувениры, пармезан (дороже, чем в Европе). Есть почти все. На втором этаже - детский магазин, можно сувениры глянуть. По дороге можно заскочить в макдак, но цены там убивают...\nОтель на 95% занят русскоязычным населением. Были еще немцы и англичане, остальные косили под русских (белорусы и прибылты).\nИз развлечений только водное поло, дартс, йога для дам и пляжный волейбол. Вечером лото или пляски под Шатунова (тяжело, конечно, каждый вечер слушать \"седую ночь\", но слово пацана решает...).\nВ отеле ость алкомаркет, в котором цены дешевле дьютифри. Он решает многие вопросы.\nПри ночном выезде нас потеряли, но отдали в дорогу чужие завтраки.","traveltime":"август 2024","positive":"","negative":"","rate":"5","reviewdate":"19.09.2024","reviewtime":"00:03:44","sourcelink":""},{"name":"Элен","content":"Очень хороший отель отдыхали семьёй я муж Син и дочка, очень довольны , гостиница очень чистая , море вообще шикарно  , а самое главное очень хороший дружелюбный сотрудники всегда помогают и подсказывают!!","traveltime":"август 2024","positive":"","negative":"","rate":"5","reviewdate":"04.09.2024","reviewtime":"00:06:15","sourcelink":""},{"name":"Александр","content":"Плюсы:\n1) разнообразное питание: большой выбор горячего, каши, супы, десерты, фрукты, овощи\n2) на пляже ваем хватает лежаков, вход в воду песочно-ракушечный, но терпимо, все босиком\n3) персонал максимально вежливый, все помогут, подскажут и будут рады чаевым\n4) уборка каждый день, смена полотенец, пополнение запасов воды и ванных принадлежностей\n5) ненавязчивая продажа товаров и услуг. Никто не докучает, один раз деликатно поинтересуются и больше не пристают\n6) массаж в спа был хорош. Он хоть и дороговат (вышло около 6000 руб за сеанс), но того стоил: промяли все зажимы и напряжения\n7) вполне чистые бассейны. По системе AI или Soft AI безалкогольные напитки нальют в любом баре и в любом количестве\n8) все номера отеля выходят на море и имеют балкон\n9) спасатели на пляже и у бассейнов делают свою работу на 100%, а не смотрят в телефон\n10) хороший Wi-Fi на всей территории отеля и даже на пляже\n\nМинусы:\n1) высокая влажность. В номере сыро. На стенах даже видны потеки, когда влага текла сплошником по стенам\n2) нам дали наверно самый убитый номер, но мы приехали ради пляжа, поэтому не просили поменять. Есть ванна и душ, но ванная в плесени и выглядит давно нечищенной - в такой не рискнёшь полежать\n3) магазин в лобби слишком дорогой. Спрей от загара 150 дерхам, в гипермаркете купили точно такой же за 40\n4) сауна и хамам никакие, на улице горячее, чем в сауне\n5) очень сильная слышимость, прям ооочень. Сосед храпит не в соседнем номере, а у вас в шкафу. Слышно каждый вздох и чих \nОтель старенький, уставший и требует ремонта. Но этот недостаток компенсируется расположением на берегу моря. Он только для пляжного отдыха, так как распологается в отдалении и рядом практически ничего нет. От аэропорта ехать 2 часа. Ближайший магазин в 10 минутах на такси - Лулу гипермаркет (не путать с Лулу моллом, до которого больше часа езды) - из отеля такси нам вызвали за 35 дерхам, обратно приехали за 25. Там хороший курс обмена валюты. В отеле на ресепшене тоже поменяют, но немного по-другому курсу. В километрах трёх пешком по оживлённой трассе есть рынок с фруктами.\nОтель семейного типа, много детей. 90% отдыхающих - русские. \nБрали лодочную экскурсию в оман. Сильно понравилось. Ехать 15 минут, переход границы быстрый. Целый день в океане, в бухте нырять с маской (много рыб, черепахи), кататься на каное или сапе, обед, рыбалка (правда никто ничего не поймал). Спасибо экскурсоводу молдаванке Оксане - приятная весёлая женщина с отличным чувством юмора. \nПокупали тур у Fun&Sun. Гид принимает оплату за экскурсии по спб рублями - очень удобно. \nВ целом остались довольны, хотя цена, на мой взгляд, завышена","traveltime":"май 2024","positive":"","negative":"","rate":"4","reviewdate":"29.05.2024","reviewtime":"18:23:07","sourcelink":""},{"name":"Оксана","content":"Добрый день! Хочу оствить отзыв об этом отеле. Писать как прилетели, и улетели в ливень 16.04.2024г не буду!))))) Отдыхали с детьми. Отель понравился, хоть и мебель не новая в номерах, но жить можно. Уборка каждый день. Питание не изобилие омаров и кальмаров покушать есть что (мясо говядина отменное). Официанты дружелюбны и приветливы. Очень понравилась официант Jeni. Пляж хорош)))) море замечательное. Лежаков хватало. Бары на пляже тоже норм. Иногда есть вечерами детская анимация (оценила бы на 3 ) есть над чем поработать. Днем тоже ходили аниматоры зазывали на всякие мероприятия. Отпуск удался хоть и улететь удалось с запозданием. Рекомендую к посещению и проживанию.","traveltime":"апрель 2024","positive":"","negative":"","rate":"5","reviewdate":"22.04.2024","reviewtime":"14:46:58","sourcelink":""},{"name":"","content":"Всем доброе утречко! Хотела бы тоже оставить отзыв об этом прекрасном месте  Отдыхали с мужем с 7 по 15 февраля.  Понравилось нам всё, номер прекрасный, персонал отзывчивый, на все наши вопросы, пожелания  тут же всё решалось. Питание разнообразное. Океан  , пляж чистый. Важно- все номера с выходом на океан, в любом корпусе, у нас был 2 корпус, самая середина,. На  территории 4 бассейна,. Вообщем всё супер. Спасибо огромное за прекрасный отдых. Вернулась бы ещё раз","traveltime":"февраль 2024","positive":"","negative":"","rate":"5","reviewdate":"22.02.2024","reviewtime":"06:37:07","sourcelink":""}]},"reviewscount":"10","region_en":"Fujairah","region_kk":"Фуджейра","country_en":"UAE","country_kk":"БАӘ"}
  

• byly_hotel_info
  Тип: longtext
  Комментарий: Полная информация об отеле если он был найден в нашей системе обычно нигде не используем

• count_day_to_fly
  Тип: int(11)
  Комментарий: Сколько дней до вылета с момента оформления тура

• price
  Тип: int(11)
  Комментарий: Стоимость тура

• predoplata
  Тип: int(11)
  Комментарий: Размер требуемой предоплаты за тур 

• isAgent
  Тип: int(11)
  Комментарий: Оформляет агент или пользователь если 0 то пользователь если 1 то агент

• payments
  Тип: int(11)
  Комментарий: Номер выбранной платежной системы

• listPassangers
  Тип: longtext
  Комментарий: Пассажиры по туру в таком формате
  [{"id":104,"passanger_famale":"KUATBEKOVA","passanger_name":"ULDANAY","grazhdanstvo":"Республика Казахстан","date_berthday":"1970-01-20","date_apend":"2025-01-06 17:06:28","passangers_phone":"+7 (707) 415-92-70","link_from_documents1":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_IMG_7169.jpeg","link_from_documents2":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_IMG_7164.jpeg","from_user_id":57,"pasport_link":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_IMG_7172.jpeg","number_pasport":"","number_udv":"056537333","iin":"700120403307","pasport_srok":"2031-01-26 00:00:00","udv_srok":"2034-05-15 00:00:00","isChildren":0},{"id":107,"passanger_famale":"TAISHIKOVA","passanger_name":"GULNAR","grazhdanstvo":"Республика Казахстан","date_berthday":"1965-12-02","date_apend":"2025-01-06 17:10:27","passangers_phone":"+7 (708) 151-62-21","link_from_documents1":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_31c4b179-4f12-4dcc-88ab-e10422e3df47.jpeg","link_from_documents2":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_f36928f1-a2fd-4c58-b1e4-962e909a2d22.jpeg","from_user_id":57,"pasport_link":"https://api.v.2.byfly.kz/images/documents_passangers/scaled_IMG_7165.jpeg","number_pasport":"","number_udv":"049009433","iin":"651202401189","pasport_srok":"2025-08-24 00:00:00","udv_srok":"2031-08-16 00:00:00","isChildren":0}]

• dop_pojelaniya
  Тип: text
  Комментарий: Дополнительные пожелания от клиента

• nakrutka
  Тип: int(11)
  Комментарий: Процент накрутки который установлен по туру максимально 40%

• cancle_description
  Тип: text
  Комментарий: Описание причины отмены бронирования

• isCancle
  Тип: int(11)
  Комментарий: 0 или 1 если 1 значит отменена

• isSuccess
  Тип: int(11)
  Комментарий: 0 или 1 если 1 значит выполнена заявка и турист уже вернулся

• franchaice_id
  Тип: int(11)
  Комментарий: ID франшизы от которой продан тур

• manager_id
  Тип: int(11)
  Комментарий: ID менеджера отработавшего данную заявку

• user_id
  Тип: int(11)
  Комментарий: ID пользователя с чьего кабинета оформлен тур

• bonusPay
  Тип: int(11)
  Комментарий: Сумма оплаченная с бонусов пользователем

• dateOffPay
  Тип: datetime
  Комментарий: Дата в формате Y-m-d H:i:s до которой пользователь должен оплатить тур

• flyDate
  Тип: date
  Комментарий: Дата вылета на отдых в формате Y-m-d H:i:s 

• includesPrice
  Тип: int(11)
  Комментарий: Сумма оплаченная пользователем

• kaspi_pay_to_number
  Тип: varchar(255)
  Комментарий: Пользователь хочет оплатить тур в расрочку через Kaspi и тут указан номер телефона на который нужно выставить счет

• percentage_predoplata
  Тип: int(11)
  Комментарий: Процент предоплаты необходимы для оформления брони

• type
  Тип: varchar(255)
  Комментарий: tour - обычный тур, spec - спец предложение, test - тестовая заявка ее не видят менеджеры 

• real_price
  Тип: int(11)
  Комментарий: Реальная стоимость тура

• sub_user
  Тип: int(11)
  Комментарий: Если продажа делалась через менеджера то тут указывается ID пользователя который совершил продажу а менеджер со своего аккаунта оформляет тур

• send_money_agent
  Тип: int(11)
  Комментарий: Тут указывается сколько денег отправлено агенту или пользователю в виде накрутки тому кто совершил продажу

• summ_send_money
  Тип: int(11)
  Комментарий: Тут указывается сколько денег распределенно по линиям в виде процентов дохода от команды

• tourId
  Тип: varchar(255)
  Комментарий: ID тура в системе TourVisor

• saler_id
  Тип: int(11)
  Комментарий: Если тур был продан по ссылке то тут указывается ID пользователя который продал тур по ссылке 

• order_id_in_operator_systems
  Тип: varchar(255)
  Комментарий: ID заявки бронирования в системе туроператора необходимо для менеджера и быстрого поиска туров по умолчанию NULL

• date_deadline_pay_in_operarator
  Тип: datetime
  Комментарий: Дата до которой необходимо внести остаток оплаты туроператору крайни срок для оплаты по туру по умолчанию NULL



ТАБЛИЦА: order_vozvrat

Тут таблица с возвратами по проданным тура
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• summ
  Тип: int(11)
  Комментарий: Сумма возврата

• date
  Тип: timestamp
  Комментарий: Дата создания записи в формате Y-m-d H:i:s

• description
  Тип: text
  Комментарий: Описание причины возврата

• order_id
  Тип: int(11)
  Комментарий: ID заказа проданного тура


ТАБЛИЦА: passangers
Пользователи до начала оформления тура добавляют в своем личном кабинете пассажиров а потом их прикрепляют к заявкам на проданные туры

--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• passanger_famale
  Тип: varchar(255)
  Комментарий: Фамилия пассажира

• passanger_name
  Тип: varchar(255)
  Комментарий: Имя пассажира

• grazhdanstvo
  Тип: varchar(255)
  Комментарий: Гражданство пассажира

• date_berthday
  Тип: date
  Комментарий: День рождения пассажира

• date_apend
  Тип: timestamp
  Комментарий: Дата добавления пассажира в формате Y-m-d H:i:s

• passangers_phone
  Тип: varchar(255)
  Комментарий: Телефон пассажира 

• from_user_id
  Тип: int(11)
  Комментарий: ID пользователя с чьего аккаунта добавлен пассажир

• pasport_link
  Тип: text
  Комментарий: Ссылка на фото паспорта

• number_pasport
  Тип: varchar(255)
  Комментарий: Номер паспорта

• iin
  Тип: varchar(255)
  Комментарий: Идентификационный номер пассажира

• pasport_srok
  Тип: varchar(255)
  Комментарий: Срок годности паспорта

• isChildren
  Тип: int(11)
  Комментарий: Взрослый или ребенок 0 - взрослый, 1 - ребенок



ТАБЛИЦА: pre_register
Таблица с предварительной регистрацией пользователей, смотри когда пользователь регистрируется он может указать мой промокод или перейти по моей ссылки для регистрации но я так же могу предварительно его зарегистрировать и когда он пройдет регистрацию автоматический попадет под меня
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• fio
  Тип: text
  Комментарий: Фамилия Имя Отчество

• phone
  Тип: varchar(255)
  Комментарий: Телефон

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s

• user_add
  Тип: int(11)
  Комментарий: Пользователь который зарегистрировал предварительно

• status
  Тип: varchar(255)
  Комментарий: Статус pending - Ожидает регистрацию, registered - Зарегистрировался



ТАБЛИЦА: promo_agent

Смотри для наших агентов мы организовали промоушены и акции при выполнении определенных показателей они получают данные призы
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата создания в системе

• title
  Тип: text
  Комментарий: Название акции

• description
  Тип: text
  Комментарий: Описание акции

• whats
  Тип: varchar(255)
  Комментарий: Что считается agent - Например за привлечение агентов, tourMoney за проданные туры, copilka - за проданные накопительные ячейки

• count
  Тип: int(11)
  Комментарий: Сколько должен быть показатель для получения приза

• lines_arrow
  Тип: int(11)
  Комментарий: по скольки линиям идет подсчет

• date_stop
  Тип: datetime
  Комментарий: Дата окончания акции в формате Y-m-d H:i:s

• prices
  Тип: int(11)
  Комментарий: Сумма выделенная на приз

• count_users
  Тип: int(11)
  Комментарий: Сколько участников получат награду первые кто достигнет показателей

• present
  Тип: text
  Комментарий: Приз который будет вручен

• sended
  Тип: int(11)
  Комментарий: Сколько человек получили приз




ТАБЛИЦА: regions
Таблица с описанием регионов в системе
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• visor_id
  Тип: int(11)
  Комментарий: ID региона в системе tourVisor

• countryid
  Тип: int(11)
  Комментарий: ID страны в нашей базе которому принадлежит регион

• title
  Тип: varchar(255)
  Комментарий: Название на русском

• title_en
  Тип: text
  Комментарий: Название на английском

• title_kk
  Тип: text
  Комментарий: Название на казахском

• desc_text
  Тип: longtext
  Комментарий: Описание региона

• checked
  Тип: int(11)
  Комментарий: 0 или 1 проверен или нет

• capital
  Тип: int(11)
  Комментарий: 0 или 1 столица или нет 1 - столица

• sorter
  Тип: int(11)
  Комментарий: Сортировка чем выше значение тем должно быть выше во всех списках

• image_count
  Тип: int(11)
  Комментарий: Кол-во картинок региона

• min_price
  Тип: int(11)
  Комментарий: Туры в этот регион начинаются от этой стоимости



ТАБЛИЦА: regions_image
фотографии региона
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• regions_id
  Тип: int(11)
  Комментарий: ID региона

• image
  Тип: varchar(255)
  Комментарий: Ссылка на изображение


Так же паралельно на flutter мы собираем CRM систему которая будет работать в браузере методы обращения к БД там так же через метод db загрузка картинок все тоже самое это CRM система для работы с заявками на покупку туров в системе

ТАБЛИЦА: settings

Таблица с прочими данными из системы содержит всего одну запись с ID 1
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• call_center
  Тип: varchar(255)
  Комментарий: Телефон CALL центра

• call_center_whats
  Тип: varchar(255)
  Комментарий: Телефон CallCenter с Whatsapp

• CallCenterAdress
  Тип: text
  Комментарий: Адресс колл центра

• jaloby_whats1
  Тип: varchar(255)
  Комментарий: Телефон для жалоб 1 с ватсап

• jaloby_whats2
  Тип: varchar(255)
  Комментарий: Телефон для жалоб 2 с ватсап

• jaloby_whats_title1
  Тип: text
  Комментарий: Заголовок для жалоб 1

• jaloby_whats_title2
  Тип: text
  Комментарий: Заголовок для жалоб 2

• rejim_raboty
  Тип: text
  Комментарий: Режим работы офисов

• instagram_link
  Тип: text
  Комментарий: Ссылка на Instagram

• tiktok_link
  Тип: text
  Комментарий: Ссылка на TikTok

• youtube_link
  Тип: text
  Комментарий: Ссылка на Youtube

• instagram_title
  Тип: text
  Комментарий: Заголовок ссылки Instagram

• tik_tok_title
  Тип: text
  Комментарий: Заголовок ссылки TikTok

• youtube_title
  Тип: text
  Комментарий: Заголовок ссылки Youtube

• insta_dev_token
  Тип: text
  Комментарий: Токен разработчика инстаграм для автопубликаций

• open_qvest
  Тип: int(11)
  Комментарий: Не помню что за поле

ТАБЛИЦА: custom_spec_tours
Таблица для хранения кастомных спец предложений по турам. Администраторы могут добавлять собственные туры с произвольными параметрами, которые будут автоматически показываться пользователям при поиске спец предложений для соответствующего города вылета. Кастомные туры имеют приоритет показа и отображаются в начале списка результатов.
• id
Тип: int(11)
Комментарий: ID записи в базе данных (автоинкремент)

• departure_city_id
Тип: int(11)
Комментарий: ID города вылета из системы TourVisor для которого будет показываться данный тур

• tour_data
Тип: longtext
Комментарий: JSON объект с полной информацией о туре включая все поля как в ответе от TourVisor (название отеля, страна, регион, питание, звездность, фото и т.д.)

• price
Тип: int(11)
Комментарий: Стоимость тура в тенге которая будет показываться пользователям

• count_place
Тип: int(11)
Комментарий: Количество доступных мест по данному туру

• sales_place
Тип: int(11)
Комментарий: Количество уже проданных мест по туру

• discount
Тип: int(11)
Комментарий: Размер скидки в процентах для расчета старой цены и процента экономии

• is_active
Тип: tinyint(1)
Комментарий: Активен ли тур для показа пользователям (1 - активен, 0 - скрыт)

• date_created
Тип: timestamp
Комментарий: Дата и время добавления тура в систему в формате Y-m-d H:i:s

• date_updated
Тип: datetime
Комментарий: Дата и время последнего обновления информации по туру в формате Y-m-d H:i:s

• priority
Тип: int(11)
Комментарий: Приоритет показа тура (чем выше число, тем выше в списке будет показан тур)

• tour_type
Тип: enum('regular','early_booking','super_early_booking','custom')
Комментарий: Тип тура определяющий какие бейджи и метки будут показаны пользователю

• country_id
Тип: int(11)
Комментарий: ID страны назначения из нашей внутренней системы для быстрого поиска и фильтрации

• hotel_name
Тип: varchar(255)
Комментарий: Название отеля для быстрого поиска без парсинга JSON данных

• fly_date
Тип: date
Комментарий: Дата вылета в формате Y-m-d для быстрого поиска и фильтрации по датам

• nights
Тип: int(11)
Комментарий: Количество ночей в туре для быстрого поиска без парсинга JSON данных

• touridreal
  Тип: varchar(255)
  Комментарий: Реальный ID тура в системе tourvisor





ТАБЛИЦА: site_translate
Перевод сайта на 3 языка
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• text_ru
  Тип: text
  Комментарий: Текст на русском

• text_en
  Тип: text
  Комментарий: Текст на английском

• text_kk
  Тип: text
  Комментарий: Текст на Казахском


ТАБЛИЦА: hotel_reviews
Отзывы агентов о отелях с модерацией и возможностью прикрепления изображений
--------------------------------------------------
• id
Тип: int(11)
Комментарий: ID отзыва (автоинкремент)

• hotel_code
Тип: varchar(50)
Комментарий: Код отеля в системе TourVisor

• hotel_name
Тип: varchar(255)
Комментарий: Название отеля для быстрого поиска

• user_id
Тип: int(11)
Комментарий: ID пользователя-агента оставившего отзыв

• review_text
Тип: text
Комментарий: Текст отзыва об отеле

• rating
Тип: int(11)
Комментарий: Оценка отеля от 1 до 5 звезд (по умолчанию 5)

• image_url
Тип: text
Комментарий: Ссылка на изображение прикрепленное к отзыву (может быть NULL)

• is_moderated
Тип: tinyint(1)
Комментарий: Прошел ли отзыв модерацию (0 - на модерации, 1 - одобрен)

• is_pinned
Тип: tinyint(1)
Комментарий: Закреплен ли отзыв (0 - обычный, 1 - закрепленный)

• date_created
Тип: timestamp
Комментарий: Дата и время создания отзыва в формате Y-m-d H:i:s

• date_moderated
Тип: datetime
Комментарий: Дата и время модерации отзыва (NULL если не модерирован)

• moderated_by
Тип: int(11)
Комментарий: ID администратора который модерировал отзыв (NULL если не модерирован)

• rejection_reason
Тип: text
Комментарий: Причина отклонения отзыва (NULL если одобрен или на модерации)





ТАБЛИЦА: stars

Справочник звездность отелей
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• id_visor
  Тип: int(11)
  Комментарий: ID в системе TourVisor

• name
  Тип: varchar(255)
  Комментарий: Название 2*,3* и тд




ТАБЛИЦА: task_user
Напоминалки для пользователей
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• phone_from
  Тип: varchar(255)
  Комментарий: Телефон от кого задача

• phone_to
  Тип: varchar(255)
  Комментарий: Телефон кому задача

• text
  Тип: text
  Комментарий: Описание задачи

• date_off
  Тип: datetime
  Комментарий: Дата когда задача должна быть выполнена

• date_create
  Тип: timestamp
  Комментарий: Дата создания задачи

• notify_sended
  Тип: int(11)
  Комментарий: Отправлено уведомление или нет 0 или 1



ТАБЛИЦА: to_agents_start_test_quest
До того как пользователь начнет обучение на агента он проходит тест на адекватность и способность работать с такой системой
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• query
  Тип: text
  Комментарий: Вопрос

• answer1
  Тип: text
  Комментарий: Вариант ответа 1

• answer2
  Тип: text
  Комментарий: Вариант ответа 2

• answer3
  Тип: text
  Комментарий: Варриант ответа 3

• answer1_bal
  Тип: int(11)
  Комментарий: бал за первый варриант ответа

• answer2_bal
  Тип: int(11)
  Комментарий: Бал за второй варриант ответа

• answer3_bal
  Тип: int(11)
  Комментарий: бал за 3 вариант ответа

• date_create
  Тип: timestamp
  Комментарий: Дата создания в формате Y-m-d H:i:s

• category
  Тип: varchar(255) 
  Комментарий: Категория вопроса например такая Реакция на проблемы




ТАБЛИЦА: user_companies
Компании пользователей для выставления счетов за туры
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• user_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего компанию

• company_name
  Тип: varchar(255)
  Комментарий: Название компании

• company_adress
  Тип: varchar(255)
  Комментарий: Юридический адрес компании

• date_create
  Тип: timestamp
  Комментарий: Дата добавления компании

• bin_iin
  Тип: varchar(255)
  Комментарий: Идентификационный номер компании



ТАБЛИЦА: user_ip
Реквизиты пользователей для вывода заработанных средств. Поддерживает различные формы собственности для всех стран СНГ
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата добавления в формате Y-m-d H:i:s

• user_id
  Тип: int(11)
  Комментарий: ID пользователя добавившего реквизиты

• company_form
  Тип: varchar(10)
  Комментарий: Форма собственности (ИП, ТОО, ООО, АО, ПК, КТ, ЗАО, ОАО, ОДО, ЧП, ОсОО и т.д.)

• company_name
  Тип: varchar(255)
  Комментарий: Название компании (заполняется только для юридических лиц, для ИП может быть NULL)

• country
  Тип: varchar(100)
  Комментарий: Страна регистрации (Казахстан, Россия, Беларусь, Узбекистан, Кыргызстан, Таджикистан, Армения, Азербайджан, Молдова, Грузия)

• country_code
  Тип: varchar(3)
  Комментарий: Код страны (KZ, RU, BY, UZ, KG, TJ, AM, AZ, MD, GE)

• owner_full_name
  Тип: varchar(255)
  Комментарий: ФИО владельца ИП или руководителя юридического лица

• iinbiin
  Тип: varchar(255)
  Комментарий: Идентификационный номер (ИИН/БИН для КZ, ИНН для RU, УНП для BY, СТИР для UZ, налоговый номер для других стран)

• iban
  Тип: varchar(34)
  Комментарий: IBAN банковского счета

• bik
  Тип: varchar(255)
  Комментарий: БИК банка

• iik
  Тип: varchar(255)
  Комментарий: Номер расчетного счета

• talon_ip
  Тип: text
  Комментарий: Ссылка на файл справки о регистрации (талон уведомление для ИП, справка о регистрации для ТОО и т.д.)

• spravka_bank
  Тип: text
  Комментарий: Справка с банка о наличии счета ссылка на файл

• udv_ip
  Тип: text
  Комментарий: Ссылка на файл удостоверение личности (паспорт, ID карта)

• is_active
  Тип: tinyint(1)
  Комментарий: 1 - активные реквизиты, 0 - удаленные/неактивные

• verification_status
  Тип: enum('pending', 'verified', 'rejected')
  Комментарий: Статус проверки реквизитов: pending - ожидает проверки, verified - проверены и одобрены, rejected - отклонены

• verified_by
  Тип: int(11)
  Комментарий: ID администратора (пользователя с is_super_user=1 или is_buh=1), который проверил реквизиты

• verified_at
  Тип: datetime
  Комментарий: Дата и время проверки реквизитов в формате Y-m-d H:i:s

• rejection_reason
  Тип: text
  Комментарий: Причина отклонения реквизитов (заполняется только при verification_status = 'rejected')



ТАБЛИЦА: user_statused
Статусы пользователей пользователь может обладать несколькими статусами например агент и инвестор или просто агент в названии статусов коды
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• code_status
  Тип: int(255)
  Комментарий: Код статуса

• date_add
  Тип: timestamp
  Комментарий: Дата добавления статуса

• user_id
  Тип: int(11)
  Комментарий: Пользователь к которому применяется статус его ID




ТАБЛИЦА: user_tranzactions
Все денежные операции по пользователям и агентам
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• date_create
  Тип: timestamp
  Комментарий: Дата операции в формате Y-m-d H:i:s

• summ
  Тип: int(11)
  Комментарий: Сумма операции в тенге

• type_operations
  Тип: int(11)
  Комментарий: Тип операции 0 - Оплата чего либо пользователем, 1 - Выплата пользователю от компании

• user_id
  Тип: int(11)
  Комментарий: ID пользователя совершившего операцию

• pay_info
  Тип: text
  Комментарий: Информация о платеже

• check_link
  Тип: text
  Комментарий: Ссылка на чек может быть пустым

• operation
  Тип: varchar(255)
  Комментарий: copilka - Оплата накопительной ячейки, coach - Оплата обучения, tour - оплата тура, oute - вывод средств агента

• user_get_pay
  Тип: int(11)
  Комментарий: ID пользователя выполнившего операцию это может быть админ который сделал операцию

• payments
  Тип: varchar(255)
  Комментарий: Название платежной системы как прошел платеж

• tour_id
  Тип: int(11)
  Комментарий: Если оплата по туру то тут ID заявки проданного тура



ТАБЛИЦА: user_whatsapp_groups
Группы WHATSAPP где работает наш ИИ и работают пользователи
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• group_link
  Тип: varchar(255)
  Комментарий: Ссылка на группу

• date_create
  Тип: timestamp
  Комментарий: Дата создания

• user_id
  Тип: int(11)
  Комментарий: Пользователь который создал группу

• avatar_group
  Тип: varchar(255)
  Комментарий: Ссылка на аватар группы может быть пустым

• title_group
  Тип: text
  Комментарий: Название группы

• group_id
  Тип: varchar(255)
  Комментарий: ID группы в ватсап например fbsdjfbjk@g.us

• city_id
  Тип: int(11)
  Комментарий: ID города группы

• defoult_nakrutka
  Тип: int(11)
  Комментарий: Установленная по умолчанию накрутка в эту группу туры будут приходить с этой накруткой



ТАБЛИЦА: users
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: Внутренний ID пользователя

• name
  Тип: text
  Комментарий: Имя пользователя

• famale
  Тип: text
  Комментарий: Фамилия пользователя

• surname
  Тип: text
  Комментарий: Отчество пользователя

• phone
  Тип: varchar(255)
  Комментарий: Телефон всегда в таком формате 77773700773 без пробелов скобок и ковычек

• manager
  Тип: int(11)
  Комментарий: ID закрепленного за пользователем менеджера

• avatar
  Тип: text
  Комментарий: Аватар пользователя может быть пустым

• franchaise
  Тип: int(11)
  Комментарий: ID франшизы за которой закреплен пользователь

• date_registration
  Тип: timestamp
  Комментарий: Дата регистрации пользователя в формате Y-m-d H:i:s

• last_visit
  Тип: datetime
  Комментарий: Дата последней авторизации в формате Y-m-d H:i:s

• balance
  Тип: int(11)
  Комментарий: Баланс пользователя/агента

• bonus
  Тип: int(11)
  Комментарий: Бонусы пользователя/агента

• password
  Тип: text
  Комментарий: Пароль в зашифрованном формате md5

• refer_registration_bonus
  Тип: int(11)
  Комментарий: Когда пользователи регистрируются под этого пользователя на бонусы они получают сумму указанную в этом поле

• blocked_to_time
  Тип: datetime
  Комментарий: По умолчанию NULL если не NULL до тут дата в формате Y-m-d H:i:s до которой данный пользователь заблокирован

• parent_user
  Тип: int(11)
  Комментарий: ID пользователя который пригласил данного пользователя

• promo_code
  Тип: varchar(40)
  Комментарий: Промокод пользователя другие пользователи при регистрации могут указать промокод и зарегистрироваться под этого пользователя и получить реферальный бонус за регистрацию

• user_status
  Тип: varchar(255)
  Комментарий: Статус пользователя user - обычный пользователь, agent - агент компании, coach - агент в статусе Коуч, alpha - Агент закрывший статус Альфа, ambasador - агент закрывший статус Амбасадор

• date_validate_agent
  Тип: datetime
  Комментарий: Дата на которую назначен экзамен на агента

• orient
  Тип: varchar(255)
  Комментарий: test или success - боевой режим или тестовый

• date_couch_start
  Тип: datetime
  Комментарий: Дата начала обучение в формате Y-m-d H:i:s

• defoult_nakrutka
  Тип: int(11)
  Комментарий: Накрутка которую по умолчанию установил агент на продаваемые им туры доступно только агентам

• show_my_data
  Тип: int(11)
  Комментарий: 0 или 1 Показывать или скрывать мои данные в приложении

• latter_my_contacts
  Тип: int(11)
  Комментарий: 0 или 1 делать рассылку по моим контактам или нет 

• latter_is_me
  Тип: int(11)
  Комментарий: Если включена рассылка по контактам то как ее делать 0 от имени компании 1 от моего имени

• start_atestation
  Тип: datetime
  Комментарий: Дата и время в формате Y-m-d H:i:s когда пользователь начал сдавать экзамен может быть null

• end_atestation
  Тип: datetime
  Комментарий: Дата и время в формате Y-m-d H:i:s когда пользователь завершил сдачу экзамена может быть null

• astestation_bal
  Тип: int(11)
  Комментарий: Бал атестации который набрал на экзамене

• atestation_query
  Тип: longtext
  Комментарий: Все вопросы которые были на экзамене включая выбранные пользователем ответы на экзамене в формате json строкой

  Вот пример json: [{"id":"279","quest_ru":"Какой подарок получает агент со статусом Альфа при достижении 2000 человек в команде?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Автомобиль","correct":null},{"text":"Квартира","correct":null},{"text":"Франшиза ByFly","correct":"1"},{"text":"Путёвка на двоих","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Альфа","user_select_answer":0,"user_selected":"1"},{"id":"161","quest_ru":"Какие преимущества могут быть у горящего тура по сравнению с обычным туром?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Гарантия более высокого уровня обслуживания","correct":null},{"text":"Доступность для бронирования в последний момент","correct":"1"},{"text":"Снижение цены","correct":"1"},{"text":"У горящих туров нет преимуществ","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Горящие туры","user_select_answer":0,"user_selected":"2"},{"id":"283","quest_ru":"Какой процент дохода с третьей линии получает агент со статусом Альфа?","quest_en":"","quest_kk":"","answers_ru":[{"text":"1%","correct":null},{"text":"0.1%","correct":null},{"text":"0.2%","correct":"1"},{"text":"0.3%","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Альфа","user_select_answer":0,"user_selected":"2"},{"id":"125","quest_ru":"Какой вид тура включает активный отдых, например, походы, горные восхождения или водные виды спорта?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Активный тур","correct":"1"},{"text":"Экскурсионный тур","correct":null},{"text":"Круизный тур","correct":null},{"text":"Пляжный тур","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Виды туров","user_select_answer":0,"user_selected":"0"},{"id":"146","quest_ru":"Какое преимущество может быть у горящего тура для туристов?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Снижение цены по сравнению с обычным туром","correct":"1"},{"text":"Доступность только в высокий сезон","correct":null},{"text":"Гарантия получения эксклюзивных услуг","correct":null},{"text":"Включение дополнительных экскурсий","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Горящие туры","user_select_answer":0,"user_selected":"0"},{"id":"130","quest_ru":"Что обычно входит в стандартный турпакет?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Только питание","correct":null},{"text":"Только проживание","correct":null},{"text":"Перелёт, проживание и трансфер","correct":"1"},{"text":"Только экскурсии","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Турпакеты","user_select_answer":0,"user_selected":"2"},{"id":"248","quest_ru":"Сколько уровней дохода открывается у агента ByFly при достижении статуса Амбассадор?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Четыре уровня дохода","correct":null},{"text":"Три уровня дохода","correct":"1"},{"text":"Один уровень дохода","correct":null},{"text":"Два уровня дохода","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Амбассадор","user_select_answer":0,"user_selected":"1"},{"id":"282","quest_ru":"Какой процент дохода с четвёртой линии доступен агенту со статусом Альфа?","quest_en":"","quest_kk":"","answers_ru":[{"text":"1%","correct":null},{"text":"0.2%","correct":null},{"text":"0.1%","correct":"1"},{"text":"0.3%","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Альфа","user_select_answer":0,"user_selected":"2"},{"id":"120","quest_ru":"Какой вид тура включает проживание и перелёт, но не включает экскурсионные программы?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Экскурсионный тур","correct":null},{"text":"Круизный тур","correct":null},{"text":"Оздоровительный тур","correct":null},{"text":"Пакетный тур","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Виды туров","user_select_answer":0,"user_selected":"3"},{"id":"234","quest_ru":"Как можно вывести заработанные деньги в ByFly Travel App?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Выставить счёт на оплату","correct":"1"},{"text":"В любой момент без условий","correct":null},{"text":"Обратиться в службу поддержки","correct":null},{"text":"Только при достижении минимального баланса","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"ByFly Travel App","user_select_answer":0,"user_selected":"0"},{"id":"106","quest_ru":"Какой тип питания включает только завтрак?","quest_en":"","quest_kk":"","answers_ru":[{"text":" (AI)","correct":null},{"text":" (RO)","correct":null},{"text":" (BB)","correct":"1"},{"text":" (FB)","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Питание","user_select_answer":0,"user_selected":"2"},{"id":"135","quest_ru":"Что является основным преимуществом приобретения турпакета?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Неограниченные экскурсии","correct":null},{"text":"Гарантия лучшего отеля","correct":null},{"text":"Бесплатное медицинское обслуживание","correct":null},{"text":"Экономия на перелёте и проживании за счёт групповых тарифов","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Турпакеты","user_select_answer":0,"user_selected":"3"},{"id":"230","quest_ru":"Какие преимущества получают агенты ByFly Travel App?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Бонусы за привлечение новых агентов","correct":"1"},{"text":"Скидки на авиабилеты","correct":null},{"text":"Доступ к эксклюзивным турпакетам","correct":"1"},{"text":"Процент от покупок привлечённых клиентов","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"ByFly Travel App","user_select_answer":0,"user_selected":"3"},{"id":"12","quest_ru":"В каком случае туристу может быть предложен индивидуальный трансфер без дополнительной платы?","quest_en":"","quest_kk":"","answers_ru":[{"text":"При отмене группового трансфера туроператором","correct":"1"},{"text":"Если турист путешествует один и заказал VIP-обслуживание","correct":null},{"text":"При бронировании пакета, включающего индивидуальный трансфер","correct":"1"},{"text":"Если турист бронирует отель самостоятельно","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Трансфер","user_select_answer":0,"user_selected":"2"},{"id":"13","quest_ru":"Какие факторы могут повлиять на доступность трансфера для туриста с ночным прилетом?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Вид трансфера и удалённость отеля от аэропорта","correct":"1"},{"text":"Сезон, в который планируется поездка","correct":null},{"text":"Количество пассажиров на рейсе","correct":null},{"text":"Наличие круглосуточного обслуживания и забронированный тип трансфера","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Трансфер","user_select_answer":0,"user_selected":"3"},{"id":"268","quest_ru":"Сколько человек должно быть в агентской сети, чтобы агент получил статус Коуч?","quest_en":"","quest_kk":"","answers_ru":[{"text":"1500 человек","correct":null},{"text":"1000 человек","correct":"1"},{"text":"2000 человек","correct":null},{"text":"500 человек","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Коуч","user_select_answer":0,"user_selected":"1"},{"id":"81","quest_ru":"Какой номер имеет соединяющую дверь между двумя номерами?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Коннект","correct":"1"},{"text":"Сингл","correct":null},{"text":"Сьют","correct":null},{"text":"Дабл","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Отели","user_select_answer":0,"user_selected":"0"},{"id":"114","quest_ru":"Какой тип питания идеально подойдёт для туристов, которые хотят разнообразия и готовы платить за дополнительные услуги?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Только завтрак (BB)","correct":null},{"text":"Полупансион (HB)","correct":null},{"text":"Полный пансион (FB)","correct":null},{"text":"Ультра всё включено (UAI)","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Питание","user_select_answer":0,"user_selected":"3"},{"id":"286","quest_ru":"Какие привилегии доступны агенту со статусом Альфа помимо доходов с четырех линий?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Франшиза ByFly и квартира при достижении 3000 человек","correct":"1"},{"text":"Франшиза и автомобиль","correct":null},{"text":"Путёвка на двоих","correct":null},{"text":"Автомобиль","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Альфа","user_select_answer":0,"user_selected":"0"},{"id":"207","quest_ru":"Какой остров в Карибском море привлекает туристов своими курортами и разнообразной ночной жизнью?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Ямайка","correct":"1"},{"text":"Маврикий","correct":null},{"text":"Пхукет","correct":null},{"text":"Бали","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Острова","user_select_answer":0,"user_selected":"0"},{"id":"14","quest_ru":"Какой тип трансфера будет оптимальным для туристов, путешествующих с крупным багажом?","quest_en":"","quest_kk":"","answers_ru":[{"text":"VIP-трансфер с вместительным транспортом","correct":"1"},{"text":"Групповой трансфер","correct":null},{"text":"Общественный транспорт","correct":null},{"text":"Индивидуальный трансфер","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Трансфер","user_select_answer":0,"user_selected":"0"},{"id":"46","quest_ru":"Какой аспект часто привлекает пассажиров на регулярные рейсы по сравнению с чартерными?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Отсутствие питания на борту","correct":null},{"text":"Запрещено использовать приложения для бронирования","correct":null},{"text":"Ограничение по перевозке багажа","correct":null},{"text":"Возможность выбрать классы обслуживания, такие как бизнес-класс","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"3"},{"id":"20","quest_ru":"Какую помощь может предложить водитель при групповом трансфере для большой группы туристов?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Помощь с багажом и ориентировка по местности","correct":"1"},{"text":"Организация экскурсии по прибытии в отель","correct":null},{"text":"Только довезти до места назначения","correct":null},{"text":"Поддержка с посадкой и размещением в транспорте","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Трансфер","user_select_answer":0,"user_selected":"0"},{"id":"141","quest_ru":"Почему цена на горящий тур обычно ниже стандартной?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Потому что его необходимо продать перед вылетом","correct":"1"},{"text":"Потому что тур доступен только в межсезонье","correct":null},{"text":"Потому что тур включает меньше услуг","correct":null},{"text":"Потому что его бронируют заранее","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Горящие туры","user_select_answer":0,"user_selected":"0"},{"id":"220","quest_ru":"Какие страны славятся своими курортами на побережье Средиземного моря?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Швейцария","correct":null},{"text":"Испания","correct":"1"},{"text":"Италия","correct":"1"},{"text":"Германия","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Курорты Европы","user_select_answer":0,"user_selected":"1"},{"id":"241","quest_ru":"Какой процент агент получает от продаж привлечённых клиентов второго уровня?","quest_en":"","quest_kk":"","answers_ru":[{"text":"0.2%","correct":"1"},{"text":"2%","correct":null},{"text":"0.3%","correct":null},{"text":"1%","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Агент ByFly","user_select_answer":0,"user_selected":"0"},{"id":"19","quest_ru":"Когда туристам может быть отказано в трансфере из-за сезонности или условий местности?","quest_en":"","quest_kk":"","answers_ru":[{"text":"В периоды высокого сезона, когда местные службы перегружены","correct":"1"},{"text":"Если турист прибыл в ночное время без заранее заказанного трансфера","correct":"1"},{"text":"При раннем бронировании за несколько месяцев до поездки","correct":null},{"text":"В зимний сезон при закрытии дорог в горные регионы","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Трансфер","user_select_answer":0,"user_selected":"1"},{"id":"232","quest_ru":"Как можно заработать в ByFly Travel App?","quest_en":"","quest_kk":"","answers_ru":[{"text":"За каждую покупку начисляются бонусы","correct":"1"},{"text":"Устанавливать накрутку на продаваемые туры","correct":"1"},{"text":"За оставленные отзывы в виде бонусов","correct":"1"},{"text":"Получать комиссию с каждой продажи по реферальной ссылке","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"ByFly Travel App","user_select_answer":0,"user_selected":"3"},{"id":"62","quest_ru":"Что может стать недостатком регулярных рейсов для пассажиров, желающих гибкости по времени?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Прямые перелёты только по выходным","correct":null},{"text":"Гарантированное отсутствие ночных рейсов","correct":null},{"text":"Чётко установленное расписание без возможности изменения","correct":"1"},{"text":"Частое изменение расписания в зависимости от спроса","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"2"},{"id":"21","quest_ru":"Какие особенности могут быть у чартерных рейсов по сравнению с регулярными?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Чартерные рейсы имеют строго фиксированное расписание","correct":null},{"text":"Чартерные рейсы могут быть организованы на определённые даты в зависимости от спроса","correct":"1"},{"text":"Регулярные рейсы всегда обеспечивают место на рейсе","correct":null},{"text":"Регулярные рейсы выполняются по расписанию, независимо от уровня заполняемости","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"1"},{"id":"67","quest_ru":"Какой аспект делает тур с регулярным рейсом удобным для людей, планирующих дальние перелеты?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Отсутствие багажа на борту","correct":null},{"text":"Чёткое расписание и наличие пересадок на международные рейсы","correct":"1"},{"text":"Предоставление только прямых рейсов на любые направления","correct":null},{"text":"Возможность выбора только ночных рейсов","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"1"},{"id":"78","quest_ru":"Какой номер в отеле обычно выбирают пары?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Твин","correct":null},{"text":"Сингл","correct":null},{"text":"Коннект","correct":null},{"text":"Дабл","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Отели","user_select_answer":0,"user_selected":"3"},{"id":"204","quest_ru":"Какой остров в Индонезии знаменит своими храмами и пляжами?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Сицилия","correct":null},{"text":"Мальдивы","correct":null},{"text":"Пхукет","correct":null},{"text":"Бали","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Острова","user_select_answer":0,"user_selected":"3"},{"id":"211","quest_ru":"Какая достопримечательность является символом Италии и расположена в Риме?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Эйфелева башня","correct":null},{"text":"Пизанская башня","correct":null},{"text":"Акрополь","correct":null},{"text":"Колизей","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Достопримечательности Европы","user_select_answer":0,"user_selected":"3"},{"id":"61","quest_ru":"Какой недостаток может быть связан с покупкой билетов на регулярные рейсы в высокий сезон?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Только ранние утренние рейсы","correct":null},{"text":"Невозможность вернуть билет","correct":null},{"text":"Билеты могут быть недоступны на определённые даты","correct":"1"},{"text":"Отсутствие возможности выбрать место в салоне","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"2"},{"id":"83","quest_ru":"Какой номер обычно стоит дороже из-за улучшенных удобств?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Сингл","correct":null},{"text":"Делюкс","correct":"1"},{"text":"Дабл","correct":null},{"text":"Твин","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Отели","user_select_answer":0,"user_selected":"1"},{"id":"86","quest_ru":"Какая страховка покрывает медицинские расходы во время путешествия?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Медицинская страховка для путешествий","correct":"1"},{"text":"Автострахование","correct":null},{"text":"Страховка от задержки рейса","correct":null},{"text":"Страхование багажа","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Страховка","user_select_answer":0,"user_selected":"0"},{"id":"39","quest_ru":"Какие причины могут повлиять на отсутствие билетов на чартерный рейс в продаже?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Туроператор предлагает места только в составе пакета","correct":"1"},{"text":"Чартерные рейсы не продают билеты в аэропортах","correct":null},{"text":"Все места выкуплены туроператором","correct":"1"},{"text":"Чартерные рейсы не принимают новых пассажиров без группового бронирования","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"0"},{"id":"275","quest_ru":"Какие доходы доступны агенту со статусом Коуч на всех четырёх уровнях?","quest_en":"","quest_kk":"","answers_ru":[{"text":"0.5% на всех уровнях","correct":null},{"text":"1% на первом, 0.3% на втором, 0.2% на третьем и 0.1% на четвёртом уровне","correct":"1"},{"text":"1% на первом, 0.5% на втором, 0.3% на третьем и 0.1% на четвёртом уровне","correct":null},{"text":"2% на первом, 1% на втором, 0.5% на третьем и 0.1% на четвёртом уровне","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Коуч","user_select_answer":0,"user_selected":"1"},{"id":"93","quest_ru":"Какой вид страхования рекомендуется для путешествий в страны с высокой стоимостью медицинских услуг?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Страхование багажа","correct":null},{"text":"Страхование от невыезда","correct":null},{"text":"Автострахование","correct":null},{"text":"Медицинская страховка для путешествий","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Страховка","user_select_answer":0,"user_selected":"3"},{"id":"145","quest_ru":"Какой недостаток может быть у горящего тура?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Ограниченный выбор отелей и рейсов","correct":"1"},{"text":"Более высокая стоимость","correct":null},{"text":"Отсутствие скидок","correct":null},{"text":"Длительное ожидание подтверждения бронирования","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Горящие туры","user_select_answer":0,"user_selected":"0"},{"id":"277","quest_ru":"Какие привилегии открываются для Коуча помимо доходов с четырех линий?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Автомобиль","correct":null},{"text":"Автомобиль и возможность обучать новых агентов","correct":"1"},{"text":"Путёвка на двоих и автомобиль","correct":null},{"text":"Квартира","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Коуч","user_select_answer":0,"user_selected":"1"},{"id":"172","quest_ru":"Какие страны известны своими туристическими курортами на островах?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Монголия ","correct":null},{"text":"Филиппины","correct":"1"},{"text":"Россия ","correct":null},{"text":"Мальдивы","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Азиатские страны","user_select_answer":0,"user_selected":"3"},{"id":"63","quest_ru":"Почему регулярные рейсы могут быть менее привлекательными для пассажиров, которые хотят сэкономить?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Регулярные рейсы предоставляют бесплатное питание","correct":null},{"text":"Цены на билеты могут быть выше, особенно при бронировании в последний момент","correct":"1"},{"text":"Покупка возможна только через агентства","correct":null},{"text":"Ограниченный выбор мест в эконом-классе","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"1"},{"id":"10","quest_ru":"Если туроператор отменяет рейс по направлению за 48 часов до вылета, что может быть предложено туристу?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Только 50% возврат, если тур был акционный","correct":null},{"text":"Возврат средств с удержанием организационного сбора","correct":null},{"text":"Полное сохранение суммы на будущий тур","correct":"1"},{"text":"Полный возврат средств или альтернатива с сохранением условий","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Общие вопросы","user_select_answer":0,"user_selected":"3"},{"id":"134","quest_ru":"Какой турпакет включает все приёмы пищи на территории отеля?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Без питания","correct":null},{"text":"Полупансион","correct":null},{"text":"Всё включено","correct":"1"},{"text":"Только завтрак","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Турпакеты","user_select_answer":0,"user_selected":"2"},{"id":"2","quest_ru":"В каком случае турист может ожидать возврат всей суммы, если бронь была сделана на акционный тур?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Только если туроператор отменяет акционный тур по своей инициативе","correct":"1"},{"text":"Если турист отменяет тур за 24 часа до вылета","correct":null},{"text":"Если тур был забронирован более месяца назад","correct":null},{"text":"Если акционный тур приобретён в высокий сезон","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Общие вопросы","user_select_answer":0,"user_selected":"0"},{"id":"60","quest_ru":"Какое преимущество регулярных рейсов особенно важно для пассажиров, путешествующих на дальние расстояния?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Отсутствие питания на рейсах дальнего следования","correct":null},{"text":"Только прямые рейсы на любые направления","correct":null},{"text":"Гарантия отсутствия задержек","correct":null},{"text":"Чёткое расписание и возможность пересадок в рамках одной авиакомпании","correct":"1"}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"3"},{"id":"47","quest_ru":"Почему регулярные рейсы предпочтительнее для туристов с фиксированными датами отпуска?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Гарантированное расписание без привязки к спросу","correct":"1"},{"text":"Частые изменения расписания по запросу пассажиров","correct":null},{"text":"Регулярные рейсы выполняются только по выходным","correct":null},{"text":"Ограниченные условия по возврату и изменению билетов","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Перелеты","user_select_answer":0,"user_selected":"0"},{"id":"254","quest_ru":"Что означает достижение статуса Амбассадор для агента ByFly?","quest_en":"","quest_kk":"","answers_ru":[{"text":"Повышение комиссии с первой линии до 1,5%","correct":null},{"text":"Повышение комиссии второго уровня до 0,2%","correct":null},{"text":"Открытие третьего уровня дохода и путёвка на двоих","correct":"1"},{"text":"Открытие второго уровня дохода и путёвка на двоих","correct":null}],"answers_kk":null,"answers_en":null,"checked":"1","category":"Амбассадор","user_select_answer":0,"user_selected":"2"}]

• coun_query
  Тип: int(11)
  Комментарий: Вопрос на котором находится сейчас по умолчанию на экзамене 50 вопросов

• coach_id
  Тип: int(11)
  Комментарий: ID закрепленного за пользователем преподавателя (Пользователи которые помечены как преподаватели в системе)

• block_desc
  Тип: text
  Комментарий: Причина блокировки пользователя

• is_active
  Тип: int(11)
  Комментарий: Пользователь является активным или нет, Активный пользователь тот который совершил любую 1 покупку в системе 0 или 1

• for_couch
  Тип: int(11)
  Комментарий: Допущен к обучению или нет 0 или 1 прошел собиседование или нет

• start_test
  Тип: int(11)
  Комментарий: Бал который пользователь набрал на собиседовании

• is_admin
  Тип: int(11)
  Комментарий: 0 или 1 является админом или нет

• search_nakrutka
  Тип: int(11)
  Комментарий: 0 или 1 включена накрутка в поиске или нет

• show_clear_nakrutka
  Тип: int(11)
  Комментарий: 0 или 1 включена или отключена опция убрать накрутку со стоимости

• date_payment_couch
  Тип: datetime
  Комментарий: Дата и время в формате Y-m-d H:i:s когда пользователь оплатил обучение

• adress
  Тип: text
  Комментарий: Адрес пользователя по умолчанию это может быть адрес одной из франшиз

• email
  Тип: text
  Комментарий: E-mail пользователя

• active_video_plan
  Тип: int(11)
  Комментарий: 0 или 1 доступен пользователю видео план или нет если доступен система каждый день создает для него рекламные ролики и отправляет ему на ватсап

• count_video_today
  Тип: int(11)
  Комментарий: Сколько видеороликов сделал сегодня по умолчанию доступно 2 в день агент и 1 пользователю

• pays_company
  Тип: int(11)
  Комментарий: 0 или 1 имеет доступ к платежным данным компании

• is_buh
  Тип: int(11)
  Комментарий: 0 или 1 является бухгалтером компании или нет

• tarif
  Тип: int(11)
  Комментарий: Номер выбранного тарифа 1 - тариф Silver, 2 - Тариф GOLD

• date_vozvrat
  Тип: datetime
  Комментарий: По умолчанию null если нет то дата и время в формате Y-m-d H:i:s это дата когда был произведен возврат за обучение

• obrabotan
  Тип: int(11)
  Комментарий: 0 или 1 обработан пользователь или нет

• priced_coach
  Тип: int(11)
  Комментарий: Стоимость которую пользователь заплатил за обучение

• price_oute_in_couch_price_from_lines
  Тип: int(11)
  Комментарий: Сумма которая была распределена по линиям от внесенной суммы за обучение

• price_oute_in_couch_price_from_cashback
  Тип: int(11)
  Комментарий: Сумма которая была начислена пригласителю в качестве кэшбэка

• is_super_user
  Тип: int(11)
  Комментарий: 0 или 1 является суперадмином или нет

• show_info_tour
  Тип: int(11)
  Комментарий: 0 или 1 видит инфотуры или нет 

• cash_back_from_money
  Тип: int(11)
  Комментарий: 0 или 1 получает деньги на баланс если 1 если 0 то получает на бонусы

• file_vozvrat
  Тип: text
  Комментарий: Ссылка на файл с заявлением на возврат средств за обучение

• date_create_vozvrat
  Тип: datetime
  Комментарий: Дата и время в формате Y-m-d H:i:s когда была подана заявка на возврат за обучение

• status_vozvrat
  Тип: int(11)
  Комментарий: Статус возврата за обучение

• summ_vozvrat
  Тип: int(11)
  Комментарий: Сумма которая нужна на возврат за обучение

• sposob_vozvrat
  Тип: text
  Комментарий: Спосок как будет сделан возврат например наличными на счет и тд

• prichina_vozvrat
  Тип: text
  Комментарий: Причина по которой агент хочет сделать возврат средств за обучение

• is_installment
  Тип: int(1)
  Комментарий: 0 - оплачено полностью, 1 - в рассрочке если пользователь проходит обучение в рассрочку
  

• inviter_video_link
  Тип: text
  Комментарий: Ссылка на видео пригласителя который позвал пользователя для прохождения обучение на котором подтверждает что его пользователь проходит обучение в рассрочку

• student_video_link
  Тип: text
  Комментарий: Ссылка на видео на котором агент купивший обучение подтверждает что покупает обучение в рассрочку и обязуется платить в течении определенного срока

• inviter_signature_link
  Тип: text
  Комментарий: Ссылка на картинку подпись договора пригласителем о рассрочке обучаемого

• student_signature_link
  Тип: text
  Комментарий: Ссылка на картинку подпись обучаемого

• admin_signature_link
  Тип: text
  Комментарий: Ссылка на картинку подпись администратора одобревшего рассрочку

• payment_1_amount
  Тип: int(11)
  Комментарий: Сумма 1-го платежа по рассрочке

• payment_1_date
  Тип: datetime
  Комментарий: Дата 1-го платежа в формате Y-m-d H:i:s

• payment_1_due_date
  Тип: datetime
  Комментарий: Срок 1-го платежа когда должен быть произведен первый платеж

• payment_1_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 1-й платеж начисляется пригласившему если пользователь сдал экзамен более или равно 92 бала

• payment_1_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 1-й Платеж начисляется пригласившему если этот пользователь совершил первую продажу тура

• payment_2_amount
  Тип: int(11)
  Комментарий: Сумма 2-го платежа по рассрочке

• payment_2_date
  Тип: datetime
  Комментарий: Дата 2-го платежа дата когда внесена оплата по второму платежу по рассрочке

• payment_2_due_date
  Тип: datetime
  Комментарий: Срок 2-го платежа крайняя дата когда должен быть внесен второй платеж по рассрочке

• payment_2_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 2-й платеж 

• payment_2_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 2-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_3_amount
  Тип: int(11)
  Комментарий: Сумма 3-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_3_date
  Тип: datetime
  Комментарий: Дата 3-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_3_due_date
  Тип: datetime
  Комментарий: Срок 3-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_3_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 3-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_3_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 3-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_4_amount
  Тип: int(11)
  Комментарий: Сумма 4-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_4_date
  Тип: datetime
  Комментарий: Дата 4-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_4_due_date
  Тип: datetime
  Комментарий: Срок 4-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_4_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 4-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_4_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 4-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_5_amount
  Тип: int(11)
  Комментарий: Сумма 5-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_5_date
  Тип: datetime
  Комментарий: Дата 5-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_5_due_date
  Тип: datetime
  Комментарий: Срок 5-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_5_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 5-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_5_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 5-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_6_amount
  Тип: int(11)
  Комментарий: Сумма 6-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_6_date
  Тип: datetime
  Комментарий: Дата 6-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_6_due_date
  Тип: datetime
  Комментарий: Срок 6-го платежа
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_6_cashback_1
  Тип: int(1)
  Комментарий: 1-й кэшбэк 10% за 6-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• payment_6_cashback_2
  Тип: int(1)
  Комментарий: 2-й кэшбэк 10% за 6-й платеж
  [ДОПОЛНИТЕЛЬНЫЕ ЗАМЕТКИ]

• homework_1_grade
  Тип: int(1)
  Комментарий: Оценка за 1-е ДЗ (2-5)

• homework_2_grade
  Тип: int(1)
  Комментарий: Оценка за 2-е ДЗ (2-5)

• homework_3_grade
  Тип: int(1)
  Комментарий: Оценка за 3-е ДЗ (2-5)

• homework_4_grade
  Тип: int(1)
  Комментарий: Оценка за 4-е ДЗ (2-5)

• homework_5_grade
  Тип: int(1)
  Комментарий: Оценка за 5-е ДЗ (2-5)

• homework_6_grade
  Тип: int(1)
  Комментарий: Оценка за 6-е ДЗ (2-5)

• homework_7_grade
  Тип: int(1)
  Комментарий: Оценка за 7-е ДЗ (2-5)

• homework_8_grade
  Тип: int(1)
  Комментарий: Оценка за 8-е ДЗ (2-5)

• coach_rating
  Тип: decimal(3,1)
  Комментарий: Рейтинг куратора от 2.0 до 10.0 пользователи помогают своим пригласителям кураторам и те оценивают их работу этот рейтинг влияет на реферальный бонус чем выше рейтинг тем выше реферальный бонус

• is_beneficiary
  Тип: int(1)
  Комментарий: 0 - не льготник, 1 - льготник льготник тот человек который проходит обучение бесплатно

• beneficiary_doc_link
  Тип: text
  Комментарий: Ссылка на документ подтверждающий льготность (Справка и тд)

• has_sold_tour
  Тип: int(1)
  Комментарий: 0 - не продавал туры, 1 - продал хотя бы 1 тур

• first_line_agents_count
  Тип: int(11)
  Комментарий: Кол-во агентов первой линии сколько пользователей прошли обучение которых позвал данный пользователь

• for_app_app
  Тип: int(11)
  Комментарий: Не используемое поле 

• close_percentage
  Тип: datetime
  Комментарий: Дата и время до которого агент видит туры без комиссии туроператора что бы опция работала агенты ежемесячно оплачивают взнос 30 тыс тенге

• distribiutor
  Тип: int(11)
  Комментарий: 0 или 1 пользователь является дистрибьютором компании или нет. Дистрибьютор организовывает мероприятия за счет компании может их создавать и 2 раза в месяц путешествует за счет компании

• create_group_tours
  Тип: int(11)
  Комментарий: 0 или 1 может организовывать груповые туры или нет

• is_dalboeb
  Тип: int(11)
  Комментарий: Проблемный пользователь или нет 0 или 1 если 1 то требуется повышенное внимание

• is_investor
  Тип: int(11)
  Комментарий: 0 или 1 является инвестором компании или нет

• ivest_percentage
  Тип: int(11)
  Комментарий: Сколько процентов купил как инвестор

• date_pay_percentage
  Тип: datetime
  Комментарий: Дата покупки процентов как инвестор

• summ_pay_percentage
  Тип: int(11)
  Комментарий: Стоимость за которую купил проценты

• is_manager
  Тип: int(11)
  Комментарий: 0 или 1 является менеджером или нет

• is_coach
  Тип: int(11)
  Комментарий: 0 или 1 является куратором обучающего процесса или нет

• is_distributor
  Тип: int(11)
  Комментарий: 0 или 1 является дистрибьютором или нет

• is_copilka_manager
  Тип: int(11)
  Комментарий: 0 или 1 является менеджером ранеего бронирования или нет

• is_teh_support
  Тип: int(11)
  Комментарий: 0 или 1 является менеджером тех поддержки или нет

• recoach_days
  Тип: TEXT
  Комментарий: Может быть пустая строка а может быть указанны через запятую дни которые пользователь должен переобучиться например 1,3 означает что пользователь должен пройти переобучение по первому и третьему дню

• reiting
  Тип: real
  Комментарий: Рейтинг пользователя, его подопечные которые обращаются к нему за помощью ставят ему оценки они сумируются и получается рейтинг пользователя среднее число чем выше рейтинг тем больше реферальный бонус за регистрацию который он дает новым клиентам минимальный реферальный бонус 1000 тенге это при рейтинге ниже 3 при максимальном рейтинге 5 реферальный бонус будет 30 000 тенге раз в неделю сумируется рейтинг и устанавливается реферальный бонус

  


ТАБЛИЦА: client_blacklist
Таблица содержит черный список клиентов системы ByFly Travel. В нее добавляются проблемные клиенты, с которыми компания не желает работать по различным причинам (неоплата, мошенничество, неадекватное поведение и т.д.)

• id
Тип: int(11)
Комментарий: ID записи в черном списке

• phone
Тип: varchar(20)
Комментарий: Номер телефона клиента в формате без пробелов и символов

• country_code
Тип: varchar(10)
Комментарий: Код страны для телефонного номера (например +7, +1)

• full_name
Тип: varchar(255)
Комментарий: Полное ФИО клиента

• identifier
Тип: varchar(50)
Комментарий: Идентификационный номер клиента (ИИН, номер паспорта и т.д.)

• identifier_type
Тип: varchar(50)
Комментарий: Тип идентификатора (ИИН, паспорт, водительские права и т.д.)

• country
Тип: varchar(100)
Комментарий: Страна проживания или гражданства клиента

• reason
Тип: text
Комментарий: Подробная причина добавления клиента в черный список

• added_by_user_id
Тип: int(11)
Комментарий: ID пользователя системы который добавил клиента в черный список

• date_added
Тип: timestamp
Комментарий: Дата и время добавления в черный список в формате Y-m-d H:i:s

• is_active
Тип: tinyint(1)
Комментарий: Статус записи: 1 - активная запись в черном списке, 0 - запись удалена или неактивна

ТАБЛИЦА: hotels_blacklist
Таблица содержит черный список отелей в системе ByFly Travel. В нее добавляются отели с которыми у компании были проблемы или которые не соответствуют стандартам качества обслуживания клиентов

• id
Тип: int(11)
Комментарий: ID записи в черном списке отелей

• hotel_code
Тип: int(11)
Комментарий: Уникальный код отеля в системе TourVisor

• hotel_name
Тип: varchar(255)
Комментарий: Полное название отеля

• country_id
Тип: int(11)
Комментарий: ID страны в нашей внутренней системе ByFly Travel

• country_name
Тип: varchar(255)
Комментарий: Название страны где расположен отель

• country_visor_id
Тип: int(11)
Комментарий: ID страны в системе TourVisor

• region_id
Тип: int(11)
Комментарий: ID региона/курорта в нашей внутренней системе ByFly Travel

• region_name
Тип: varchar(255)
Комментарий: Название региона/курорта где расположен отель

• region_visor_id
Тип: int(11)
Комментарий: ID региона/курорта в системе TourVisor

• hotel_stars
Тип: int(11)
Комментарий: Количество звезд отеля (от 1 до 5)

• hotel_rating
Тип: float
Комментарий: Рейтинг отеля от 0.0 до 5.0

• reason
Тип: text
Комментарий: Подробная причина добавления отеля в черный список

• added_by
Тип: int(11)
Комментарий: ID пользователя системы который добавил отель в черный список

• date_added
Тип: timestamp
Комментарий: Дата и время добавления отеля в черный список в формате Y-m-d H:i:s

• is_active
Тип: tinyint(1)
Комментарий: Статус записи: 1 - отель активен в черном списке, 0 - запись удалена или неактивна

Таблица: tariffs
Тут хранится информация о тарифах на обучение в ByFly Travel 

• id
  Тип: int(11)
  Комментарий: ID записи

• name
  Тип: varchar(50)
  Комментарий: Название тарифа 

• description
  Тип: text
  Комментарий: Описание тарифа

• id
  Тип: int(11)
  Комментарий: Стоимость тарифа в тенге

• name
  Тип: varchar(20)
  Комментарий: Цвет тарифа HEX

• icon
  Тип: varchar(20)
  Комментарий: Иконка тарифа название иконки Flutter Icons

• has_spec_offers
  Тип: int(11)
  Комментарий: Видит ли этот тариф спец. предложения 0 или 1

• has_info_tours
  Тип: int(11)
  Комментарий: Видит ли этот тариф инфотуры от 95 туроператоров 0 или 1

• has_subscription
  Тип: int(11)
  Комментарий: Может ли этот тариф оформлять подписку на туры без комиссии туроператора 0 или 1

• can_create_group_tours
  Тип: int(11)
  Комментарий: Может ли этот тариф создавать груповые туры 0 или 1

• can_create_custom_tours
  Тип: int(11)
  Комментарий: Может ли этот тариф создавать авторские туры 0 или 1

• is_active
  Тип: int(11)
  Комментарий: Активный или архивный тариф 0 или 1

• date_created
  Тип: datetime
  Комментарий: Дата создания тарифа


ТАБЛИЦА: investors

Тут хранится информация об инветорах компании, всего выделенно инвесторам 20% доли в компании стоимость 1% составляет 20 000 000 тенге, можно купить 1%, 0,1%, 0,01%, 0,001%, 0,0001% стоимость равняется стоимости.
--------------------------------------------------

• id
  Тип: int(11)
  Комментарий: ID записи

• FIO
  Тип: TEXT
  Комментарий: Фамилия имя отчество инвестора

• iin
  Тип: varchar(255)
  Комментарий: ИИН инвестора либо личный идентификатор страны

• percent
  Тип: double
  Комментарий: Процент купленный инвестором

• phone
  Тип: varchar(255)
  Комментарий: Телефон инвестора в формате 77773700773

• summ
  Тип: int(11)
  Комментарий: Стоимость за которую купил долю инвестор в тенге


ТАБЛИЦА: vauchers

Тут промокоды для сертификатов на покупку чего либо в системе
--------------------------------------------------
• id
  Тип: int(11)
  Комментарий: ID записи

• number
  Тип: varchar(255)
  Комментарий: Сам промокод

• type
  Тип: varchar(255)
  Комментарий: Тип на что промокод tour - на покупку тура, coach - на обучение, copilka - на накопительную систему

• summ
  Тип: int(11)
  Комментарий: На какую сумма ваучер

• date_create
  Тип: timestamp
  Комментарий: Дата создания

• date_off
  Тип: datetime
  Комментарий: Дата окончания срока действия

• activated
  Тип: int(11)
  Комментарий: 0 или 1 был активирован или нет

• user_activated
  Тип: int(11)
  Комментарий: ID пользователя активировавшего сертификат

• date_activated
  Тип: datetime
  Комментарий: Дата активации сертификата


Таблица: mailings
Тут хранятся данные о рассылках WhatsApp сообщений в системе. Каждая рассылка имеет статус, целевую аудиторию и статистику по отправкам. Рассылки могут быть запланированы (указаны start_time и end_time) или выполняться немедленно.

• id
Тип: int(11)
Комментарий: ID рассылки (автоинкремент)

• title
Тип: varchar(255)
Комментарий: Название рассылки

• description
Тип: text
Комментарий: Описание рассылки (может быть NULL)

• status
Тип: enum('draft','pending','active','paused','completed','failed')
Комментарий: Статус рассылки (по умолчанию 'draft')

• target_type
Тип: enum('all','agents','failed_exam','interview_passed','copilka','investors','custom')
Комментарий: Тип целевой аудитории

• custom_filter
Тип: text
Комментарий: JSON с дополнительными фильтрами для custom рассылок (может быть NULL)

• total_recipients
Тип: int(11)
Комментарий: Общее количество получателей (по умолчанию 0)

• sent_count
Тип: int(11)
Комментарий: Количество отправленных сообщений (по умолчанию 0)

• failed_count
Тип: int(11)
Комментарий: Количество неудачных отправок (по умолчанию 0)

• start_time
Тип: datetime
Комментарий: Время начала рассылки (может быть NULL)

• end_time
Тип: datetime
Комментарий: Время завершения рассылки (может быть NULL)

• created_at
Тип: datetime
Комментарий: Дата создания рассылки

• created_by
Тип: int(11)
Комментарий: ID пользователя, создавшего рассылку

• updated_at
Тип: datetime
Комментарий: Дата последнего обновления (может быть NULL)

Таблица: mailing_messages
Тут хранятся отдельные сообщения, отправляемые в рамках рассылок. Для каждого сообщения фиксируется статус доставки, количество попыток отправки и временные метки важных событий (отправка, доставка, прочтение).

• id
Тип: int(11)
Комментарий: ID сообщения (автоинкремент)

• mailing_id
Тип: int(11)
Комментарий: ID родительской рассылки

• user_id
Тип: int(11)
Комментарий: ID получателя сообщения

• phone
Тип: varchar(20)
Комментарий: Номер телефона получателя

• message_text
Тип: text
Комментарий: Текст сообщения с подставленными переменными

• status
Тип: enum('pending','sent','failed','delivered','read')
Комментарий: Статус сообщения (по умолчанию 'pending')

• attempts
Тип: tinyint(4)
Комментарий: Количество попыток отправки (по умолчанию 0)

• last_attempt_at
Тип: datetime
Комментарий: Время последней попытки отправки (может быть NULL)

• error_message
Тип: text
Комментарий: Текст ошибки (если отправка не удалась, может быть NULL)

• sent_at
Тип: datetime
Комментарий: Время успешной отправки (может быть NULL)

• delivered_at
Тип: datetime
Комментарий: Время доставки сообщения (может быть NULL)

• read_at
Тип: datetime
Комментарий: Время прочтения сообщения (может быть NULL)

• created_at
Тип: datetime
Комментарий: Дата создания записи о сообщении


Таблица: user_transfers
Тут хранятся заявки на трасфер пользователя под другова куратора по таблице users по полю parent_user условия для трансфера такие пользователь может перейти только под вышестоящего агента (Не пользователя) сначала он подает запрос на переход, старому куратору приходит уведомление и новый куратор должен подтвердить что принимает его в команду, после того как новый куратор принял запрос через 3 дня происходит переход в течении 3 дней пользователь имеет возможность отменить транзит.

• id
  Тип: int(11)
  Комментарий: ID записи

• user_id
  Тип: int(11)
  Комментарий: ID пользователя который осуществляет переход под другова куратора

• old_parent_id
  Тип: int(11)
  Комментарий: ID старого куратора под которого был подписан пользователь

• new_parent_id
  Тип: int(11)
  Комментарий: ID нового куратора под которого хочет перейти пользователь

• status
  Тип: enum
  Комментарий: 'pending','approved','rejected','completed','cancelled' Статус перехода

• request_date
  Тип: timestamp
  Комментарий: Дата создания запроса

• approve_date
  Тип: datetime
  Комментарий: Дата когда новый куратор принял запрос на вступление в его компанду

• complete_date
  Тип: datetime
  Комментарий: Дата когда пользователь был переведен под нового куратора

• cancel_date
  Тип: datetime
  Комментарий: Дата когда заявка была отклонена



Смотри у меня есть локальный сервер который работает на IP http://109.175.215.40/ там работают терминалы и камеры для считывания QR кода логика оплат такая мы инициируем на терминале оплату на определенную сумму и на то что бы оплатить у клиента есть 2 минуты 30 секунд если за это время оплата не происходит транзакцию отменяем опязательно пишем все данные в таблице kaspi_terminals, kaspi_transactions что бы все фиксировалось ID последних операций терминалы суммы и статусы что бы очередь работала нормально сейчас подключенно 4 терминала в дальнейшем будет больше, но сейчас нужно следить за очередью операций

ТАБЛИЦА: kaspi_transactions
Таблица содержит все транзакции, проходящие через Kaspi терминалы. Каждая запись представляет отдельный платеж с полной информацией о процессе оплаты, включая статусы, суммы с учетом комиссий, и данные клиента. Система автоматически отслеживает таймауты и отменяет зависшие операции.
--------------------------------------------------

• id
  Тип: int(11) 
  Комментарий: ID транзакции в системе (автоинкремент)

• terminal_id
  Тип: int(11)
  Комментарий: ID терминала через который выполняется операция

• amount
  Тип: int(11)
  Комментарий: Базовая сумма платежа в тенге без комиссий

• payment_type
  Тип: enum('cash','credit','installment','kaspi_red')
  Комментарий: Тип оплаты (наличные, кредит, рассрочка, kaspi red)

• percentage_fee
  Тип: decimal(5,2)
  Комментарий: Процент комиссии добавляемый к сумме

• clean_amount
  Тип: int(11)
  Комментарий: Сумма которая поступит в компанию (amount минус комиссии платежной системы)

• total_amount_with_fee
  Тип: int(11)
  Комментарий: Итоговая сумма включая все комиссии которую платит клиент

• status
  Тип: enum('pending','processing','completed','failed','cancelled','timeout')
  Комментарий: Статус платежа (ожидает, обрабатывается, завершен, ошибка, отменен, таймаут)

• terminal_response
  Тип: longtext
  Комментарий: JSON ответ от терминала с деталями операции

• user_id
  Тип: int(11)
  Комментарий: ID пользователя инициировавшего платеж (NULL если системная операция)

• date_initiated
  Тип: timestamp
  Комментарий: Дата и время начала операции в формате Y-m-d H:i:s

• date_completed
  Тип: datetime
  Комментарий: Дата и время завершения операции в формате Y-m-d H:i:s

• client_phone
  Тип: varchar(20)
  Комментарий: Номер телефона клиента в формате 77773700773

• terminal_operation_id
  Тип: varchar(255)
  Комментарий: ID операции в системе терминала (processId)

• qr_code_url
  Тип: text
  Комментарий: Ссылка на QR-код для оплаты

• payment_url
  Тип: text
  Комментарий: Прямая ссылка для оплаты через браузер

• transaction_number
  Тип: varchar(255)
  Комментарий: Номер транзакции от банка после успешной оплаты

• error_message
  Тип: text
  Комментарий: Сообщение об ошибке если операция не удалась

• attempts_count
  Тип: int(11)
  Комментарий: Количество попыток проверки статуса операции

• last_status_check
  Тип: datetime
  Комментарий: Время последней проверки статуса операции

• order_id
  Тип: int(11)
  Комментарий: ID заказа в системе (тур, обучение, накопительная ячейка)

• order_type
  Тип: varchar(50)
  Комментарий: Тип заказа (tour, coach, copilka, shop)

• client_name
  Тип: varchar(255)
  Комментарий: ФИО клиента совершающего платеж

• notification_sent
  Тип: tinyint(1)
  Комментарий: Отправлено ли уведомление клиенту (0 - нет, 1 - да)

• webhook_sent
  Тип: tinyint(1)
  Комментарий: Отправлен ли webhook о завершении операции (0 - нет, 1 - да)

• receipt_url
  Тип: text
  Комментарий: Ссылка на электронный чек после успешной оплаты



ТАБЛИЦА: kaspi_terminals
Таблица содержит информацию о всех подключенных Kaspi SmartPOS терминалах в системе. Каждый терминал работает на отдельном порту и имеет привязанную камеру для сканирования QR-кодов. Система автоматически распределяет нагрузку между терминалами на основе количества выполненных операций и приоритета.
--------------------------------------------------

• id
  Тип: int(11)
  Комментарий: ID терминала в системе (автоинкремент)

• port
  Тип: int(11)
  Комментарий: Порт на котором работает терминал для HTTP запросов (130-133)

• camera_id
  Тип: varchar(10)
  Комментарий: ID камеры привязанной к терминалу для сканирования QR

• last_photo_url
  Тип: text
  Комментарий: Ссылка на последний снимок с камеры терминала

• last_operation_id
  Тип: varchar(255)
  Комментарий: ID последней операции выполненной на терминале

• last_operation_date
  Тип: datetime
  Комментарий: Дата и время последней операции в формате Y-m-d H:i:s

• date_created
  Тип: timestamp
  Комментарий: Дата добавления терминала в систему

• location_address
  Тип: text
  Комментарий: Физический адрес расположения терминала

• status
  Тип: enum('free','busy','maintenance','offline')
  Комментарий: Статус терминала (свободен, занят, на обслуживании, отключен)

• operations_count
  Тип: int(11)
  Комментарий: Общее количество выполненных операций (для балансировки нагрузки)

• terminal_name
  Тип: varchar(255)
  Комментарий: Название терминала для удобства администрирования

• is_active
  Тип: tinyint(1)
  Комментарий: Активен ли терминал (1 - активен, 0 - отключен)

• max_amount
  Тип: int(11)
  Комментарий: Максимальная сумма платежа для терминала (по умолчанию 5,000,000 тенге)

• min_amount
  Тип: int(11)
  Комментарий: Минимальная сумма платежа для терминала (по умолчанию 1,000 тенге)

• last_health_check
  Тип: datetime
  Комментарий: Время последней проверки работоспособности терминала

• error_count
  Тип: int(11)
  Комментарий: Количество ошибок с момента последнего сброса

• last_error_message
  Тип: text
  Комментарий: Последнее сообщение об ошибке терминала

• priority
  Тип: int(11)
  Комментарий: Приоритет терминала (чем выше, тем приоритетнее при выборе)



ТАБЛИЦА: kaspi_operation_logs
Таблица содержит логи всех операций выполняемых с Kaspi терминалами. Используется для отладки, мониторинга и анализа работы системы. Каждая запись фиксирует отдельное действие с терминалом или транзакцией.
--------------------------------------------------

• id
  Тип: int(11)
  Комментарий: ID записи лога (автоинкремент)

• transaction_id
  Тип: int(11)
  Комментарий: ID связанной транзакции (может быть NULL для системных операций)

• terminal_id
  Тип: int(11)
  Комментарий: ID терминала на котором выполнялась операция

• action
  Тип: varchar(100)
  Комментарий: Тип выполняемого действия (payment_init, payment_cancel, qr_scan, status_check, health_check)

• status
  Тип: varchar(50)
  Комментарий: Статус выполнения операции (success, error, timeout, cancelled)

• message
  Тип: text
  Комментарий: Описание операции или сообщение об ошибке

• response_data
  Тип: longtext
  Комментарий: JSON данные ответа от терминала или API

• date_created
  Тип: timestamp
  Комментарий: Дата и время создания записи лога в формате Y-m-d H:i:s

• processing_time
  Тип: int(11)
  Комментарий: Время выполнения операции в миллисекундах

  
  
  Вот методы для работы с API локального сервера самими терминалами и считывателями QR с них

  Описание работы методов Kaspi SmartPOS API
🏦 Методы работы с платежами (порт 130-133)
1. Инициация платежа
URL: GET http://109.175.215.40:{PORT}/v2/payment?amount={СУММА}

Описание: Создает новый платеж на указанную сумму в тенге. Терминал переходит в режим ожидания оплаты от клиента.

Параметры:

amount - сумма в тенге (обязательный)
Ответ:

JSON
{
  "data": {
    "processId": "1678090451700",
    "status": "wait"
  },
  "statusCode": 0
}
Что происходит: Терминал активирует экран оплаты, клиент может оплатить через QR-код, карту или Kaspi приложение.

2. Проверка статуса операции
URL: GET http://109.175.215.40:{PORT}/v2/status?processId={PROCESS_ID}

Описание: Проверяет текущий статус операции. Рекомендуется вызывать каждую секунду до получения финального статуса.

Параметры:

processId - идентификатор процесса из предыдущего запроса (обязательный)
Возможные статусы:

wait - ожидает действий клиента
success - успешно оплачено
fail - ошибка или отмена
unknown - неопределенный статус (требует актуализации)
Ответ при успешной оплате:

JSON
{
  "data": {
    "processId": "1678090451700",
    "status": "success",
    "transactionId": "504711333",
    "chequeInfo": {
      "amount": "50000 ₸",
      "method": "qr",
      "orderNumber": "504711333"
    }
  },
  "statusCode": 0
}
3. Актуализация статуса
URL: GET http://109.175.215.40:{PORT}/v2/actualize?processId={PROCESS_ID}

Описание: Используется когда статус операции "unknown". Позволяет уточнить финальный результат операции.

Ограничения: Минимальный интервал между запросами - 10 секунд.

Когда использовать: Только если статус операции вернул "unknown" и нужно выяснить реальный результат.

4. Отмена платежа
URL: GET http://109.175.215.40:{PORT}/v2/cancel?processId={PROCESS_ID}

Описание: Принудительно отменяет текущий процесс оплаты. Работает только для операций в статусе "wait".

Параметры:

processId - идентификатор процесса для отмены
Результат: Терминал прекращает ожидание оплаты и возвращается в исходное состояние.

📷 Методы работы с QR-сканером и камерами (порт 3000)
1. Получение списка камер
URL: GET http://109.175.215.40:3000/cameras

Описание: Возвращает список всех доступных камер в системе с их идентификаторами и названиями.

Ответ:

JSON
{
  "success": true,
  "cameras": [
    {
      "id": "0",
      "name": "USB Camera 1",
      "status": "available"
    },
    {
      "id": "1", 
      "name": "Built-in Camera",
      "status": "busy"
    }
  ]
}
Использование: Получите список перед началом работы с камерами, чтобы знать доступные устройства.

2. Сканирование QR-кода
URL: GET http://109.175.215.40:3000/scan-qr/{CAMERA_ID}?timeout={TIMEOUT}

Описание: Запускает процесс сканирования QR-кода с указанной камеры. Камера активируется и ожидает появления QR-кода в кадре.

Параметры:

CAMERA_ID - идентификатор камеры (обязательный)
timeout - время ожидания в миллисекундах (по умолчанию 15000)
Процесс работы:

Камера включается и начинает сканирование
Система анализирует изображение в поиске QR-кодов
При обнаружении QR-кода возвращается его содержимое
Если время истекло - возвращается ошибка таймаута
Ответ при успехе:

JSON
{
  "success": true,
  "qrData": "https://kaspi.kz/pay/12345",
  "timestamp": "2024-01-15T10:30:00Z"
}
3. Получение снимка с камеры
URL: GET http://109.175.215.40:3000/capture/{CAMERA_ID}

Описание: Делает одиночный снимок с указанной камеры и возвращает изображение в формате JPEG.

Параметры:

CAMERA_ID - идентификатор камеры
Ответ: Бинарные данные изображения (JPEG) или JSON с ошибкой.

Использование: Полезно для проверки работы камеры, получения фото документов или создания снимков для архива.

4. Остановка сканирования
URL: POST http://109.175.215.40:3000/stop-scan/{CAMERA_ID}

Описание: Принудительно останавливает процесс сканирования QR-кода на указанной камере.

Когда использовать:

Нужно прервать долгое сканирование
Переключиться на другую камеру
Завершить работу с камерой
Результат: Камера прекращает сканирование и освобождается для других операций.

5. Статус системы
URL: GET http://109.175.215.40:3000/status

Описание: Возвращает общую информацию о состоянии системы QR-сканирования.

Ответ:

JSON
{
  "success": true,
  "systemStatus": "online",
  "activeCameras": 2,
  "totalCameras": 3,
  "activeScans": 1,
  "uptime": "2 days, 5 hours"
}
🔄 Типичные сценарии использования
Сценарий 1: Полный цикл платежа
Создание платежа - вызываем /v2/payment?amount=100000
Получаем processId из ответа
Мониторинг статуса - каждую секунду вызываем /v2/status?processId=...
Ожидаем финального статуса - success, fail или unknown
При необходимости актуализируем - если статус unknown
Обрабатываем результат - сохраняем данные транзакции
Сценарий 2: Работа с QR-сканером
Получаем список камер - /cameras
Выбираем подходящую камеру - по ID и статусу
Запускаем сканирование - /scan-qr/0?timeout=15000
Обрабатываем результат - получаем данные QR-кода
При необходимости останавливаем - /stop-scan/0
Сценарий 3: Экстренная отмена
Проверяем статус операции - /v2/status?processId=...
Если статус "wait" - операция еще активна
Отменяем платеж - /v2/cancel?processId=...
Подтверждаем отмену - проверяем финальный статус
⚠️ Важные особенности
Таймауты и интервалы
Проверка статуса платежа: каждую секунду
Актуализация: минимум 10 секунд между запросами
Сканирование QR: настраиваемый таймаут (рекомендуется 15 секунд)
Обработка ошибок
Код 0 - успешное выполнение
Коды 100-999 - различные типы ошибок
Всегда проверяйте statusCode в ответе
Безопасность
HTTP протокол - API работает только по HTTP
Локальная сеть - доступ только из локальной сети
Нет аутентификации - защита на уровне сети
Производительность
Один платеж за раз на терминал
Одно сканирование за раз на камеру
Освобождайте ресурсы после использования

  Как зарабатывают наши агенты:


  1) Привлекая агента в свою первую линию получает кэшбэк от обучения 10% когда его подписчик сдал экзамен, и 10% когда продал свой первый тур.
  2) От проданных туров пользователи видят все туры без комиссии от туроператора и продают их по оптовой цене и соответственно имеют возможность заработать продав тур с накруткой, накрутка начисляется в день вылета клиентов на баланс или на бонусы в зависимости от условий.
  3) Мо маркетингу по линиям
        Агент по умолчанию зарабатывает по 5 линиям дохода
            Он привлек людей это первая линия они что то купили или продали он получает 1% от первой линии доход

            1 линия - 1%
            2 линия - 0.3%
            3 линия - 0.3%
            4 линия - 0.3%
            5 линия - 0.2%


            Но что бы получать доход по всем 5 линиям он должен делать собственные продажи для того что бы получать доход с 3 линий нужно минимум 3 собственные продажи что бы с 4 - продаж, что бы с 5 нужно 8 личных продаж 
            Если пользователь сделал 10 личных продаж он получает доход по линиям в двойном размере
    

    Для того что бы пользователь был промативирован наращивать свою компанду сделаана система статусов и поощрений 

    Активным считается тот кто совершил любую одну покупку

    Если в моей компанде в первой и второй линии 500 активных пользователей я получаю статус Ambasador у меня открывается 3 линия и мне не надо делать личные продажи что бы получать с нее доход + я получаю путешествие
    Если в моей команде в трех линиях 1000 активных пользователей я получаю статус Coach получаю автомобиль и у меня крепиться 4 линия
    Если в моей команде по 4 линия 2000 активных пользователей я получаю статус Alpha получаю квартиру и у меня крепиться 5 линий дохода но что бы доход умножался на 2 по линиям мне все равно нужно делать 10 личных продаж


    Все это доступно только агентам и конечно в этом смысл купить пакет обучения и доступ к системе

    Оба тарифа включают в себя платную подписку и позволяют видеть туры без комиссии туроператора в течении 2 месяцев со дня сдачи экзамена далее оплачивается абонентская плата 30 000 тенге в месяц что бы видеть туры без комиссии туроператора.
    Платная подписка и возможность видеть туры без коммисии так же доступна только агентам прошедшим обучение


Смотри еще у нас в приложении появилась внутреняя рассрочка на обучение максимальный срок 6 месяцев без процентов ее предоставить может только агент своим подписчикам! Договор заключается 3-мя сторонами первая сторона это компания, вторая агент который привлек другова агента и соответственно сам пользователь который покупает обучение первоначальный платеж это первый месяц у 2 сторон пригласителя и обучаемого солидарная ответственность по договору и они прямо в приложении подписывают договор при подписании фиксируем видео что обе стороны согласный с условиями и фиксируем подпись далее не зависимо работает или нет агент должен оплачивать расрочку если перестает платить в судебном порядке взыскивается стоимость обучения с обоих. Месячные платежи можно оплачивать заработанным балансом но нельзя бонусами. Тут нужно будет развернуть системы контроля за расрочками.


Вот документация по api tourVisor

XML шлюз TOURVISOR
 
Выгрузка справочников
 
        	Возможно выгрузить справочники (списки городов вылета, стран, курортов, отелей и т.д.) в формате XML либо JSON. Также возможно получать информацию напрямую из Javascript через JSONP запрос (например, для создания и загрузки информации в нестандартные формы).
        	Получение справочников осуществляется путем GET-запроса на адрес:
        	http://tourvisor.ru/xml/list.php
        	Результаты выдаются в кодировке UTF-8 (Unicode).
        	
1.     Авторизация.
При работе со справочниками требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru (возможна работа без авторизации для JSONP запросов, но при этом запросы обязательно должны осуществляться с домена, «привязанного» к Вашей учетной записи – подробнее см.ниже).
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor
Пример:
http://tourvisor.ru/xml/list.php?format=xml&type=departure&authlogin=testsite&authpass=123123
 
2.     Основные параметры.
format - формат выдачи xml или json  (по умолчанию json)
type - список типов информации, которую нужно получить через запятую. Например: departure,country,hotels. Можно указать один тип. Список типов приведен ниже.
 
3.     departure - список городов вылета.
Тип информации - departure
Выдает полный список городов вылета, дополнительных параметров нет.
Пример:
http://tourvisor.ru/xml/list.php?format=xml&type=departure&authlogin=testsite&authpass=123123
 
4.     country - список стран.
Тип информации - country
Без параметров выдается полный список стран (все страны, которые есть в системе).
Параметры:
- cndep – город вылета. Выдается список стран, куда есть вылеты из указанного города.
Примеры:
http://tourvisor.ru/xml/list.php?type=country&authlogin=testsite&authpass=123123
(выдает полный список стран)
http://tourvisor.ru/xml/list.php?type=country&cndep=3&authlogin=testsite&authpass=123123
(выдает список стран, в которые есть вылет из города Екатеринбург (код 3))
 
5.     region – список курортов.
Тип информации - region
Без параметров выдается полный список курортов (с кодами стран).
Параметры:
- regcountry – страна, по которой нужно получить список курортов.
Примеры:
http://tourvisor.ru/xml/list.php?type=region&authlogin=testsite&authpass=123123
(выдает полный список курортов)
http://tourvisor.ru/xml/list.php?type=region&regcountry=1&authlogin=testsite&authpass=123123
(выдает список всех курортов по Египту (код 1))

6.     subregion – список вложенных курортов (регионов).
Тип информации - subregion
Без параметров выдается полный список вложенных курортов.
Параметры:
- regcountry – страна, по которой нужно получить список вложенных курортов.
Поля в результате:
- id – идентификатор вложенного курорта.
- name – наименование вложенного курорта.
- parentregion – идентификатор “родительского” курорта (см.предыдущий пункт region). Таким образом в одном курорте (region) может быть вложено несколько регионов (subregion). Детализация (вложенные курорты) присутствует только по ограниченному количеству курортов и стран.

Примеры:
http://tourvisor.ru/xml/list.php?type=subregion&authlogin=testsite&authpass=123123
(выдает полный список курортов)
http://tourvisor.ru/xml/list.php?type=subregion&regcountry=1&authlogin=testsite&authpass=123123
(выдает список всех курортов по Египту (код 1))
 
7.     meal – список типов питания.
Тип информации - meal
Выдает полный список типов питания с кодами.
Пример:
http://tourvisor.ru/xml/list.php?type=meal&authlogin=testsite&authpass=123123
 
8.     stars – список категорий отелей (звездность).
Тип информации - stars
Выдает полный список категорий отелей с кодами.
Пример:
http://tourvisor.ru/xml/list.php?type=stars&authlogin=testsite&authpass=123123
                     	
9.     hotel – список отелей.
Тип информации - hotel
Выдает список отелей. Обязательно нужно указать хотя бы код страны (hotcountry).
Параметры:
        	- hotcountry – код страны, по которой нужно получить список отелей (ОБЯЗАТЕЛЬНО!)
        	- hotregion – код курорта (можно несколько через запятую)
        	- hotstars - звездность (и выше)
        	- hotrating - рейтинг отеля (выше или равно которому будет отображаться)
        	- hotactive - только отели "Активный"
        	- hotrelax - только отели "Спокойный"
        	- hotfamily - только отели "Семейный"
        	- hothealth - только отели "Здоровье"
        	- hotcity - только отели "Городской"
        	- hotbeach - только отели "Пляжный"
        	- hotdeluxe - только отели "Люкс (VIP)"
Примеры (для упрощения примеры указаны без параметров авторизации):
http://tourvisor.ru/xml/list.php?type=hotel&hotcountry=1
(список отелей по Египту (1))
http://tourvisor.ru/xml/list.php?type=hotel&hotcountry=1&hotregion=5
(список отелей по курорту Хургада (5) страны Египет (1))
http://tourvisor.ru/xml/list.php?type=hotel&hotcountry=1&hotregion=5,15&hotstars=4&hotbeach=1
(список «пляжных» отелей по курортам Хургада и Эль Гуна (5) звездностью 4* и выше)
http://tourvisor.ru/xml/list.php?type=hotel&hotcountry=1&hotrating=4&hotstars=5&hotdeluxe=1
(список «VIP» отелей Египта 5* с рейтингом больше или равно 4)
 
10.     operator – список туроператоров.
Тип информации - operator
Выдает полный список активных туроператоров с кодами.
Параметры (необязательно):
- flydeparture – код города вылета.
- flycountry – код страны
Без параметров выдает полный список активных операторов. Если указан один или оба параметра - то соответственно, выдает список активных операторов, у которых есть вылет из заданного города вылета в заданную страну.
Пример:
http://tourvisor.ru/xml/list.php?type=operator&authlogin=testsite&authpass=123123
 
11.            flydate – список дат вылета.
Тип информации - flydate
Выдает список доступных дат вылета для выбранного города вылета и страны (используется в календарике).
Параметры (все обязательны):
- flydeparture – код города вылета (обязательно!).
- flycountry – код страны (обязательно!)
Примеры:
http://tourvisor.ru/xml/list.php?type=flydate&flydeparture=3&flycountry=1&authlogin=testsite&authpass=123123
(выдает список доступных дат вылета в Египет из Екатеринбурга)
 
12. currency – курсы валют
Тип информации - currency
Выдает список активных операторов, для каждого передается курс валюты (в полях usd и eur).
Пример:
http://tourvisor.ru/xml/list.php?type=currency&authlogin=testsite&authpass=123123

13. services – список услуг в отелях
Тип информации - services
Выдает список услуг отелей, по которым возможна фильтрация в поиске туров.
Например, "первая береговая линия" - позволяет искать отели на первой линии.
Пример:
https://tourvisor.ru/xml/list.php?type=services&authlogin=YOURLOGIN&authpass=YOURPASS
 
        	Возможно за один запрос получать сразу несколько типов данных.
        	Примеры (для упрощения примеры указаны без параметров авторизации):
http://tourvisor.ru/xml/list.php?format=xml&type=departure,meal,stars
(получение за один запрос справочников по городам вылета, типам питания, категориям)
http://tourvisor.ru/xml/list.php?format=xml&type=departure,country,region&cndep=3&regcountry=4
(получение справочников - все города вылета, страны с вылетом из города Екатеринбург, курорты для страны Турция)
 
12.            Получение информации JSONP.
Возможно получение справочников прямо из Javascript.
        	В этом случае авторизация не требуется (т.к. иначе пришлось бы размещать пароль в открытом доступе), но запросы обязательно должны производиться с домена, который привязан к активной учетной записи в системе TourVisor.
        	Данный способ удобен для создания нестандартных форм, т.к. позволяет получать справочники прямо в скрипте и заполнять любые элементы формы нужными данными.
 
        	Пример получения данных с использованием библиотеки jQuery:
        	http://tourvisor.ru/xml/demojsonp.html
 
        	В этом примере происходит запрос городов вылета, затем полученной информацией заполняется SELECT (готовый элемент для формы), а также для примера заполняется DIV просто тестовой информацией по городам.
 

Поиск обычных туров

XML шлюз TOURVISOR
 
ПОИСК ТУРОВ
 
        	Поисковый шлюз TourVisor позволяет создавать поисковые запросы и получать их результат в формате XML либо JSON, тем самым возможно реализовать полностью индивидуальное оформление поисковой системы и произвольную выдачу результатов пользователям.
        	Результаты выдаются в кодировке UTF-8 (Unicode).
 
Схема работы с сервисом
        	Поиск туров в шлюзе осуществляется асинхронно и состоит из трех этапов:
1)      Создается поисковый запрос (детально см.ниже), куда передаются необходимые параметры поиска (страна, город вылета, даты, кол-во ночей и т.п.). В ответ шлюз выдает единственный параметр – идентификатор поискового запроса. По этому идентификатору (далее для краткости «ID запроса») происходит дальнейшее отслеживание статуса поиска и получение результатов поиска туров.
2)      Примерно через 3-5 секунд (раньше этого времени результатов поиска, как правило, не бывает) делается запрос на статус поиска. В ответ система выдает краткую сводку – какой % поиска уже был завершен, сколько туров найдено и какова минимальная цена (подробно см. ниже). На основании этой информации принимается решение – получать ли результаты запроса или ждать дальше. Мы рекомендуем следующий алгоритм – если поиск завершен или прошло более 7 секунд с начала поиска – то выдаем первый результат.
3)      Делаем запрос на получение результатов поиска (подробнее см.ниже). В ответ система выдает туры, которые удалось получить на текущий момент. Также передается краткая сводка поиска (см. предыдущий пункт – 2) – если поиск еще не завершен, то мы рекомендуем каждые 2 секунды запрашивать статус поиска. Далее все зависит от Вашего алгоритма работы. Рекомендуемая схема – когда поиск завершится – выдаем клиенту оповещение о том, что найдены новые туры и обновляем результаты поиска.
 
Авторизация.
При работе со шлюзом требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru.
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor
 
Формирование поискового запроса
        	Для того, чтобы запустить поиск, необходимо передать параметры поиска GET запросом на адрес:
        	http://tourvisor.ru/xml/search.php
        	Часть параметров передается кодами (например страна, город вылета) – кодировку можно получить из соответствующих справочников (см. инструкцию «XML - справочники»).
        	В ответ выдается числовой идентификатор запроса - по нему можно отслеживать статус и получать результаты поиска.
        	Внимание! Получать статус и результаты поиска можно только с того же IP адреса, с которого делался первоначальный запрос.
        	Параметры поискового запроса:
departure – код города вылета
country – код страны
datefrom - дата от в формате дд.мм.гггг (если не указан - текущая дата +1 день)
dateto - дата до в формате дд.мм.гггг (если не указан - текущая дата +8 дней). Максимальный диапазон = 2 недели (14 дней)
nightsfrom - ночей от (по умолчанию = 7)
nightsto - ночей до (по умолчанию = 10)
adults - кол-во взрослых (по умолчанию = 2)
child - кол-во детей (по умолчанию = 0)
childage1 - возраст 1 ребенка, лет (опционально). Младенец = 1.
childage2 - возраст 2 ребенка, лет (опционально). Младенец = 1.
childage3 - возраст 3 ребенка, лет (опционально). Младенец = 1.
stars – категория отеля (звездность) (опционально)
starsbetter – 1 – показывать категории лучше указанной. по умолчанию 1 (опционально)
meal - тип питания (код) (опционально)
mealbetter – 1 – показывать питание лучше указанного. по умолчанию 1 (опционально)
rating – рейтинг отеля (опционально). Используется кодировка: 0: любой, 2: >= 3.0, 3: >= 3.5, 4: >= 4.0, 5: >= 4.5  (т.е. нужно передать целое число, соотв. критерию)
hotels - коды отелей (если несколько, то через запятую) (опционально)
hoteltypes - типы отелей (через запятую: active, relax, family, health, city, beach, deluxe) пример:relax,beach  (опционально).
pricetype - тип цены. 0 – цена за номер, 1 – цена за человека (по умолчанию 0)
regions – коды курортов (если несколько, то через запятую) (опционально)
subregions – коды вложенных курортов (районов) (если несколько, то через запятую) (опционально). Если Вам нужен поиск по конкретному району (subregion), то соответствующий ему параметр regions указывать не нужно, иначе будет производиться поиск по всему курорту (region), который Вы указали.
operators - список операторов (через запятую) (опционально)
pricefrom - цена от (в рублях, опционально)
priceto - цена до (в рублях, опционально)
currency – валюта, в которой производить выдачу результатов поиска. 0 = рубли (по-умолчанию), 1 – у.е. (USD или EUR, зависит от страны), 2 – бел.рубли, 3 – тенге
hideregular = 1 - скрыть туры на регулярных рейсах
services - список услуг в отеле, через запятую, опционально
format - json или xml - по умолчанию xml
 
Пример запроса:
http://tourvisor.ru/xml/search.php?authlogin=test&authpass=123123&departure=3&country=1&datefrom=15.02.2014&dateto=21.02.2014&nightsfrom=6&nightsto=10&adults=2&child=0&format=xml
 
        	Пример ответа:
<result>
 <requestid>32023799</requestid>
</result>
 
        	Элемент requestid содержит идентификатор поискового запроса.
 


Получение статуса и результатов поискового запроса
        
	Для того, чтобы получить статус или результаты (туры) по запущенному поисковому запросу, необходимо передать идентификатор requestid GET запросом на адрес:
        	http://tourvisor.ru/xml/result.php
        	Также передается параметр type, который определяет ответ. type=status – в ответе передается только статус запроса (для отслеживания прогресса поиска), type=result – в ответе передаются текущие результаты поиска + статус запроса. Если параметр type не указан, то выдаются результаты + статус (т.е. по умолчанию type=result).
        	Внимание! Получать статус и результаты поиска можно только с того же IP адреса, с которого делался первоначальный запрос.
        	Параметры запроса:
requestid – идентификатор запроса, который мы получили при вызове search.php (этот параметр является обязательным!)
type - что получаем в ответе. status - только статус запроса, result - результаты (туры) + статус. По умолчанию - result
page – страница результатов поиска, которую нужно загрузить (по умолчанию = 1). За один раз выдается ограниченное количество отелей (см.следующий параметр onpage). Если этого количества недостаточно, можно загрузить больше результатов, указав page=2, затем page=3 и т.д. (этот параметр не является обязательным)
onpage – сколько отелей выдавать на одной странице (по умолчанию 25) (этот параметр не является обязательным)
nodescription – если этот параметр = 1, то краткое описание отеля не передается (удобно, если Вы его не используете, чтобы уменьшить объем передаваемой информации)
operatorstatus – если = 1, передает расширенный статус по операторам (показывает какие операторы были найдены, минимальная цена и количество найденных отелей по каждому туроператору)
 
Блок статуса (status) содержит следующую информацию:
state – статус поиска: searching – идет поиск, finished – поиск завершен
hotelsfound – количество отелей, которое уже найдено
toursfound – количество туров, которое уже найдено
minprice – минимальная цена, найденная на текущий момент
progress – прогресс поиска – сколько % завершено (например, 40 или 70)
timepassed – сколько времени в секундах прошло с начала поиска
массив operators – (если указан параметр operatorstatus=1) – содержит информацию об уже найденных туроператорах (код, минимальная цена, кол-во отелей).
 
Результаты выдаются сгруппированными по отелям.
Блок результатов (result) содержит массив элементов hotel, в которых содержится:
hotelcode – код отеля
price – цена в рублях (минимальная по этому отелю)
countrycode – код страны
countryname – название страны (на русском)
regioncode – код курорта для данного отеля
regionname – название курорта (на русском)
subregioncode – код вложенного курорта (района) для данного отеля, если есть (для большой части отелей он не задан и равен 0).
hotelname – название отеля
hotelstars – категория отеля (2,3,4 или 5)
hotelrating – рейтинг отеля от 1 до 5 (дробный), если нет = 0
hoteldescription – краткое описание отеля (если его нет, то пусто)
fulldesclink – ссылка на полное описание отеля (если на Вашем сайте установлен модуль «Описания стран, курортов, отелей», то ссылка будет вести на Ваш сайт, иначе ссылка будет вести на наш нейтральный домен)
reviewlink – ссылка на отзывы по отелю (правила те же, что для fulldesclink)
picturelink – ссылка на картинку отеля (ширина 130px)
isphoto – есть ли фотографии в описании отеля (1 / 0)
iscoords – есть ли координаты в описании отеля (1 / 0)
isdescription – есть ли детальное описание отеля (1 / 0)
isreviews – есть ли отзывы по отелю (1 / 0)
seadistance – расстояние до моря (в метрах)
 
Блок hotel содержит блок tours, в котором содержится массив элементов tour (информация о турах для данного отеля):
operatorcode – код туроператора
operatorname – название туроператора
flydate – дата вылета в формате дд.мм.гггг
nights – кол-во ночей
price – цена в рублях. Цена уже содержит топливный сбор и уже учитывает скидку, которая настроена в личном кабинете (т.е. алгоритм расчета совпадает с алгоритмом расчета для обычного поискового модуля, установленного на сайте).
fuelcharge – топливный сбор в рублях (на весь тур)
priceue – цена в у.е. (указывается справочно, пересчитывается по текущему курсу туроператора из цены в рублях, не включает топливный сбор)
placement – название типа размещения
adults – кол-во взрослых
child – кол-во детей
meal – тип питания (краткое наименование)
mealrussian – полное русское наименование питания
room – тип комнаты
tourname – наименование тура
tourlink – ссылка на описание тура на сайте туроператора (если есть)
tourid – индивидуальный код тура (будет использоваться позднее для получения детальной информации о туре, списка авиарейсов и т.п.). Обратите внимание, что данный код, как правило, действует не более суток. Поэтому не следует использовать его для долговременного хранения.
currency – код (название) валюты, в которой представлена цена. Один из: RUB, EUR, USD, BYR, KZT
regular - метка, если она = 1, то данный тур выполняется на регулярных рейсах (возможны доплаты к туру). 
promo - метка, если она = 1, то данный тур - со сниженной комиссией (промо).
onrequest - метка, если она = 1, то места на авиарейсах (именно на рейсах, а не в отеле) по данному туру “под запрос”.
flightstatus - места на рейсах: 1 = “под запрос”, 2 = “мало”.
hotelstatus - места в отеле: 1 = “под запрос”, 2 = “мгновенное подтверждение”.
nightflight - если есть ночной перелет, то в этом поле указывается количество ночей в дороге.
 
Пример запроса статуса:
http://tourvisor.ru/xml/result.php?authlogin=test&authpass=1231&requestid=32023799&type=status
 
Пример ответа:
<data>
 <status>
  <state>finished</state>
  <hotelsfound>99</hotelsfound>
  <toursfound>463</toursfound>
  <minprice>30481</minprice>
  <progress>100</progress>
  <timepassed>34</timepassed>
 </status>
</data>
 
Пример запроса результатов поиска:
http://tourvisor.ru/xml/result.php?authlogin=test&authpass=1231&requestid=32023799&type=result
 
Пример ответа:
<data>
 <status>
  <state>finished</state>
  <hotelsfound>99</hotelsfound>
  <toursfound>463</toursfound>
  <minprice>30481</minprice>
  <progress>100</progress>
  <timepassed>34</timepassed>
 </status>
 <result>
  <hotel>
   <hotelcode>470</hotelcode>
   <price>30481</price>
   <countrycode>1</countrycode>
   <countryname>Египет</countryname>
   <regioncode>5</regioncode>
   <regionname>Хургада</regionname>
   <hotelname>SULTANA BEACH RESORT</hotelname>
   <hotelstars>3</hotelstars>
   <hotelrating>2.2</hotelrating>
   <hoteldescription>Очень простой и скромный отель для непритязательного экономного отдыха. Сервис средний, несколько однообразное питание. Отель расположен недалеко от города, где можно погулять или найти магазины со всем необходимым.</hoteldescription>
   <fulldesclink>http://manyhotels.ru/#!/hotel=sultana-beach-resort</fulldesclink>
   <reviewlink>http://manyhotels.ru/#!/hotel=sultana-beach-resort&showreviews=1</reviewlink>
   <picturelink>http://manyhotels.ru/hotel_pics/small/470.jpg</picturelink>
   <tours>
	<tour>
     <operatorcode>16</operatorcode>
     <operatorname>Sunmar</operatorname>
     <flydate>16.02.2014</flydate>
     <nights>6</nights>
     <price>30481</price>
     <fuelcharge>0</fuelcharge>
 	<placement>DBL</placement>
     <adults>2</adults>
 	<child>0</child>
 	<meal>HB</meal>
     <mealrussian>Полупансион</mealrussian>
 	<room>standard room</room>
     <tourname>Хургада</tourname>
     <tourid>16347248245</tourid>
	</tour>
	<tour>
 	<operatorcode>16</operatorcode>
     <operatorname>Sunmar</operatorname>
     <flydate>19.02.2014</flydate>
     <nights>6</nights>
     <price>32005</price>
     <fuelcharge>0</fuelcharge>
     <placement>DBL</placement>
     <adults>2</adults>
 	<child>0</child>
 	<meal>HB</meal>
     <mealrussian>Полупансион</mealrussian>
 	<room>standard room</room>
     <tourname>Хургада</tourname>
     <tourid>16350657821</tourid>
	</tour>
...
   </tours>
  </hotel>
 </result>
</data>


Продолжение поиска (найти еще туры)
        
	После того, как поиск завершен, есть возможность продолжить его, чтобы получить больше предложений от туроператоров. Для этого необходимо передать идентификатор requestid GET запросом в параметре continue на адрес:
        	http://tourvisor.ru/xml/search.php
        	Остальные параметры поиска указывать не нужно, система определит их по идентификатору запроса.
	В ответ выдается параметр page, в котором указывается виртуальная “страница” поиска. При первом продолжении вернется page=2, при втором page=3 и так далее. Таким образом, можно продолжить поиск несколько раз, но продолжение доступно только тогда, когда предыдущий поиск по данному запросу полностью завершился (finished). Если продолжение поиска запустить не удалось (например, операторы, участвующие в поиске не поддерживают продолжение), то вернется page=0.
	Результаты поиска после этого можно получать как обычно (result.php). Обратите внимание, что выдается полный результат, включающий в себя начальный поиск и все его продолжения.
        	Внимание! Каждый запрос на продолжение поиска считается отдельным поисковым запросом и отдельно учитывается в Вашей статистике (а значит, может влиять на оплату за превышение лимита запросов).
        	Параметры запроса:
continue – идентификатор запроса, который мы получили при старте поиска
format - json или xml - по умолчанию xml

Пример запроса продолжения поиска:
https://tourvisor.ru/xml/search.php?authlogin=test&authpass=test&continue=1844397632&format=json


Поиск горящих туров

XML шлюз TOURVISOR
 
ГОРЯЩИЕ ТУРЫ
 
        	Сервис получения информации по горящим турам. Позволяет получать информацию в формате XML либо JSON, тем самым возможно реализовать полностью индивидуальный внешний вид и компоновку горящих туров.
        	Получение информации по горящим турам осуществляется путем GET-запроса на адрес:
        	http://tourvisor.ru/xml/hottours.php
        	Результаты выдаются в кодировке UTF-8 (Unicode).
 
1.     Авторизация.
При работе со шлюзом требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru.
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor
Пример:
http://tourvisor.ru/xml/hottours.php?city=1&items=10&authlogin=testsite&authpass=123123
 
2.     Основные параметры.
format - формат выдачи xml или json  (по умолчанию json)
items – количество горящих туров, которые необходимо получить (цифра от 1 до 100). Указывается обязательно!
city – код города вылета для выдачи горящих туров (например, 1 = Москва). Указывается обязательно!
 
3.     Дополнительные параметры (необязательные).
city2 – код второго (дополнительного) города вылета. Туры в этот город выдаются с меньшим приоритетом. См.ниже «Сочетания городов вылета» для примеров использования.
city3 – код третьего (дополнительного) города вылета. Туры в этот город выдаются с меньшим приоритетом.
uniq2 – только уникальные направления для города вылета 2 (city2). 1 или 0.
uniq3 – только уникальные направления для города вылета 3 (city3). 1 или 0.
maxdays – максимальное количество дней от сегодняшнего числа, на которые выдаются горящие туры. Например, если передать 7, то будут туры только на ближайшую неделю. Если 0 или не указано – период не ограничен. Удобно, чтобы ограничить туры, например, на ближайший месяц.
countries – список кодов стран через запятую. Если требуется ограничить горящие туры только одной страной (или несколькими странами), то в данном параметре передается код страны (или несколько через запятую). Важно - горящие туры могут быть не по всем странам!
regions – список кодов курортов через запятую. Если требуется ограничить горящие туры только определенным курортом (или несколькими курортами), то в данном параметре передается код курорта (или несколько через запятую). Будьте внимательны – коды курортов должны соответствовать странам, которые Вы передаете в параметре countries. Важно - горящие туры могут быть не по всем курортам!
operators – список кодов туроператоров через запятую. Если требуется ограничить горящие туры только по определенным туроператорам. Важно - горящие туры могут быть не по всем туроператорам!
datefrom и dateto – эти параметры ограничивают диапазон дат, на которые выдаются горящие туры (т.е. можно получить горящие туры на произвольный период – например, на Новогодние праздники или, например, с 1 мая по 9 мая). Формат даты – 01.01.2015. Важно - горящие туры могут быть не на все даты!
stars – ограничить минимальную звездность отелей в горящих турах. Например, если задать stars=4, то система выдаст только отели 4* и 5*.
rating – ограничить минимальный рейтинг отелей в горящих турах. Рейтинг соответствует рейтингу в поисковой системе, от 1 до 5. Задается либо целым числом (например rating=4 – рейтинг отеля не меньше 4), либо дробным через точку (например, rating=3.5 – отели с рейтингом не менее 3.5).
meal – ограничить минимальное питание в горящих турах. Передается код типа питания (можно взять из справочников). Например, если задать meal=7, то система выдаст только горящие туры с питанием «All Inclusive» и лучше.
picturetype – тип картинки (фотографии) отеля = 0 или 1. По-умолчанию (0) – картинка стандартного размера (ширина 130 пикселей). 1 = большие картинки (ширина 250 пикселей).
tourtype – тип тура (цифра от 0 до 3). По-умолчанию (0) = любые туры, 1 = пляжные туры, 2 = горнолыжные, 3 = экскурсионные.
visa – фильтр по визовым направлениям. По-умолчанию (0) = любые страны, 1 = только безвизовые.
sort – как сортировать горящие туры. По-умолчанию (0) = по рейтингу “полезности”, 1 = по цене.
currency - валюта, в которой производить выдачу результатов поиска. 0 = рубли (по-умолчанию), 1 – у.е. (USD или EUR, зависит от страны)

 
  
4.     Сочетания городов вылета.
Всегда должен быть задан хотя бы основной город вылета (параметр city). Если задан только он, то, соответственно, выдаются горящие туры с вылетом из этого города.
Если Вы хотите, чтобы в одном запросе передавались также туры из альтернативных городов, то можно указать 1 или 2 дополнительных города вылета. Например, основной город – Пермь (city=2), дополнительные города – Екатеринбург (city2=3) и Москва (city3=1). В этом случае в наборе горящих туров приоритет будет отдаваться турам из Перми, однако, если есть очень интересные предложения из Екатеринбурга и Москвы, то они будут тоже включены в набор.
Также есть возможность для дополнительных городов выдавать только уникальные направления (те страны, туров в которые нет из основного города). Для этого служат параметры uniq2 и uniq3, соответственно. Т.е. если к предыдущему примеру добавить параметры uniq2=1 и uniq3=1, то будут выданы горящие туры из Перми, а также туры из Екатеринбурга и Москвы, но только по тем странам, куда нет вылетов из Перми.
 
5.     Результаты – набор горящих туров.
В ответе на запрос передается набор горящих туров, которые соответствуют заданным параметрам. Возможны ситуации, когда параметры слишком строгие и горящих туров не найдено – в этом случае результат не будет выдан. В параметре hotcount содержится количество найденных горящих туров. Блок результатов (hottours) содержит массив элементов tour, в которых содержится:
countrycode – код страны
countryname – название страны (на русском)
departurecode – код города вылета
departurename – название города вылета (на русском)
departurenamefrom – название города вылета в родительном падеже (удобно, чтобы указывать откуда вылет – например, из Перми, из Москвы, из Екатеринбурга).
operatorcode – код туроператора
operatorname – название туроператора
hotelcode – код отеля
hotelname – название отеля
hotelstars – категория отеля (2,3,4 или 5)
hotelregioncode – код курорта для данного отеля
hotelregionname – название курорта для данного отеля (на русском)
hotelpicture – ссылка на фотографию отеля
fulldesclink – ссылка на полное описание отеля (в модуль описаний), если есть
flydate – дата вылета по туру (в формате 01.01.2015)
nights – длительность тура (количество ночей)
meal – тип питания (текстовый)
price – цена в рублях (текущая) – указана цена за человека (1/2 DBL)
priceold – старая цена в рублях (предыдущая цена, до снижения). Вы также можете рассчитать процент снижения цены = 100 * ( priceold – price) / priceold
currency - код (название) валюты, в которой представлена цена. Один из: RUB, EUR, USD
 
6.     Получение информации JSONP.
Возможно получение горящих туров прямо из Javascript.
        	В этом случае авторизация не требуется (т.к. иначе пришлось бы размещать пароль в открытом доступе), но запросы обязательно должны производиться с домена, который привязан к активной учетной записи в системе TourVisor.
        	
        	Пример готового простого скрипта для вывода горящих туров с использованием библиотеки jQuery:
        	http://tourvisor.ru/xml/demo/demohot.html
 
        	В этом примере происходит запрос горящих туров и затем выдача их в стандартном дизайне модуля «Горящие туры». Вы можете взять этот образец скрипта и модифицировать его под свои нужды.
 
7.     Примеры.
Для тестирования замените в примерах логин и пароль на Ваши!
10 горящих туров из Москвы:
http://tourvisor.ru/xml/hottours.php?city=1&items=10&authlogin=test&authpass=123
 
Горящие туры из Москвы на ближайшие 14 дней, отели 4* и 5* с рейтингом от 3.5:
http://tourvisor.ru/xml/hottours.php?city=1&items=10&maxdays=14&stars=4&rating=3.5&authlogin=test&authpass=123
 
Горящие туры в Египет и Турцию на ближайшие 10 дней, питание AI и лучше:
http://tourvisor.ru/xml/hottours.php?city=1&items=10&countries=1,4&meal=7&authlogin=test&authpass=123
 
Горящие туры из Перми по всем доступным странам, а также из Екатеринбурга по странам, которых нет из Перми:
http://tourvisor.ru/xml/hottours.php?city=2&city2=3&uniq2=1&items=10&authlogin=test&authpass=123


Актуализация туров

XML шлюз TOURVISOR
 
АКТУАЛИЗАЦИЯ
 
        	Сервис актуализации позволяет для конкретного тура по его идентификатору (поле tourid в результатах поиска и горящих турах):
получить детальную информацию,
проверить цену тура в системе туроператора (см.параметр request),
получить список авиарейсов по туру можно при помощи нового метода - “Детальная актуализация”.
        	Результаты выдаются в кодировке UTF-8 (Unicode).
        	Важная информация!
        	При осуществлении актуализации тура могут производиться запросы в систему туроператора, такие запросы считаются как обычные поисковые запросы и учитываются в Вашей статистике, что может приводить к превышению бесплатного лимита запросов. Подробнее см. параметр request (ниже).
 
1.     Авторизация.
При работе со шлюзом требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru.
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor

Либо возможна актуализация по ключу (в этом случае логин/пароль не нужны):
authkey - API-ключ Вашего аккаунта в системе TourVisor
 
2.     Осуществление запроса.
        	Для того, чтобы осуществить актуализацию тура, необходимо передать параметры актуализации GET запросом на адрес:
        	http://tourvisor.ru/xml/actualize.php
     	
        	Параметры запроса:
format - формат выдачи xml или json  (по умолчанию xml)
tourid – цифровой идентификатор тура из соответствующего поля поискового шлюза. Указывается обязательно!

request – производить ли фактический запрос в систему туроператора (проверку цены в системе туроператора). 0 = определять автоматически (наша система делает запрос только в случае необходимости). 1 = всегда делать запрос (принудительно).  2 = никогда не делать запроса (информация берется из базы данных). По-умолчанию = 0. Обратите внимание, что если производится фактический запрос в систему туроператора, то он учитывается как отдельный поисковый запрос в нашей системе (в случае большого количества таких запросов, Вы можете превысить лимит на количество запросов в сутки, превышение придется оплачивать дополнительно). Поэтому мы не рекомендуем делать массовые запросы актуализации туров. Если Вы хотите, чтобы запросы на актуализацию гарантированно не попадали в суточный лимит запросов, то устанавливайте параметр request=2.
currency – валюта, в которой выдавать цену. 0 = рубли (по-умолчанию), 1 – у.е. (USD или EUR, зависит от страны), 2 – бел.рубли, 3 – тенге
 
 
3.     Результаты – данные тура.
В ответе на запрос передается набор данных по туру (внутри тега “tour”):
hotelcode – код отеля
hotelname – название отеля
hotelstars – категория отеля (2,3,4 или 5)
hotelregioncode – код курорта для данного отеля
hotelregionname – название курорта для данного отеля (на русском)
countrycode – код страны
countryname – название страны (на русском)
departurecode – код города вылета
departurename – название города вылета (на русском)
operatorcode – код туроператора
operatorname – название туроператора
flydate – дата вылета по туру (в формате 01.01.2015)
nights – длительность тура (количество ночей)
meal – тип питания
room – тип комнаты
placement – название типа размещения (например «2 взрослых»)
adults – кол-во взрослых
child – кол-во детей
childage1 – возраст первого ребенка (передается только если есть дети)
childage2 – возраст 2 ребенка (передается только если есть дети)
childage3 – возраст 3 ребенка (передается только если есть дети)
price – полная цена тура в рублях. Цена уже содержит топливный сбор и уже учитывает скидку, которая настроена в личном кабинете (т.е. алгоритм расчета совпадает с алгоритмом расчета для обычного поискового модуля, установленного на сайте).
fuelcharge – топливный сбор в рублях (на весь тур)
visacharge – стоимость оформления визы в рублях (на человека! Если Вы хотите получить стоимость визы на всех туристов – умножьте стоимость визы на количество туристов (adults+child))
currency – код (название) валюты, в которой представлена цена. Один из: RUB, EUR, USD, BYR, KZT
operatorprice - оригинальная цена у оператора в валюте оператора (USD / EUR)
operatorcurrency - валюта оператора для оригинальной цены (USD / EUR)
tourname – название тура (как правило, совпадает с названием тура в системе оператора)
hotelpicturesmall – ссылка на фотографию отеля (фото шириной 130 пикс).
hotelpicturemedium – ссылка на фотографию отеля (фото шириной 250 пикс).
hotelpicturebig – ссылка на фотографию отеля (фото шириной 400 пикс).
hoteldescription – краткое описание отеля (если его нет, то пусто)
fulldesclink – ссылка на полное описание отеля (если на Вашем сайте установлен модуль «Описания стран, курортов, отелей», то ссылка будет вести на Ваш сайт, иначе ссылка будет вести на наш нейтральный домен)
operatorlink – ссылка на данный тур в системе бронирования туроператора (доступно не по всем туроператорам).
regular - метка, если она = 1, то данный тур выполняется на регулярных рейсах (возможны доплаты к туру). 
promo - метка, если она = 1, то данный тур - со сниженной комиссией (промо).
onrequest - метка, если она = 1, то места на авиарейсах (именно на рейсах, а не в отеле) по данному туру “под запрос”.
flightstatus - места на рейсах: 1 = “под запрос”, 2 = “мало”.
hotelstatus - места в отеле: 1 = “под запрос”, 2 = “мгновенное подтверждение”.
nightflight - если есть ночной перелет, то в этом поле указывается количество ночей в дороге.
 
4.     Результаты – данные авиарейсов

Внимание! Данный раздел (параметр flights=1) более не актуален!

Для получения списка авиарейсов, а также детальной информации о туре используйте новый сервис - “Детальная актуализация”.


Детальная актуализация туров

XML шлюз TourVisor
 
ДЕТАЛЬНАЯ АКТУАЛИЗАЦИЯ
 
Сервис детальной актуализации позволяет для конкретного тура по его идентификатору (поле tourid в результатах поиска и горящих турах) получить информацию по авиарейсам а также некоторую дополнительную информацию по туру (доплаты, состав тура и т.п.).
        	Результаты выдаются в кодировке UTF-8 (Unicode).
        	Внимание! Получение данных производится непосредственно из системы бронирования туроператора, поэтому запросы на детальную актуализацию считаются как обычные поисковые запросы и учитываются в Вашей статистике, что может приводить к превышению бесплатного лимита запросов.
 
1. Авторизация.
При работе со шлюзом требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru.
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor
 
Возможна авторизация при помощи ключа, без указания логина/пароля:
authkey – ключ доступа к шлюзу (для получения обратитесь в техподдержку)
 
2. Осуществление запроса.
        	Для того, чтобы осуществить актуализацию тура, необходимо передать параметры актуализации GET запросом на адрес:
        	http://tourvisor.ru/xml/actdetail.php
     	
        	Параметры запроса:
format - формат выдачи xml или json  (по умолчанию xml)
tourid – цифровой идентификатор тура из соответствующего поля поискового шлюза. Указывается обязательно!
currency – валюта, в которой производить выдачу результатов. 0 = рубли (по умолчанию), 1 – у.е. (USD или EUR, зависит от страны), 2 – бел.рубли, 3 – тенге

3. Результаты – данные авиарейсов (блок flights).
В теге «flights» передаются данные по авиарейсам для указанного тура. В теге содержится массив наборов авиарейсов. В первом элементе (с ключом 0) передается набор авиарейсов по умолчанию (тот, который у оператора изначально указан при бронировании тура). В большинстве случаев этот элемент будет единственным. Если же у оператора есть дополнительные варианты перелетов (например, другой авиакомпанией), то они будут переданы в следующих элементах массива.
Каждый элемент массива содержит в себе следующие данные (некоторые поля могут быть пустыми, если они не представлены в системе туроператора):
forward – массив авиаперелетов «туда» (из города вылета в страну назначения). В случае, перелет единственный (например, Москва – Варна), то в массиве будет только один элемент (с ключом 0). Если же перелет составной (например, Москва – Дубай + Дубай – Мале), то каждое плечо перелета будет содержаться в отдельном элементе. Каждый элемент массива содержит в себе следующую информацию:
company – данные авиакомпании:
id – двухбуквенный код авиакомпании
name – название авиакомпании
thumb – ссылка на логотип
number  - номер авиарейса
plane – название самолета
departure – данные по вылету:
time – время вылета
port – код и название аэропорта вылета
arrival – данные по прилету:
time – время прилета
port – код и название аэропорта прилета
 
backward – массив авиаперелетов «обратно». Данные аналогичны массиву forward.
dateforward – дата вылета «туда»
datebackward – дата вылета «обратно»
price – стоимость тура для данного набора авиарейсов (поле value – содержит цену за весь тур (за номер), поле currency – обозначение валюты).
fuelcharge – топливный сбор для данного набора авиарейсов (поле value – содержит топливный сбор за весь тур (за номер), поле currency – обозначение валюты).
isdefault – если true, то это набор авиарейсов по умолчанию (должен всегда совпадать с нулевым элементом массива).
 
4. Результаты – дополнительная информация по туру (блок tourinfo).
 
В данном теге содержится несколько разделов с расширенной информацией по туру. Каждый из разделов появляется только в том случае, если соответствующая информация доступна.
 
Раздел addpayments – содержит массив с дополнительными обязательными доплатами к туру (помимо топливного сбора) – это могут быть страховка от невыезда, новогодний ужин, обязательные экскурсии и т.п.:
name – наименование доплаты
amount – сумма доплаты в выбранной валюте, указывается на человека
 
Раздел contents – содержит массив с текстовым описанием состава тура. Данная информация передается только в том случае, если четкое описание состава тура удалось получить из системы туроператора. В случае, если такая информация недоступна, в системе TourVisor используется стандартный набор для состава тура: «Авиаперелет, Проживание в отеле, Питание, Медицинская страховка, Трансфер». Для определения того, какие услуги фактически не включены в состав тура можно использовать следующий раздел (flags).
К сожалению, не во всех случаях удается достоверно определить, к примеру, отсутствие трансфера в составе тура. Поэтому Вы сами можете решить стоит ли отображать стандартный набор услуг в случае, если массив contents пустой.
 
Раздел flags – содержит набор меток об отсутствии той или иной услуги в составе тура. Соответствующая метка ставится только в том случае, если услуга не включена в состав тура. По этим меткам Вы сможете определить какие услуги не входят в тур и соответствующим образом сформировать стандартный набор состава тура, либо, к примеру, отобразить соответствующее предупреждение для туриста:
notransfer – трансфер не входит в состав тура
nomedinsurance – медицинская страховка не входит в состав тура
noflight – перелет не входит в состав тура (только проживание в отеле)
nomeal – питание не входит в состав тура (как правило, указывается для типа питания «Без питания).


Описание отелей TourVisor

XML шлюз TOURVISOR
 
ОПИСАНИЯ ОТЕЛЕЙ
 
        	Сервис получения информации по отелям – детального описания и списка фотографий. Позволяет получать информацию в формате XML либо JSON, тем самым возможно реализовать полностью индивидуальное оформление карточки (описания) отеля.
        	Получение информации по отелям осуществляется путем GET-запроса на адрес:
        	http://tourvisor.ru/xml/hotel.php
        	Результаты выдаются в кодировке UTF-8 (Unicode).
 
1.     Авторизация.
При работе со шлюзом требуется авторизация. Для этого используется логин и пароль от личного кабинета TourVisor.ru.
Параметры авторизации:
authlogin – логин в системе TourVisor
authpass – пароль в системе TourVisor
Пример:
http://tourvisor.ru/xml/hotel.php?format=xml&hotelcode=104&authlogin=testsite&authpass=123123
 
2.     Основные параметры.
format - формат выдачи xml или json  (по умолчанию json)
hotelcode – код отеля (можно получить из результатов поиска или из справочника отелей). Указывается обязательно!
 
3.     Дополнительные параметры.
imgbig – если равно 1, то выдаются фотографии шириной 800 пикс (если есть),
либо 400 пикс. Если равно 0, то выдаются фотографии 400 пикс (старая схема).
removetags – убирать HTML теги из списков. По умолчанию списки (например, список услуг в отеле) передаются с HTML тегами, которые формируют список (LI). Если задать параметр removetags=1, то вместо HTML тегов элементы списка разделяются просто точкой с запятой.
reviews – если этот параметр = 1, то в выдачу включаются также отзывы по отелю (при их наличии). Подробнее см.пункт 6 данной документации.
 
 
4.     Описание отеля.
В ответе на запрос передается доступная информация по отелю, а также список ссылок на фотографии отеля. Ниже перечислены возможные поля, которые содержат информацию. Обратите внимание, что описания отелей разнородны, поэтому далеко не все поля могут быть заполнены. Передаются только те поля, в которых содержится информация.
name – название отеля
stars – звездность отеля (цифра)
region – название курорта
regioncode – код курорта
country – название страны
countrycode – код страны
rating – рейтинг отеля
placement – местоположение отеля
phone – телефон отеля
site – сайт
build – год постройки отеля
repair – год последнего ремонта в отеле
square – площадь отеля
description –описание отеля
territory – инфраструктура отеля (что находится на территории)
inroom – описания стандартного номера (что находится в номере)
roomtypes – типы номеров (список)
services – список услуг в отеле
servicefree – список бесплатных услуг в отеле
servicepay – список платных услуг в отеле
animation – развлечения (анимация) в отеле
child – услуги для детей
beach – описание пляжа
meallist – список типов питания в отеле
mealtypes – описание питания
 
images – список ссылок на фотографии отеля
imagescount – количество фотографий отеля
 
Если есть координаты отеля они передаются в полях:
coord1 – координата 1 (Latitude)
coord2 – координата 2 (Longitude)
 
5.     Фотографии отеля.
В теге images содержится набор элементов image, каждый из которых содержит ссылку на фотографию отеля.
Ширина фотографий (или высота, если фотография ориентирована вертикально) = 800 пикселей (если доступно), либо 400 пикселей. Основная масса фотографий уже доступна в качестве 800 пикс, в будущем планируется все фото отелей перевести на качество 800 пикс.
 
ВАЖНО! Допускается вставка на Ваш сайт только фотографий, которые загружаются с наших серверов по указанным в шлюзе ссылкам. Т.е. если Вы вставляете теги IMG и указываете в атрибуте SRC ссылку, которую получили из шлюза, то в этом случае фотография отобразится корректно.
Запрещается загружать фотографии на Ваши сервера!
 
6.     Отзывы по отелю.
Если в запросе добавлен параметр reviews=1, то в теге reviews будет передан набор отзывов по данному отелю (если по отелю есть отзывы в нашей системе). Передаются последние 5 отзывов.
Важно! Используйте данный параметр только если Вам действительно нужны отзывы! Отзывы достаточно объемные и их включение сильно увеличивает размер и время ответа сервера.
Отзывы представлены в виде массива элементов review, каждый из которых содержит несколько полей:
Name – имя туриста, который оставил отзыв
Content – содержание (основной текст) отзыва
Positive – плюсы (положительные стороны) отеля, если есть
Negative – минусы (отрицательные стороны) отеля, если есть
Traveltime – время поездки в отель (обычно месяц и год)
Rate – как турист оценил отель (от 1 до 5)
Reviewdate – дата публикации отзыва
Reviewtime – время публикации отзыва
Sourcelink – ссылка на источник отзыва – очень важно ее публиковать – см.ниже
Часть полей могут быть пустыми.
 
ВАЖНО! Мы получаем отзывы от наших партнеров – порталов tury.ru, otzyv.ru, votpusk.ru (список партнеров может быть увеличен или уменьшен). В поле sourcelink передается ссылка на исходный текст отзыва на сайте соответствующего партнера. По соглашению с партнерами необходимо при публикации отзыва размещать рядом ссылку, так, чтобы клиент смог перейти по ссылке на исходный отзыв. Например, это можно сделать так: «Отзыв предоставлен порталом tury.ru» и ссылка ведет на отзыв.
В случае, если Вы не разместите соответствующую ссылку на сайт партнера при публикации отзыва, мы не несем ответственности за любые претензии соответствующих порталов в Ваш адрес.
Пример размещения ссылки:
http://manyhotels.ru/#!/hotel=absolute-patong-ville&showreviews=1&review_id=38616

Вот карточка тура выводит краткую информацию по туру

import 'package:appoffice_byfly_kz/functions/text_transform.dart';
import 'package:appoffice_byfly_kz/global/global_variable.dart';
import 'package:appoffice_byfly_kz/global/search_global.dart';
import 'package:appoffice_byfly_kz/screens/hotel_info_page.dart';
import 'package:appoffice_byfly_kz/widgets/image_loader.dart';
import 'package:easy_localization/easy_localization.dart';
import 'package:eva_icons_flutter/eva_icons_flutter.dart';
import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:font_awesome_flutter/font_awesome_flutter.dart';
import 'package:ionicons/ionicons.dart';
import 'package:persistent_bottom_nav_bar_plus/persistent_bottom_nav_bar_plus.dart';
import 'package:provider/provider.dart';

class CardTour extends StatefulWidget {
  final String hotelId;
  final String tourId;
  final String hotelName;
  final String countryTo;
  final String regionTo;
  final int price;
  final List<String> images;
  final int? sales;
  final double reiting;
  final int countStars;
  final int countAdult;
  final int countChildren;
  final Map tourInfo;
  final int seadistance;
  final bool onlyHotel;
  final List<dynamic>? listTours;
  final bool dontTap;
  final VoidCallback func;
  final bool isSuperSales;
  final int? counPlace;
  final int? countPlaceLost;

  const CardTour({
    super.key,
    required this.hotelName,
    required this.countryTo,
    required this.regionTo,
    required this.price,
    required this.images,
    this.sales,
    required this.reiting,
    required this.countStars,
    required this.countAdult,
    required this.countChildren,
    required this.tourInfo,
    required this.seadistance,
    this.onlyHotel = false,
    required this.hotelId,
    required this.tourId,
    this.listTours,
    this.dontTap = false,
    this.func = _defoultFunc,
    this.isSuperSales = false,
    this.counPlace,
    this.countPlaceLost,
  });

  static void _defoultFunc() {}

  @override
  State<CardTour> createState() => _CardTourState();
}

class _CardTourState extends State<CardTour> {
  int getPriceTours({required String price}) {
    int pr = int.parse(price.toString());
    if (context.read<GlobalSearchTours>().isAuthUser) {
      if (context.read<GlobalSearchTours>().isAgent) {
        if (int.parse(context
                .read<GlobalSearchTours>()
                .userInfo['search_nakrutka']
                .toString()) ==
            1) {
          if (int.parse(context
                  .read<GlobalSearchTours>()
                  .userInfo['defoult_nakrutka']
                  .toString()) >
              0) {
            int yyy = pr +
                ((pr / 100) *
                        int.parse(context
                            .read<GlobalSearchTours>()
                            .userInfo['defoult_nakrutka']
                            .toString()))
                    .ceil();
            return yyy;
          } else {
            return pr;
          }
        } else {
          return pr;
        }
      } else {
        return pr;
      }
    } else {
      return pr;
    }
  }

  String _getFlightStatusText(int? status) {
    switch (status) {
      case 1:
        return 'Под запрос';
      case 2:
        return 'Мало мест';
      default:
        return 'Есть места';
    }
  }

  String _getHotelStatusText(int? status) {
    switch (status) {
      case 1:
        return 'Под запрос';
      case 2:
        return 'Мгновенное бронирование';
      default:
        return 'Есть свободные номера';
    }
  }

  Color _getStatusColor(int? status) {
    switch (status) {
      case 1:
        return const Color(0xFFFFA726); // Оранжевый
      case 2:
        return const Color(0xFF66BB6A); // Зеленый
      default:
        return const Color(0xFF42A5F5); // Синий
    }
  }

  IconData _getStatusIcon(int? status) {
    switch (status) {
      case 1:
        return Icons.access_time;
      case 2:
        return Icons.warning_amber_rounded;
      default:
        return Icons.check_circle_outline;
    }
  }

  @override
  Widget build(BuildContext context) {
    final theme = Theme.of(context);
    final screenWidth = MediaQuery.of(context).size.width;
    final isSmallScreen = screenWidth < 400;

    Color cardColor = Colors.white;
    Color textColor = Colors.black87;
    Color primaryColor = theme.primaryColor;
    Color ratingColor = const Color(0xFFFFD700);
    Color discountColor = const Color(0xFFE53935);
    Color seaDistanceColor = const Color(0xFF00ACC1);
    Color mealColor = const Color(0xFF43A047);
    Color placesColor = const Color(0xFF5E35B1);
    Color flightIncludedColor = const Color(0xFF1E88E5);
    Color flightNotIncludedColor = const Color(0xFFF4511E);

    // Фильтруем доступные изображения
    final availableImages =
        widget.images.where((image) => image.isNotEmpty).toList();

    // Если нет доступных изображений, не показываем карточку
    if (availableImages.isEmpty) {
      return const SizedBox.shrink();
    }

    return InkWell(
      onTap: () {
        if (!widget.dontTap) {
          if (widget.isSuperSales) {
            if (widget.countPlaceLost != null && widget.countPlaceLost! > 0) {
              if (int.parse(context
                          .read<GlobalSearchTours>()
                          .userInfo['search_nakrutka']
                          .toString()) ==
                      1 &&
                  int.parse(context
                          .read<GlobalSearchTours>()
                          .userInfo['defoult_nakrutka']
                          .toString()) >
                      0) {
                PersistentNavBarNavigator.pushDynamicScreen(
                  context,
                  screen: CupertinoPageRoute(
                    builder: (context) => HotelInfoPages(
                      hotelId: widget.hotelId,
                      toursId: widget.tourId,
                      listToursLoad: widget.listTours,
                      isSuperSales: widget.isSuperSales,
                      nakrutka: int.parse(context
                          .read<GlobalSearchTours>()
                          .userInfo['defoult_nakrutka']
                          .toString()),
                    ),
                  ),
                  withNavBar: true,
                );
              } else {
                PersistentNavBarNavigator.pushDynamicScreen(
                  context,
                  screen: CupertinoPageRoute(
                    builder: (context) => HotelInfoPages(
                      hotelId: widget.hotelId,
                      toursId: widget.tourId,
                      listToursLoad: widget.listTours,
                      isSuperSales: widget.isSuperSales,
                    ),
                  ),
                  withNavBar: true,
                );
              }
            }
          } else {
            if (context.read<GlobalSearchTours>().isAuthUser &&
                int.parse(context
                        .read<GlobalSearchTours>()
                        .userInfo['search_nakrutka']
                        .toString()) ==
                    1 &&
                int.parse(context
                        .read<GlobalSearchTours>()
                        .userInfo['defoult_nakrutka']
                        .toString()) >
                    0) {
              PersistentNavBarNavigator.pushDynamicScreen(
                context,
                screen: CupertinoPageRoute(
                  builder: (context) => HotelInfoPages(
                    hotelId: widget.hotelId,
                    toursId: widget.tourId,
                    listToursLoad: widget.listTours,
                    isSuperSales: widget.isSuperSales,
                    nakrutka: int.parse(context
                        .read<GlobalSearchTours>()
                        .userInfo['defoult_nakrutka']
                        .toString()),
                  ),
                ),
                withNavBar: true,
              );
            } else {
              PersistentNavBarNavigator.pushDynamicScreen(
                context,
                screen: CupertinoPageRoute(
                    builder: (context) => HotelInfoPages(
                          hotelId: widget.hotelId,
                          toursId: widget.tourId,
                          listToursLoad: widget.listTours,
                          isSuperSales: widget.isSuperSales,
                        )),
                withNavBar: true,
              );
            }
          }
        } else {
          widget.func();
        }
      },
      child: Opacity(
        opacity: widget.countPlaceLost != null && widget.countPlaceLost! < 1
            ? 0.3
            : 1.0,
        child: Stack(
          alignment: Alignment.topRight,
          children: [
            Container(
              margin: const EdgeInsets.only(bottom: 20),
              decoration: BoxDecoration(
                color: cardColor,
                borderRadius: BorderRadius.circular(12),
                boxShadow: [
                  BoxShadow(
                    color: Colors.black.withOpacity(0.1),
                    blurRadius: 10,
                    spreadRadius: 1,
                    offset: const Offset(0, 3),
                  )
                ],
              ),
              child: ClipRRect(
                borderRadius: BorderRadius.circular(12),
                child: Column(
                  crossAxisAlignment: CrossAxisAlignment.stretch,
                  children: [
                    Stack(
                      fit: StackFit.passthrough,
                      children: [
                        ImgNetwork(
                          link: availableImages[0],
                          fit: BoxFit.cover,
                          height: isSmallScreen ? 160 : 200,
                        ),
                        Container(
                          height: isSmallScreen ? 160 : 200,
                          decoration: BoxDecoration(
                            gradient: LinearGradient(
                              begin: Alignment.topCenter,
                              end: Alignment.bottomCenter,
                              colors: [
                                Colors.black.withOpacity(0.5),
                                Colors.transparent,
                                Colors.transparent,
                                Colors.black.withOpacity(0.2),
                              ],
                            ),
                          ),
                          child: Column(
                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                            crossAxisAlignment: CrossAxisAlignment.start,
                            children: [
                              Row(
                                mainAxisAlignment:
                                    MainAxisAlignment.spaceBetween,
                                children: [
                                  Container(
                                    margin: const EdgeInsets.all(10),
                                    padding: const EdgeInsets.symmetric(
                                      vertical: 6,
                                      horizontal: 10,
                                    ),
                                    decoration: BoxDecoration(
                                      color: primaryColor.withOpacity(0.9),
                                      borderRadius: BorderRadius.circular(6),
                                    ),
                                    child: Text(
                                      nightsText(widget.tourInfo['nights']),
                                      style: const TextStyle(
                                        color: Colors.white,
                                        fontWeight: FontWeight.bold,
                                        fontSize: 14,
                                      ),
                                    ),
                                  ),
                                  if (widget.countPlaceLost != null)
                                    Container(
                                      margin: const EdgeInsets.all(10),
                                      padding: const EdgeInsets.symmetric(
                                        vertical: 6,
                                        horizontal: 10,
                                      ),
                                      decoration: BoxDecoration(
                                        color: placesColor.withOpacity(0.9),
                                        borderRadius: BorderRadius.circular(6),
                                      ),
                                      child: Row(
                                        children: [
                                          const Icon(
                                            Icons.airline_seat_recline_normal,
                                            color: Colors.white,
                                            size: 14,
                                          ),
                                          const SizedBox(width: 5),
                                          Text(
                                            declinePlaces(
                                                widget.countPlaceLost!),
                                            style: const TextStyle(
                                              color: Colors.white,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 14,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                ],
                              ),
                              Row(
                                mainAxisAlignment:
                                    MainAxisAlignment.spaceBetween,
                                children: [
                                  if (widget.seadistance > 0)
                                    Container(
                                      padding: const EdgeInsets.symmetric(
                                        horizontal: 10,
                                        vertical: 6,
                                      ),
                                      margin: const EdgeInsets.only(left: 10),
                                      decoration: BoxDecoration(
                                        borderRadius: BorderRadius.circular(6),
                                        color:
                                            seaDistanceColor.withOpacity(0.9),
                                      ),
                                      child: Row(
                                        children: [
                                          const Icon(
                                            FontAwesomeIcons.umbrellaBeach,
                                            color: Colors.white,
                                            size: 14,
                                          ),
                                          const SizedBox(width: 6),
                                          Text(
                                            '${widget.seadistance} ${'meters_beach'.tr()}',
                                            style: const TextStyle(
                                              color: Colors.white,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 14,
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                  Container(
                                    margin: const EdgeInsets.all(10),
                                    padding: const EdgeInsets.symmetric(
                                      vertical: 6,
                                      horizontal: 10,
                                    ),
                                    decoration: BoxDecoration(
                                      color: mealColor.withOpacity(0.9),
                                      borderRadius: BorderRadius.circular(6),
                                    ),
                                    child: Row(
                                      children: [
                                        Text(
                                          '${widget.tourInfo['mealrussian'] != 'NM' ? context.locale.languageCode == 'ru' ? widget.tourInfo['mealrussian'] : globalData['meals_desc'][widget.tourInfo['meal']]['title_${context.locale.languageCode}'] : 'dont_meals'.tr()}',
                                          style: const TextStyle(
                                            color: Colors.white,
                                            fontWeight: FontWeight.bold,
                                            fontSize: 14,
                                          ),
                                        ),
                                        const SizedBox(width: 8),
                                        const Icon(
                                          Ionicons.restaurant,
                                          size: 16,
                                          color: Colors.white,
                                        ),
                                      ],
                                    ),
                                  ),
                                ],
                              )
                            ],
                          ),
                        )
                      ],
                    ),
                    Padding(
                      padding: const EdgeInsets.all(16),
                      child: Column(
                        children: [
                          Row(
                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                            children: [
                              Expanded(
                                child: Column(
                                  crossAxisAlignment: CrossAxisAlignment.start,
                                  children: [
                                    Row(
                                      children: [
                                        ...List<Widget>.generate(
                                          widget.countStars,
                                          (index) => const Icon(
                                            EvaIcons.star,
                                            color: Color(0xFFFFD700),
                                            size: 16,
                                          ),
                                        ),
                                        const SizedBox(width: 8),
                                        if (widget.reiting > 0)
                                          Container(
                                            padding: const EdgeInsets.symmetric(
                                              horizontal: 6,
                                              vertical: 2,
                                            ),
                                            decoration: BoxDecoration(
                                              color: ratingColor,
                                              borderRadius:
                                                  BorderRadius.circular(4),
                                            ),
                                            child: Row(
                                              mainAxisSize: MainAxisSize.min,
                                              children: [
                                                Text(
                                                  widget.reiting.toString(),
                                                  style: const TextStyle(
                                                    color: Colors.black87,
                                                    fontWeight: FontWeight.bold,
                                                    fontSize: 12,
                                                  ),
                                                ),
                                                const SizedBox(width: 2),
                                                const Icon(
                                                  Icons.star,
                                                  color: Colors.black87,
                                                  size: 12,
                                                ),
                                              ],
                                            ),
                                          ),
                                      ],
                                    ),
                                    const SizedBox(height: 12),
                                    Text(
                                      widget.hotelName,
                                      maxLines: 2,
                                      overflow: TextOverflow.ellipsis,
                                      style: TextStyle(
                                        color: textColor,
                                        fontWeight: FontWeight.bold,
                                        fontSize: isSmallScreen ? 14 : 16,
                                        height: 1.2,
                                      ),
                                    ),
                                    const SizedBox(height: 4),
                                    Row(
                                      children: [
                                        const Icon(
                                          Icons.location_on,
                                          color: Colors.grey,
                                          size: 14,
                                        ),
                                        const SizedBox(width: 4),
                                        Expanded(
                                          child: Text(
                                            "${widget.countryTo}, ${widget.regionTo}",
                                            style: TextStyle(
                                              fontWeight: FontWeight.w500,
                                              color: Colors.grey.shade700,
                                              fontSize: isSmallScreen ? 11 : 12,
                                            ),
                                          ),
                                        ),
                                      ],
                                    ),
                                    const SizedBox(height: 12),
                                    if (widget.tourInfo['room'] != null)
                                      Row(
                                        children: [
                                          const Icon(
                                            Icons.king_bed,
                                            color: Colors.grey,
                                            size: 14,
                                          ),
                                          const SizedBox(width: 4),
                                          Text(
                                            "${'room'.tr()} - ${widget.tourInfo['room'].toString().toUpperCase()}",
                                            style: TextStyle(
                                              color: Colors.grey.shade700,
                                              fontWeight: FontWeight.w500,
                                              fontSize: isSmallScreen ? 11 : 12,
                                            ),
                                          ),
                                        ],
                                      ),
                                    if (widget.tourInfo['city_oute'] != null ||
                                        widget.tourInfo['flydate'] != null)
                                      Padding(
                                        padding: const EdgeInsets.only(top: 8),
                                        child: Row(
                                          children: [
                                            const Icon(
                                              Icons.flight_takeoff,
                                              color: Colors.grey,
                                              size: 14,
                                            ),
                                            const SizedBox(width: 4),
                                            Expanded(
                                              child: Text(
                                                "${widget.onlyHotel ? 'zaezd'.tr() : 'oute_fly'.tr()} ${widget.tourInfo['city_oute'] != null ? 'из ${widget.tourInfo['city_oute']}' : ''}${widget.tourInfo['flydate'] != null ? ' - ${formatDateMonth(widget.tourInfo['flydate'])}' : ''}",
                                                style: TextStyle(
                                                  color: Colors.grey.shade700,
                                                  fontWeight: FontWeight.w500,
                                                  fontSize:
                                                      isSmallScreen ? 11 : 12,
                                                ),
                                              ),
                                            ),
                                          ],
                                        ),
                                      ),
                                    const SizedBox(height: 8),
                                    // Статус рейса - всегда показываем
                                    Container(
                                      padding: const EdgeInsets.symmetric(
                                        horizontal: 8,
                                        vertical: 6,
                                      ),
                                      decoration: BoxDecoration(
                                        color: _getStatusColor(
                                                widget.tourInfo['flightstatus'])
                                            .withOpacity(0.1),
                                        borderRadius: BorderRadius.circular(6),
                                      ),
                                      child: Row(
                                        children: [
                                          Icon(
                                            _getStatusIcon(widget
                                                .tourInfo['flightstatus']),
                                            size: 16,
                                            color: _getStatusColor(widget
                                                .tourInfo['flightstatus']),
                                          ),
                                          const SizedBox(width: 8),
                                          Expanded(
                                            child: Text(
                                              'Места на рейсе: ${_getFlightStatusText(widget.tourInfo['flightstatus'])}',
                                              style: TextStyle(
                                                color: Colors.grey.shade800,
                                                fontWeight: FontWeight.w500,
                                                fontSize:
                                                    isSmallScreen ? 11 : 12,
                                              ),
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                    const SizedBox(height: 6),
                                    // Статус отеля - всегда показываем
                                    Container(
                                      padding: const EdgeInsets.symmetric(
                                        horizontal: 8,
                                        vertical: 6,
                                      ),
                                      decoration: BoxDecoration(
                                        color: _getStatusColor(
                                                widget.tourInfo['hotelstatus'])
                                            .withOpacity(0.1),
                                        borderRadius: BorderRadius.circular(6),
                                      ),
                                      child: Row(
                                        children: [
                                          Icon(
                                            _getStatusIcon(
                                                widget.tourInfo['hotelstatus']),
                                            size: 16,
                                            color: _getStatusColor(
                                                widget.tourInfo['hotelstatus']),
                                          ),
                                          const SizedBox(width: 8),
                                          Expanded(
                                            child: Text(
                                              'Номера в отеле: ${_getHotelStatusText(widget.tourInfo['hotelstatus'])}',
                                              style: TextStyle(
                                                color: Colors.grey.shade800,
                                                fontWeight: FontWeight.w500,
                                                fontSize:
                                                    isSmallScreen ? 11 : 12,
                                              ),
                                            ),
                                          ),
                                        ],
                                      ),
                                    ),
                                    // Доплаты - если есть
                                    if (widget.tourInfo['has_surcharge'] ==
                                        true)
                                      Padding(
                                        padding: const EdgeInsets.only(top: 6),
                                        child: Container(
                                          padding: const EdgeInsets.symmetric(
                                            horizontal: 8,
                                            vertical: 6,
                                          ),
                                          decoration: BoxDecoration(
                                            color:
                                                Colors.amber.withOpacity(0.1),
                                            borderRadius:
                                                BorderRadius.circular(6),
                                          ),
                                          child: Row(
                                            children: [
                                              const Icon(
                                                Icons.monetization_on,
                                                size: 16,
                                                color: Colors.amber,
                                              ),
                                              const SizedBox(width: 8),
                                              Text(
                                                'Возможны доплаты',
                                                style: TextStyle(
                                                  color: Colors.grey.shade800,
                                                  fontWeight: FontWeight.w500,
                                                  fontSize:
                                                      isSmallScreen ? 11 : 12,
                                                ),
                                              ),
                                            ],
                                          ),
                                        ),
                                      ),
                                  ],
                                ),
                              ),
                            ],
                          ),
                          const SizedBox(height: 12),
                          Divider(
                            height: 1,
                            color: Colors.grey.withOpacity(0.2),
                          ),
                          const SizedBox(height: 12),
                          Row(
                            mainAxisAlignment: MainAxisAlignment.spaceBetween,
                            children: [
                              Column(
                                crossAxisAlignment: CrossAxisAlignment.start,
                                children: [
                                  Text(
                                    'price_of'.tr(),
                                    style: TextStyle(
                                      color: Colors.grey.shade600,
                                      fontSize: isSmallScreen ? 11 : 12,
                                    ),
                                  ),
                                  Text(
                                    '${widget.countAdult} ${widget.countAdult > 1 ? 'adults_text'.tr() : 'adults_text3'.tr()} ${widget.countChildren > 0 ? ' + ${widget.countChildren} ${widget.countChildren > 1 ? 'childrens'.tr() : 'child_text'.tr()}' : ''}',
                                    style: TextStyle(
                                      color: textColor,
                                      fontWeight: FontWeight.bold,
                                      fontSize: isSmallScreen ? 11 : 12,
                                    ),
                                  ),
                                ],
                              ),
                              Column(
                                crossAxisAlignment: CrossAxisAlignment.end,
                                children: [
                                  Row(
                                    mainAxisAlignment: MainAxisAlignment.end,
                                    children: [
                                      if (widget.tourInfo['priceold'] != null)
                                        Padding(
                                          padding:
                                              const EdgeInsets.only(right: 8),
                                          child: priceText(
                                            showCode: false,
                                            price: getPriceTours(
                                              price: widget.tourInfo['priceold']
                                                  .toString(),
                                            ),
                                            style: TextStyle(
                                              fontWeight: FontWeight.w400,
                                              fontSize: isSmallScreen ? 12 : 14,
                                              color: Colors.grey.shade500,
                                              decorationStyle:
                                                  TextDecorationStyle.solid,
                                              decoration:
                                                  TextDecoration.lineThrough,
                                            ),
                                            iconSize: 0,
                                          ),
                                        ),
                                      priceText(
                                        price: getPriceTours(
                                          price: widget.price.toString(),
                                        ),
                                        style: TextStyle(
                                          color: primaryColor,
                                          fontWeight: FontWeight.bold,
                                          fontSize: isSmallScreen ? 16 : 18,
                                        ),
                                        iconSize: isSmallScreen ? 16 : 18,
                                      ),
                                      if (widget.tourInfo['priceold'] != null)
                                        Container(
                                          decoration: BoxDecoration(
                                            color: discountColor,
                                            borderRadius:
                                                BorderRadius.circular(4),
                                          ),
                                          margin:
                                              const EdgeInsets.only(left: 8),
                                          padding: const EdgeInsets.symmetric(
                                            vertical: 4,
                                            horizontal: 6,
                                          ),
                                          child: Text(
                                            '-${calculatePercentageDifference(int.parse(widget.price.toString()).toDouble(), getPriceTours(price: widget.tourInfo['priceold'].toString()).toDouble())}%',
                                            style: const TextStyle(
                                              color: Colors.white,
                                              fontWeight: FontWeight.bold,
                                              fontSize: 14,
                                            ),
                                          ),
                                        ),
                                    ],
                                  ),
                                  const SizedBox(height: 4),
                                  Container(
                                    padding: const EdgeInsets.symmetric(
                                      horizontal: 8,
                                      vertical: 4,
                                    ),
                                    decoration: BoxDecoration(
                                      color: widget.onlyHotel
                                          ? flightNotIncludedColor
                                              .withOpacity(0.1)
                                          : flightIncludedColor
                                              .withOpacity(0.1),
                                      borderRadius: BorderRadius.circular(4),
                                      border: Border.all(
                                        color: widget.onlyHotel
                                            ? flightNotIncludedColor
                                            : flightIncludedColor,
                                        width: 1,
                                      ),
                                    ),
                                    child: Row(
                                      mainAxisSize: MainAxisSize.min,
                                      children: [
                                        Icon(
                                          Ionicons.airplane,
                                          size: 14,
                                          color: widget.onlyHotel
                                              ? flightNotIncludedColor
                                              : flightIncludedColor,
                                        ),
                                        const SizedBox(width: 4),
                                        Text(
                                          widget.onlyHotel
                                              ? 'dont_avia_of_price'.tr()
                                              : 'avia_in_price'.tr(),
                                          style: TextStyle(
                                            fontWeight: FontWeight.w600,
                                            fontSize: isSmallScreen ? 11 : 12,
                                            color: widget.onlyHotel
                                                ? flightNotIncludedColor
                                                : flightIncludedColor,
                                          ),
                                        ),
                                      ],
                                    ),
                                  ),
                                ],
                              ),
                            ],
                          ),
                        ],
                      ),
                    ),
                  ],
                ),
              ),
            ),
            // Бейдж "Осталось мало мест" - только если статус рейса = 2
            if (widget.tourInfo['flightstatus'] != null &&
                widget.tourInfo['flightstatus'] == 2)
              Positioned(
                top: 0,
                right: 0,
                child: Container(
                  padding: const EdgeInsets.symmetric(
                    horizontal: 12,
                    vertical: 6,
                  ),
                  decoration: BoxDecoration(
                    gradient: LinearGradient(
                      colors: [
                        const Color(0xFFFF7043).withOpacity(0.9),
                        const Color(0xFFFF5252).withOpacity(0.9),
                      ],
                      begin: Alignment.topLeft,
                      end: Alignment.bottomRight,
                    ),
                    borderRadius: const BorderRadius.only(
                      bottomLeft: Radius.circular(12),
                      topRight: Radius.circular(12),
                    ),
                    boxShadow: [
                      BoxShadow(
                        color: Colors.black.withOpacity(0.2),
                        blurRadius: 4,
                        offset: const Offset(0, 2),
                      ),
                    ],
                  ),
                  child: Row(
                    children: [
                      const Icon(
                        Icons.warning_amber_rounded,
                        color: Colors.white,
                        size: 16,
                      ),
                      const SizedBox(width: 6),
                      Text(
                        'Мало мест',
                        style: TextStyle(
                          color: Colors.white,
                          fontWeight: FontWeight.bold,
                          fontSize: isSmallScreen ? 11 : 12,
                        ),
                      ),
                    ],
                  ),
                ),
              ),
          ],
        ),
      ),
    );
  }
}